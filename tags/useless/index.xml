<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Useless on Maerlyn's Rainbow</title><link>https://wizmann.top/tags/useless/</link><description>Recent content in Useless on Maerlyn's Rainbow</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 14 Dec 2013 00:00:00 +0000</lastBuildDate><atom:link href="https://wizmann.top/tags/useless/index.xml" rel="self" type="application/rss+xml"/><item><title>è‡ªå·±åŠ¨æ‰‹æ­å»ºç¬¬ä¸‰æ–¹çš„Codeforces CDN</title><link>https://wizmann.top/posts/third-party-codeforces-cdn/</link><pubDate>Sat, 14 Dec 2013 00:00:00 +0000</pubDate><guid>https://wizmann.top/posts/third-party-codeforces-cdn/</guid><description>&lt;h2 id="å•¥">å•¥ï¼Ÿ &lt;a href="#%e5%95%a5" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>æ ¡å›­ç½‘ä¸ŠCFé‚£å«ä¸€ä¸ªå¡ã€‚&lt;/p>
&lt;p>åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å› ä¸ºcodeforceså¤§é‡çš„ä½¿ç”¨äº†ajaxæŠ€æœ¯ï¼Œæ‰€ä»¥å¼•ç”¨äº†å¾ˆå¤šjs/cssæ–‡ä»¶ï¼Œå¹¶ä¸”å¼•ç”¨çš„ä½ç½®ä½äºé¡µé¢ä¹‹å‰ã€‚&lt;/p>
&lt;p>è¿™å°±é€ æˆäº†ï¼Œæˆ‘ä»¬åœ¨ä¸ŠCFçš„æ—¶å€™ï¼Œå…¶å®é¡µé¢å†…å®¹å·²ç»è¯»å–å‡ºæ¥äº†ã€‚ä½†æ˜¯å› ä¸ºjs/cssæ–‡ä»¶æ²¡æœ‰åŠ è½½å®Œæˆï¼Œæ‰€ä»¥é¡µé¢è¿˜æ˜¯ä¸€ç‰‡ç©ºç™½ã€‚&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ &lt;a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>ç”±äºjs/css/imgæ–‡ä»¶éƒ½æ˜¯æ‰€è°“çš„&lt;code>é™æ€&lt;/code>æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç¼“å­˜è¿™äº›æ–‡ä»¶åˆ°ä¸€ä¸ªè®¿é—®é€Ÿåº¦å¿«çš„ç½‘ç»œä¸Šæ¥ã€‚&lt;/p>
&lt;p>è¿™å°±æ˜¯CDNæŠ€æœ¯ã€‚&lt;/p>
&lt;blockquote>
&lt;p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚å…¶ç›®çš„æ˜¯é€šè¿‡åœ¨ç°æœ‰çš„Internetä¸­å¢åŠ ä¸€å±‚æ–°çš„ç½‘ç»œæ¶æ„ï¼Œå°†ç½‘ç«™çš„å†…å®¹å‘å¸ƒåˆ°æœ€æ¥è¿‘ç”¨æˆ·çš„ç½‘ç»œâ€œè¾¹ç¼˜â€ï¼Œä½¿ç”¨æˆ·å¯ä»¥å°±è¿‘å–å¾—æ‰€éœ€çš„å†…å®¹ï¼Œæé«˜ç”¨æˆ·è®¿é—®ç½‘ç«™çš„å“åº”é€Ÿåº¦&lt;/p>&lt;/blockquote>
&lt;p>ä½†æ˜¯ä¿„ç½—æ–¯äººé‚£è¾¹æ²¡æœ‰åšCDNï¼Œæˆ–è€…ä»–ä»¬çš„CDNè·ç¦»å¤©æœå®åœ¨æ˜¯å¤ªè¿œäº†ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æˆ‘ä»¬åªå¥½æ‰‹åŠ¨ç¼“å­˜è¿™äº›é™æ€æ–‡ä»¶åˆ°ä¸ƒç‰›äº‘ä¸Šï¼Œä½¿ç”¨ä¸ƒç‰›çš„CDNæŠ€æœ¯æ¥åŠ é€Ÿæˆ‘ä»¬çš„è®¿é—®äº†ã€‚&lt;/p>
&lt;p>&lt;a href="http://www.qiniu.com/">ä¸ƒç‰›äº‘&lt;/a>ä¸ºä¸ªäººç”¨æˆ·æä¾›äº†10Gå­˜å‚¨ç©ºé—´å’Œæ¯æœˆ10Gæµé‡ï¼Œè¿™å¯¹äºæˆ‘ä»¬ç¼“å­˜ä¸€ä¸ªç½‘ç«™çš„é™æ€æ–‡ä»¶æ¥è¯´ï¼Œå·²ç»è¶³å¯Œè£•äº†ã€‚æ ¹æ®æˆ‘ç°åœ¨çš„ä½¿ç”¨çŠ¶å†µï¼Œæ‰€æœ‰é™æ€æ–‡ä»¶åŠ åœ¨ä¸€èµ·å¤§æ¦‚åœ¨3Må·¦å³ï¼Œæ­å»ºè¿™æ ·ä¸€ä¸ªå…è´¹CDNå¯ä»¥ä¾›åå‡ ä¸ªäººä½¿ç”¨ã€‚&lt;/p>
&lt;h2 id="è®¾è®¡æ¶æ„">è®¾è®¡æ¶æ„ &lt;a href="#%e8%ae%be%e8%ae%a1%e6%9e%b6%e6%9e%84" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>æˆ‘ä»¬ä½¿ç”¨&lt;code>CSæ¨¡å¼&lt;/code>æ¥å®Œæˆè¿™ä¸ªç½‘ç«™åŠ é€Ÿçš„ä»»åŠ¡ã€‚&lt;/p>
&lt;p>Serverç«¯å½“ç„¶å°±æ˜¯ä¸ƒç‰›äº‘å•¦ã€‚å¤æ‚çš„ä»»åŠ¡éƒ½äº¤ç»™äº†å·¥ç¨‹å¸ˆä»¬å®Œæˆï¼Œæˆ‘ä»¬åªéœ€è¦å£°æ˜éœ€è¦ç¼“å­˜&lt;code>codeforces.com&lt;/code>çš„é™æ€æ–‡ä»¶å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>Clientç«¯ä½¿ç”¨çš„æ˜¯Chrome-extensionã€‚Chrome-extensionä½¿ç”¨&lt;code>webRequest&lt;/code>æ¥â€œåŠ«æŒâ€æˆ‘ä»¬çš„æµé‡ï¼Œå°†å…¶æŒ‡å‘æˆ‘ä»¬çš„ä¸ƒç‰›äº‘ç¼“å­˜ã€‚&lt;/p>
&lt;h2 id="serverç«¯é…ç½®">Serverç«¯é…ç½® &lt;a href="#server%e7%ab%af%e9%85%8d%e7%bd%ae" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>éå¸¸ç®€å•çš„æ“ä½œã€‚è®¾ç½®ä¸€ä¸ªé•œåƒå­˜å‚¨å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-tk-pic/blog-codeforces-cdn-qiniu-settings.png" alt="ä¸ƒç‰›äº‘è®¾ç½®">&lt;/p>
&lt;p>ç„¶åæˆ‘ä»¬è®°ä¸‹ä¸ƒç‰›äº‘ä¸ºæˆ‘ä»¬åˆ†é…çš„åŸŸåï¼Œä»¥å¤‡åç”¨ã€‚&lt;/p>
&lt;h2 id="clientç«¯é…ç½®">Clientç«¯é…ç½® &lt;a href="#client%e7%ab%af%e9%85%8d%e7%bd%ae" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>è¿™ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä¸è¿‡ä¹Ÿæ˜¯å¾ˆè½»æ¾çš„ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå¼€å‘ç‰ˆçš„chrome-extensionã€‚ï¼ˆç”±äºæˆ‘æ²¡æœ‰å¼€å‘è€…è´¦å·ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯çº¿ä¸‹å¼€å‘ï¼Œæ”¾åˆ°githubä¸Šè®©å¤§å®¶æçš„ã€‚&lt;/p>
&lt;p>å†™&lt;code>manifest.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;name&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Codeforce CDNåŠ é€Ÿ&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;version&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;0.1&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;description&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;ä¸ªäººæ€§è¶£æ‰€è‡´ï¼Œä¸æ‰¿æ‹…ä»»ä½•å¯èƒ½çš„é£é™©&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;permissions&amp;#34;&lt;/span>: [
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;tabs&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;http://*.codeforces.com/*&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;http://*.codeforces.ru/*&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;webRequestBlocking&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;webRequest&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;background&amp;#34;&lt;/span>: { &lt;span style="color:#f92672">&amp;#34;scripts&amp;#34;&lt;/span>: [&lt;span style="color:#e6db74">&amp;#34;codeforces_cdn.js&amp;#34;&lt;/span>] },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;browser_action&amp;#34;&lt;/span>:{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;default_title&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Codeforce CDNåŠ é€Ÿ&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;default_icon&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;icon.png&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;icons&amp;#34;&lt;/span>:{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;16&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;icon.png&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;48&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;icon.png&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;128&amp;#34;&lt;/span>:&lt;span style="color:#e6db74">&amp;#34;icon.png&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;manifest_version&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åå†™&lt;code>background.js&lt;/code>ï¼Œâ€œåŠ«æŒâ€å‘å¾€&lt;code>work.codeforces.ru&lt;/code>çš„æµé‡ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">chrome&lt;/span>.&lt;span style="color:#a6e22e">webRequest&lt;/span>.&lt;span style="color:#a6e22e">onBeforeRequest&lt;/span>.&lt;span style="color:#a6e22e">addListener&lt;/span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">function&lt;/span>(&lt;span style="color:#a6e22e">details&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">console&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#a6e22e">details&lt;/span>.&lt;span style="color:#a6e22e">url&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">details&lt;/span>.&lt;span style="color:#a6e22e">url&lt;/span>.&lt;span style="color:#a6e22e">match&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;http://worker.codeforces.ru&amp;#34;&lt;/span>)) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> &lt;span style="color:#a6e22e">url&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">details&lt;/span>.&lt;span style="color:#a6e22e">url&lt;/span>.&lt;span style="color:#a6e22e">replace&lt;/span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;http://worker.codeforces.ru&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;http://ä½ çš„ä¸ƒç‰›äº‘åŸŸå.com&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> {&lt;span style="color:#a6e22e">redirectUrl&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">url&lt;/span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {&lt;span style="color:#a6e22e">urls&lt;/span>&lt;span style="color:#f92672">:&lt;/span>[&lt;span style="color:#e6db74">&amp;#34;http://worker.codeforces.ru/*&amp;#34;&lt;/span>]},
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#e6db74">&amp;#34;blocking&amp;#34;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åå®‰è£…æ’ä»¶ï¼Œå°±å¯ä»¥å®Œç¾ä½¿ç”¨äº†ã€‚&lt;/p>
&lt;p>æ ¹æ®æˆ‘çš„å®éªŒï¼Œåœ¨æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜çš„æƒ…å†µä¸‹ã€‚åŠ é€Ÿå‰éœ€è¦3minçš„é¡µé¢å¤§æ¦‚ç°åœ¨åªéœ€è¦ä¸åˆ°10sã€‚&lt;/p>
&lt;h2 id="æ½œåœ¨é—®é¢˜ä»¥åŠä¸å®Œç¾çš„è§£å†³æ–¹æ¡ˆ">æ½œåœ¨é—®é¢˜ä»¥åŠä¸å®Œç¾çš„è§£å†³æ–¹æ¡ˆ &lt;a href="#%e6%bd%9c%e5%9c%a8%e9%97%ae%e9%a2%98%e4%bb%a5%e5%8f%8a%e4%b8%8d%e5%ae%8c%e7%be%8e%e7%9a%84%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>ç”±äºæˆ‘ä»¬æ˜¯ç¬¬ä¸‰æ–¹çš„å±±å¯¨CDNï¼Œæ‰€ä»¥å½“codeforces.comæ›´æ–°å®ƒçš„é™æ€æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬æ˜¯ä¸çŸ¥é“çš„ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåˆ·æ–°é™æ€æ–‡ä»¶çš„æœºåˆ¶ã€‚ä½†æ˜¯æˆ‘ä»¬åˆä¸èƒ½ç›‘æ§æ–‡ä»¶æ”¹å˜ã€‚&lt;/p>
&lt;p>æœ€ç»ˆï¼Œæˆ‘æƒ³åˆ°çš„ä¸€ä¸ªä¸å®Œç¾çš„è§£å†³æ–¹æ¡ˆæ˜¯å®šæ—¶åˆ·æ–°ã€‚&lt;/p>
&lt;p>è¯¦ç»†æ¥è¯´ï¼Œå°±æ˜¯æ¯å‘¨æ‰¾ä¸€ä¸ªæ—¶é—´ï¼Œæ¸…ç©ºæˆ‘ä»¬çš„ç¼“å­˜ã€‚åœ¨ä¸‹ä¸€æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œä¸ƒç‰›äº‘ä¼šè‡ªåŠ¨æ›¿æˆ‘ä»¬åˆ·æ–°æ‰€æœ‰çš„é™æ€æ–‡ä»¶ã€‚&lt;/p>
&lt;p>ä¸ƒç‰›äº‘çš„python-sdkæä¾›äº†éå†/åˆ é™¤æ–‡ä»¶çš„æ–¹æ¡ˆï¼ˆæˆ‘åœ¨é‡Œé¢è¿˜æ‰¾åˆ°äº†ä¸€ä¸ªå°å°çš„Bugï¼‰ã€‚æˆ‘ä»¬åªéœ€è¦å®šæ—¶æ‰§è¡Œå®ƒå°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>äºæ˜¯æˆ‘ä½¿ç”¨äº†BAE + bottle.py + niqiu-python-sdkçš„ç»„åˆã€‚åœ¨BAEä¸Šéƒ¨ç½²äº†ä¸€ä¸ªbottle.pyåº”ç”¨ï¼Œç„¶åä½¿ç”¨&lt;code>cron&lt;/code>å®šæ—¶æ‰§è¡Œåˆ·æ–°ä»»åŠ¡ã€‚&lt;/p>
&lt;h2 id="ä»£ç ">ä»£ç  &lt;a href="#%e4%bb%a3%e7%a0%81" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>Github: &lt;a href="https://github.com/Wizmann/codeforces-cdn">æˆ³æˆ‘&lt;/a>&lt;/p></description></item></channel></rss>