<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ä¸€è‡´æ€§ on Maerlyn's Rainbow</title><link>https://wizmann.top/tags/%E4%B8%80%E8%87%B4%E6%80%A7/</link><description>Recent content in ä¸€è‡´æ€§ on Maerlyn's Rainbow</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Wed, 05 Dec 2018 00:00:00 +0000</lastBuildDate><atom:link href="https://wizmann.top/tags/%E4%B8%80%E8%87%B4%E6%80%A7/index.xml" rel="self" type="application/rss+xml"/><item><title>ç™½è¯ä¸€è‡´æ€§åè®® - Paxosã€Raftå’ŒPacificA[1]</title><link>https://wizmann.top/posts/paxos-raft-pecifaca1/</link><pubDate>Wed, 05 Dec 2018 00:00:00 +0000</pubDate><guid>https://wizmann.top/posts/paxos-raft-pecifaca1/</guid><description>&lt;h2 id="ä¹¦æ¥ä¸Šæ–‡---multi-paxos">ä¹¦æ¥ä¸Šæ–‡ - Multi Paxos &lt;a href="#%e4%b9%a6%e6%8e%a5%e4%b8%8a%e6%96%87---multi-paxos" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†Basic Paxoså’ŒMulti Paxosçš„å¼‚åŒã€‚åœ¨&lt;a href="https://lamport.azurewebsites.net/pubs/paxos-simple.pdf">Paxos Made Simple&lt;/a>è®ºæ–‡ä¸­ï¼Œä½œè€…æåˆ°äº†Multi Paxosçš„ä¸€ç§å®ç°ã€‚è¿™ä¸ªå®ç°å…è®¸æˆ‘ä»¬å¯¹ä¸€ä¸ªè¿ç»­çš„æ•°æ®æµï¼ˆä¹Ÿå¯ä»¥ç§°ä¸ºå¤åˆ¶æ—¥å¿—ï¼Œreplicated logï¼‰è¾¾æˆå…±è¯†ï¼Œä»è€Œå®ç°èŠ‚ç‚¹çŠ¶æ€çš„ä¸€è‡´æ€§å¤åˆ¶ã€‚&lt;/p>
&lt;h3 id="ç¡®å®šæ€§çŠ¶æ€æœº">ç¡®å®šæ€§çŠ¶æ€æœº &lt;a href="#%e7%a1%ae%e5%ae%9a%e6%80%a7%e7%8a%b6%e6%80%81%e6%9c%ba" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>æˆ‘ä»¬å¯ä»¥å°†ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹æŠ½è±¡ä¸ºä¸€ä¸ªæœ‰ç€ç¡®å®šæ€§çŠ¶æ€æœºï¼Œå³ç»™å®šå¤šä¸ªçŠ¶æ€ä¸€è‡´çš„çŠ¶æ€æœºï¼Œåœ¨æ‰§è¡ŒåŒä¸€ä¸ªå‘½ä»¤ä¹‹åï¼Œå…¶çŠ¶æ€ä»ä¿æŒä¸€è‡´ã€‚ï¼ˆå¯ä»¥æƒ³ä¸€æƒ³ç¼–è¯‘åŸç†é‡Œé¢çš„DFAï¼‰&lt;/p>
&lt;h3 id="leader---ç³»ç»Ÿä¸­å”¯ä¸€çš„proposer">Leader - ç³»ç»Ÿä¸­å”¯ä¸€çš„proposer &lt;a href="#leader---%e7%b3%bb%e7%bb%9f%e4%b8%ad%e5%94%af%e4%b8%80%e7%9a%84proposer" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>å¦‚æœç³»ç»Ÿä¸­å­˜åœ¨æœ‰å¤šä¸ªproposerï¼Œé‚£ä¹ˆå°±å¾ˆå¯èƒ½ä¼šå‡ºç°å¤šä¸ªææ¡ˆç›¸äº’å¹²æ‰°çš„æƒ…å†µã€‚è™½ç„¶æ ¹æ®è¯æ˜ï¼Œæœ€ç»ˆè¿™äº›ææ¡ˆéƒ½ä¼šæ”¶æ•›åˆ°ä¸€è‡´ï¼Œä½†æ˜¯æ€§èƒ½ä¼šéå¸¸ä½ä¸‹ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç³»ç»Ÿä¸­é€šè¿‡é€‰ä¸¾ï¼Œé€‰å‡ºä¸€ä¸ªleaderåšä¸ºä¸»proposerï¼ˆdistinguishied proposerï¼‰ï¼Œæ‰€æœ‰çš„ææ¡ˆéƒ½ç”±leaderæå‡ºã€‚&lt;/p>
&lt;p>è¿™æ ·ä¸€æ¥ï¼Œåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¸ä¼šå‡ºç°ææ¡ˆç›¸äº’å¹²æ‰°çš„æƒ…å†µã€‚åªæœ‰åœ¨leaderåˆ‡æ¢çš„ç¬é—´ï¼Œå¯èƒ½ä¼šå‡ºç°ç›¸åŒç¼–å·çš„ä¸åŒææ¡ˆï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç®—æ³•å¯ä»¥å¾ˆå¥½çš„å¤„ç†è¿™ç§æƒ…å†µã€‚&lt;/p>
&lt;h3 id="åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„tcp">åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„â€œTCPâ€ &lt;a href="#%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%9a%84tcp" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>ç±»ä¼¼äºTCPåè®®ä¸­åºåˆ—å·ï¼ŒMulti Paxosä¸­çš„æ¯ä¸€ä¸ªå‘½ä»¤éƒ½æœ‰ä¸€ä¸ªé€’å¢çš„ç¼–å·ã€‚å³æˆ‘ä»¬å‰ä¸€ä¸ªæ‰§è¡Œçš„å‘½ä»¤æ˜¯100å·ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæ‰§è¡Œçš„å‘½ä»¤ä¸€å®šæ˜¯101å·ã€‚æ¯ä¸€ä¸ªå‘½ä»¤éƒ½æ˜¯ä¸€ä¸ªPaxoså®ä¾‹ï¼ŒLeaderå‘æ‰€æœ‰èŠ‚ç‚¹å‘å¸ƒè¿™ä¸ªææ¡ˆï¼Œåœ¨ææ¡ˆè¾¾æˆä¸€è‡´ä¹‹åï¼ˆå¤šæ•°èŠ‚ç‚¹è¿”å›ACKï¼‰ï¼Œå°±å¯ä»¥è®¤ä¸ºè¿™ä¸ªå‘½ä»¤å·²ç»è¾¾æˆäº†ä¸€è‡´ã€‚&lt;/p>
&lt;p>å’ŒTCPä¸€æ ·ï¼Œå¦‚æœæˆ‘ä»¬é¡ºåºçš„å‘å¸ƒå¹¶è¡¨å†³ææ¡ˆï¼Œæ•ˆç‡ä¼šéå¸¸ä½ä¸‹ï¼ˆTCPåœç­‰æ¨¡å‹ï¼‰ã€‚æ‰€ä»¥ï¼ŒMulti Paxosé‡‡ç”¨ç±»ä¼¼æ»‘åŠ¨çª—å£çš„æ–¹æ¡ˆï¼Œæ¯æ¬¡å¯¹Nä¸ªææ¡ˆè¿›è¡Œè¡¨å†³ï¼Œä»¥å¢åŠ è¡¨å†³çš„å¸¦å®½ã€‚&lt;/p>
&lt;p>å’ŒTCPä¸åŒçš„æ˜¯ï¼Œå¦‚æœæŸäº›åºå·çš„TCPåŒ…åœ¨ä¼ è¾“ä¸­ä¸¢å¤±ï¼Œæœ€åçš„æƒ…å†µæ˜¯æˆ‘ä»¬ä¼šRSTè¿™æ¡é“¾æ¥ï¼Œå…¶å®ƒçš„å·¥ä½œéƒ½äº¤ç»™åº”ç”¨å±‚é€»è¾‘æ¥è§£å†³ã€‚&lt;/p>
&lt;p>ä½†æ˜¯å¯¹äºMulti Paxosæ¥è¯´ï¼Œå¦‚æœæŸäº›ææ¡ˆæ²¡æœ‰è¢«è¡¨å†³ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨æ—¥å¿—ä¸­ç•™ä¸‹ç©ºæ´ï¼ˆgapï¼‰ã€‚è¿™ä¼šç›´æ¥å½±å“ç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚å¦‚æœæ°å·§è¿™ä¸ªæ—¶å€™å‘ç”Ÿäº†Leaderå¤±æ•ˆï¼Œé‚£ä¹ˆæ–°é€‰ä¸¾å‡ºæ¥çš„LeaderèŠ‚ç‚¹å°±è¦å¤„ç†æ—¥å¿—ä¸­çš„ç©ºæ´ã€‚&lt;/p>
&lt;p>è§£å†³ç©ºæ´çš„åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯Leaderå‘æ‰€æœ‰æˆå‘˜è¯¢é—®ï¼Œå¯¹äºè¿™ä¸ªææ¡ˆï¼Œæ˜¯å¦å·²ç»æœ‰è¾¾æˆå…±è¯†çš„å€¼ã€‚å¦‚æœæœ‰çš„è¯ï¼Œå°±ä½¿ç”¨è¿™ä¸ªå€¼ã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ç”¨ä¸€ä¸ªno-opï¼ˆæ— æ“ä½œï¼‰å‘½ä»¤æ¥å¡«è¡¥è¿™ä¸ªç©ºä½ã€‚ä½†æ˜¯ï¼Œå¯¹äºå®é™…å·¥ç¨‹ä¸­æ¥è¯´ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è§£å†³æœªè¾¾æˆå…±è¯†æ—¶å€¼çš„å†²çªç­‰æƒ…å†µã€‚&lt;/p>
&lt;h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦raft">ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦Raftï¼Ÿ &lt;a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%88%91%e4%bb%ac%e8%bf%98%e9%9c%80%e8%a6%81raft" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>Multi-Paxosåœ¨ç°å®çš„å·¥ç¨‹å½“ä¸­æ›´å¤šçš„æ˜¯ä¸€ç§ç¬¦å·ã€‚å› ä¸ºç†è®ºä¸å®è·µä¸Šçš„éš”é˜‚æ˜¯å¦‚æ­¤ä¹‹å¤§ï¼Œå¦‚æœæƒ³åœ¨å·¥ç¨‹æ„ä¹‰ä¸Šå®ç°ä¸€ä¸ªå¯ç”¨çš„Multi-Paxosç®—æ³•ï¼Œå¿…ç„¶ä¼šåœ¨åŸç®—æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œä¸€ç³»åˆ—çš„é­”æ”¹ï¼Œè¿™äº›é­”æ”¹è™½ç„¶å‡å£°ç§°è‡ªå·±å®ç°äº†Multi-Paxosç®—æ³•ï¼Œä½†æ˜¯è¿™äº›ç®—æ³•å¤§å¤šä¸èƒ½è¢«è¯æ˜æ˜¯æ­£ç¡®çš„ã€‚&lt;/p>
&lt;p>Raftçš„ç›®æ ‡æ˜¯ï¼Œå³è®©ç®—æ³•æ»¡è¶³å·¥ç¨‹åŒ–éœ€è¦ï¼Œåˆèƒ½ä¿è¯å…¶æ­£ç¡®æ€§ã€‚&lt;/p>
&lt;blockquote>
&lt;p>Raftè®ºæ–‡å½“ä¸­è¯´Paxosç®—æ³•éš¾ä»¥ç†è§£ï¼Œæˆ‘å¹¶ä¸è¿™ä¹ˆè§‰å¾—ã€‚å› ä¸ºPaxosè®ºæ–‡é‡Œé¢æŠŠå›°éš¾çš„éƒ¨åˆ†éƒ½ä¸€ç¬”å¸¦è¿‡äº†ã€‚åªå‰©ä¸‹ç®€å•çš„é‚£éƒ¨åˆ†äº†ã€‚&lt;/p>&lt;/blockquote>
&lt;h2 id="raft-vs-paxos">Raft vs. Paxos &lt;a href="#raft-vs-paxos" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;h3 id="leaderé€‰ä¸¾">Leaderé€‰ä¸¾ &lt;a href="#leader%e9%80%89%e4%b8%be" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>åœ¨Paxosè®ºæ–‡ä¸­ï¼ŒLeaderé€‰ä¸¾è¢«è§†ä½œä¸€ç§ç‰¹æ®Šçš„â€œææ¡ˆé€‰ä¸¾â€ã€‚åªéœ€è¦Proposerå’ŒAcceptorè¿›è¡Œä¸€è½®æˆ–å¤šè½®ï¼ˆå–å†³äºè¿æ°”ï¼‰æŠ•ç¥¨ï¼Œå°±å¯ä»¥ç¡®å®šLeaderã€‚&lt;/p>
&lt;p>ä½†åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä»¥ä¸‹çš„é—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å¦‚ä½•åˆ¤æ–­Leaderæ˜¯å¦å­˜æ´»&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ˜¯å¦æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰èµ„æ ¼æ‹…å½“Leader&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h4 id="leaderçš„ä»»æœŸ">Leaderçš„ä»»æœŸ &lt;a href="#leader%e7%9a%84%e4%bb%bb%e6%9c%9f" class="anchor">ğŸ”—&lt;/a>&lt;/h4>&lt;p>Leaderåœ¨è¢«é€‰ä¸¾å‡ºæ¥ä¹‹åï¼Œéƒ½ä¼šè¢«èµ‹äºˆä¸€ä¸ªä»»æœŸç¼–å·ï¼ˆtermï¼‰ã€‚åœ¨ä»»æœŸé‡Œï¼ŒLeaderä¼šå‘æ‰€æœ‰æˆå‘˜å‘é€å¿ƒè·³åŒ…ä»¥å»¶ç»­è‡ªå·±çš„ä»»æœŸã€‚&lt;/p>
&lt;p>å¦‚æœLeaderå¤±æ•ˆæ— æ³•å‘é€å¿ƒè·³åŒ…çš„è¯ï¼Œæˆå‘˜å°±ä¼šäº§ç”Ÿä¸€ä¸ªâ€œé€‰ä¸¾è¶…æ—¶â€ï¼Œæ­¤æ—¶å°±ä¼šé‡æ–°è§¦å‘ä¸€è½®é€‰ä¸¾ã€‚&lt;/p>
&lt;p>é€‰ä¸¾çš„æµç¨‹å’ŒBasic-Paxosç®—æ³•ç±»ä¼¼ï¼Œproposerå‘æ‰€æœ‰æˆå‘˜å‘é€â€œæˆ‘è¦å½“è€å¤§â€çš„ææ¡ˆï¼Œæˆå‘˜ä»¬ä¼šé…Œæƒ…å›å¤ã€‚å¦‚æœå¾—åˆ°äº†å¤šæ•°æˆå‘˜çš„è‚¯å®šï¼Œè¿™ä¸ªproposerå°±æ˜¯ä¸‹ä¸€ä¸ªä»»æœŸçš„Leaderäº†ã€‚&lt;/p>
&lt;p>ä»æœ¬è´¨ä¸Šè¯´ï¼Œæ¯ä¸€ä¸ªä»»æœŸçš„Leaderé€‰ä¸¾ï¼Œéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„Basic-Paxoså®ä¾‹ã€‚ä»»æœŸå·ç›¸å½“äºPaxosé‡Œé¢çš„ææ¡ˆç¼–å·ã€‚&lt;/p>
&lt;h4 id="leaderèµ„æ ¼çš„è®¤å®š">Leaderèµ„æ ¼çš„è®¤å®š &lt;a href="#leader%e8%b5%84%e6%a0%bc%e7%9a%84%e8%ae%a4%e5%ae%9a" class="anchor">ğŸ”—&lt;/a>&lt;/h4>&lt;p>Rafté‡‡ç”¨å¼ºä¸€è‡´æ€§çš„æ¨¡å‹ï¼Œå¯¹äºå·²ç»ACKçš„ç”¨æˆ·è¯·æ±‚ï¼Œè¦å°½åŠ›ä¿è¯å…¶çŠ¶æ€ä¸ä¸¢å¤±ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å¦‚æœä½ é—®æˆ‘ï¼Œç°åœ¨æ¥ä¸€æ ¸å¼¹æŠŠæœºæˆ¿ç‚¸äº†ï¼Œæ•°æ®éƒ½ä¸¢äº†ï¼Œé‚£ä½ æ€ä¹ˆèƒ½ä¿è¯å¼ºä¸€è‡´æ€§ã€‚ &lt;br>
å…¶å®è¿™ä¸ªé—®é¢˜éå¸¸ç®€å•ã€‚å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬ä¿è¯äº†ä¸¢æ•°æ®çš„å¼ºä¸€è‡´æ€§ã€‚&lt;/p>&lt;/blockquote>
&lt;p>æ‰€ä»¥æˆ‘ä»¬è¦é€‰å‡ºä¸€ä¸ªLeaderï¼Œä½¿å…¶èƒ½å¤ŸåŒ…å«æ‰€æœ‰å·²ç»ACKçš„ææ¡ˆã€‚å½“ä¸€ä¸ªproposerå‘å…¶å®ƒèŠ‚ç‚¹å‘é€ææ¡ˆæ—¶ï¼Œå°±ä¼šæ”¶åˆ°å…¶å®ƒèŠ‚ç‚¹çš„å“åº”ã€‚å› ä¸ºä¸€ä¸ªå·²ç»ACKçš„ææ¡ˆå¿…ç„¶è¢«å¤šæ•°èŠ‚ç‚¹æ‰€è®¤å¯ï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªproposeræ²¡æœ‰åŒ…å«æ‰€æœ‰è¢«ACKçš„ææ¡ˆæ—¶ï¼Œå®ƒçš„ææ¡ˆå°±ä¼šè¢«å…¶å®ƒåŒ…å«æ›´å¤šçŠ¶æ€çš„èŠ‚ç‚¹é©³å›ã€‚æœ€åè¢«é€‰å‡ºæ¥çš„Leaderï¼Œä¸€å®šæ˜¯åŒ…å«æ‰€æœ‰è¢«ACKçš„çŠ¶æ€çš„èŠ‚ç‚¹ã€‚&lt;/p>
&lt;h3 id="æ—¥å¿—å¤åˆ¶">æ—¥å¿—å¤åˆ¶ &lt;a href="#%e6%97%a5%e5%bf%97%e5%a4%8d%e5%88%b6" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>å½“Leaderè¢«é€‰å‡ºåï¼ŒLeaderå°±ä¼šå¼€å§‹å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ã€‚ç”¨æˆ·çš„è¯·æ±‚å¯ä»¥çœ‹åšä¸€ç³»åˆ—çš„å‘½ä»¤ï¼Œåœ¨æ¥æ”¶åˆ°ææ¡ˆåï¼Œææ¡ˆé¦–å…ˆè¢«åˆ†å‘åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹çš„çŠ¶æ€æœºé¡ºåºæ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚åœ¨å¤šæ•°èŠ‚ç‚¹è¿”å›ACKåï¼Œè¿™ä¸ªå‘½ä»¤å°±è¢«è§†ä¸ºâ€œå·²æäº¤â€ï¼ˆcommitedï¼‰ã€‚&lt;/p>
&lt;p>ä¸Šæ–‡ä¸­å·²ç»æåˆ°äº†ä¸€è‡´æ€§ç®—æ³•ä¸­çš„æ—¥å¿—éå¸¸ç±»ä¼¼äºç½‘ç»œåè®®ä¸­çš„TCPã€‚å³å¦‚æœä¸¤ä¸ªå‘½ä»¤çš„IDä¸€æ ·ï¼Œé‚£ä¹ˆå…¶å†…å®¹å¿…å®šä¹Ÿä¸€æ ·ï¼›å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹éƒ½æœ‰è®¤å¯äº†ç¼–å·ä¸ºpçš„å‘½ä»¤ï¼Œé‚£ä¹ˆæ‰€æœ‰ç¼–å·å°äºpçš„å‘½ä»¤ä¹Ÿå¿…å®šä¿æŒä¸€è‡´ã€‚ï¼ˆè¢«ç§°ä¸ºLog Matching Propertyï¼‰&lt;/p>
&lt;p>Raftä¸ºäº†ç®€åŒ–ç®—æ³•çš„å·¥ç¨‹å®ç°ï¼ŒæŠŠèŠ‚ç‚¹çš„çŠ¶æ€æŠ½è±¡ä¸ºä¸¥æ ¼append onlyçš„æ—¥å¿—ã€‚å³æˆ‘ä»¬å¯ä»¥å°†æ—¥å¿—æŒ‡é’ˆå‘åæˆ–å‘å‰ç§»åŠ¨ï¼Œæ¥â€œå›æ»šâ€æˆ–â€œæ›´æ–°â€çŠ¶æ€ã€‚ä½†æ˜¯ç»å¯¹ä¸å…è®¸åœ¨æ—¥å¿—ä¸­é—´æ·»åŠ æˆ–åˆ é™¤æ—¥å¿—æ¡ç›®ã€‚æ‰€ä»¥ï¼Œåœ¨Leaderå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¦‚æœleaderå’Œå…¶ä»–followerä¹‹é—´çš„æ—¥å¿—ä¸åŒï¼Œé‚£ä¹ˆfolloweréœ€è¦å›æ»šæ—¥å¿—ä»¥ä¿æŒå’Œleaderæ—¥å¿—çš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;h3 id="å®‰å…¨æ€§">å®‰å…¨æ€§ &lt;a href="#%e5%ae%89%e5%85%a8%e6%80%a7" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;h4 id="ä¸å½’æˆ‘ç®¡çš„äº‹æˆ‘ä¸æ‹¿ä¸»æ„">ä¸å½’æˆ‘ç®¡çš„äº‹æˆ‘ä¸æ‹¿ä¸»æ„ &lt;a href="#%e4%b8%8d%e5%bd%92%e6%88%91%e7%ae%a1%e7%9a%84%e4%ba%8b%e6%88%91%e4%b8%8d%e6%8b%bf%e4%b8%bb%e6%84%8f" class="anchor">ğŸ”—&lt;/a>&lt;/h4>&lt;p>å‰æ–‡æˆ‘ä»¬è¯´åˆ°ï¼Œä¸€ä¸ªèŠ‚ç‚¹è¦æˆä¸ºLeaderï¼Œä¸€å®šè¦æ‹¥æœ‰æ‰€æœ‰å·²ç»è¢«ACKçš„çŠ¶æ€ï¼Œå¦åˆ™å°±ä¼šè¢«å…¶å®ƒèŠ‚ç‚¹é©³å›ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ç°å®éƒ½ä¼šå‡ºç°ä¸€äº›å°å°çš„æ„å¤–ã€‚åœ¨ç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰ä¸€äº›ææ¡ˆåªè¢«å°‘æ•°èŠ‚ç‚¹è®¤å¯ï¼Œä¸æ­¤åŒæ—¶å‘èµ·ææ¡ˆçš„Leaderæ„å¤–é€€å‡ºã€‚é‚£ä¹ˆåœ¨ä¸åŒèŠ‚ç‚¹ä¸Šçš„æ—¥å¿—ä¼šäº§ç”Ÿâ€œåˆ†å‰â€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è§£å†³æ—¥å¿—å½“ä¸­çš„å†²çªå‘¢ï¼Ÿ&lt;/p>
&lt;p>å¾ˆæ˜æ˜¾ï¼Œå› ä¸ºè¿™äº›ä»¥å°‘æ•°èŠ‚ç‚¹è®¤å¯çš„ææ¡ˆå¹¶æ²¡æœ‰è¢«ç¡®è®¤ã€‚æ‰€ä»¥æˆ‘ä»¬æ— è®ºæ˜¯æ¥å—ææ¡ˆè¿˜æ˜¯é©³å›ææ¡ˆï¼Œéƒ½ä¸å½±å“æˆ‘ä»¬å¼ºä¸€è‡´æ€§çš„è¦æ±‚ã€‚æ‰€ä»¥å…³é”®æ˜¯å¤„ç†å†²çªï¼Œä½¿å…¶ä¸äº§ç”Ÿå½±å“ç³»ç»Ÿä¸€è‡´æ€§çš„åæ•ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Wizmann/assets/master/wizmann-pic/18-12-02/Snipaste_2018-12-02_17-34-59.png" alt="">&lt;/p>
&lt;p>å‡è®¾åœ¨Term1ï¼Œæœ€åä¸€ä¸ªææ¡ˆæ˜¯&amp;quot;Value:3&amp;quot;ï¼Œè¿™ä¸ªææ¡ˆå¹¶æ²¡æœ‰å¾—åˆ°å¤šæ•°èŠ‚ç‚¹çš„è®¤å¯ï¼ŒLeaderå°±æŒ‚æ‰äº†ã€‚é€‰å‡ºæ¥äº†ä¸€ä¸ªæ–°Leaderï¼ŒTermæ•°åŠ 1ã€‚åœ¨Term2ï¼Œè¢«æå‡ºçš„ç¬¬ä¸€ä¸ªææ¡ˆæ˜¯&amp;quot;Value:1&amp;quot;ï¼Œè¿™ä¸ªææ¡ˆä¹Ÿæ²¡æœ‰å¾—åˆ°å¤šæ•°èŠ‚ç‚¹çš„è®¤å¯ï¼ŒLeaderä¹ŸæŒ‚æ‰äº†ã€‚&lt;/p>
&lt;p>å› ä¸ºè¿™ä¸¤ä¸ªåˆ†å‰çš„ææ¡ˆéƒ½æ²¡æœ‰å¾—åˆ°å¤šæ•°èŠ‚ç‚¹çš„è®¤å¯ï¼Œæ‰€ä»¥ä¸‹ä¸€ä¸ªLeaderå¯èƒ½å·²ç»ç¡®è®¤è¿™ä¸¤ä¸ªææ¡ˆï¼Œæˆ–è€…ä¸¤ä¸ªä¸­çš„ä¸€ä¸ªï¼Œä¹Ÿå¯èƒ½ä¸€ä¸ªéƒ½æ²¡æœ‰ç¡®è®¤ã€‚æ–°çš„Leaderåœ¨è¢«é€‰å‡ºåï¼Œéœ€è¦é¢å¯¹çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•å¤„ç†å±äºæ—§Termçš„ææ¡ˆã€‚&lt;/p>
&lt;p>è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼š&lt;/p>
&lt;ol>
&lt;li>æ–°Leaderå°†æ—¥å¿—ä¸­ä»æ²¡æœ‰è¢«å¤šæ•°èŠ‚ç‚¹è®¤å¯çš„ææ¡ˆé‡æ–°æå‡ºï¼Œç›´åˆ°è¢«å¤šæ•°èŠ‚ç‚¹è®¤å¯ä¸ºæ­¢&lt;/li>
&lt;li>æ–°Leaderå¿½ç•¥å±äºæ—§çš„Termçš„ææ¡ˆï¼Œåªæäº¤å±äºæœ¬Termçš„ææ¡ˆï¼›å¯¹äºæ—¥å¿—å†²çªï¼Œä½¿ç”¨å¤åˆ¶æ—¥å¿—çš„æ–¹æ³•è§£å†³ï¼Œä½†ä¸ä¼šæ˜¾å¼è®¤å¯æ—§Termçš„ææ¡ˆã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Wizmann/assets/master/wizmann-pic/18-12-02/Snipaste_2018-12-02_22-02-45.png" alt="">&lt;/p>
&lt;p>å¯¹äºæ–¹æ¡ˆ1ï¼Œæœ‰ä¸€ä¸ªéšå«çš„é—®é¢˜ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨æ—¶é—´ç‚¹1ï¼ŒS2ä¸ºLeaderï¼Œæ ‡çº¢çš„ä¸¤ä¸ªææ¡ˆå¹¶æ²¡æœ‰è¢«ç¡®è®¤ã€‚æ­¤æ—¶å¦‚æœLeaderåœ¨æ—¶é—´ç‚¹2é‡æ–°æå‡º&amp;quot;Term1/Value3&amp;quot;ï¼Œå¹¶ä¸”å¾—åˆ°äº†S1å’ŒS2çš„è®¤å¯ï¼Œé‚£ä¹ˆè¿™æ¡ææ¡ˆå·²ç»è¢«å¤šæ•°èŠ‚ç‚¹è®¤å¯ã€‚ä½†æ˜¯åœ¨æ—¶é—´ç‚¹3ï¼ŒS3è¢«é€‰ä¸¾ä¸ºäº†Leaderã€‚S1å’ŒS2éœ€è¦å›æ»šæ—¥å¿—ä»¥ä¿æŒä¸S3æ—¥å¿—çš„ä¸€è‡´ã€‚æ­¤æ—¶å°±å‡ºç°äº†ä¸€ç§æƒ…å†µï¼Œé‚£å°±æ˜¯å·²ç»è¢«ç¡®è®¤çš„æ—¥å¿—è¢«å›æ»šæ‰äº†ï¼Œå¼ºä¸€è‡´æ€§å°±ä¸èƒ½æ»¡è¶³äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Wizmann/assets/master/wizmann-pic/18-12-02/Snipaste_2018-12-02_22-12-50.png" alt="">&lt;/p>
&lt;p>å¦‚æœæˆ‘ä»¬é‡‡ç”¨æ–¹æ¡ˆ2ï¼Œé‚£ä¹ˆè¢«é€‰å‡ºçš„æ–°Leaderæå‡ºçš„ç¬¬ä¸€ä¸ªææ¡ˆçš„Termä¸€å®šä¸º3ã€‚ç¡®è®¤æ–°ææ¡ˆçš„èŠ‚ç‚¹æ¥ä¸‹æ¥ä¼šå¤åˆ¶Leaderçš„æ—¥å¿—ï¼Œå›æ»šæ‰æ²¡æœ‰è¢«è®¤å¯çš„ææ¡ˆ&amp;quot;Term2/Value1&amp;quot;ã€‚å¯¹äºæ ‡ç»¿çš„&amp;quot;Term1/Value3&amp;quot;ï¼Œè™½ç„¶è¢«å¤åˆ¶åˆ°äº†å…¶å®ƒçš„èŠ‚ç‚¹ä¸Šï¼Œä½†æ˜¯è¿™ä¸ªå€¼å¹¶ä¸ä¼šè¢«ç¡®è®¤ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ—¢ä¿è¯äº†å·²ç»è¢«ç¡®è®¤çš„ææ¡ˆä¸ä¼šè¢«å›æ»šï¼Œåˆä¿è¯äº†æ—¥å¿—çš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>åœ¨å…·ä½“å®ç°ä¸­ï¼Œâ€œT3/V1â€å¾€å¾€æ˜¯ä¸€ä¸ªç©ºå‘½ä»¤(no-op)ã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿æ²¡æœ‰å†™è¯·æ±‚ï¼ŒLeaderå°±å¯ä»¥æ›´å¿«çš„ç¡®è®¤æ–°çš„ä»»æœŸå¹¶åŒæ­¥Logäº†ã€‚&lt;/p>
&lt;h4 id="å¦‚ä½•è¯æ˜">å¦‚ä½•è¯æ˜ &lt;a href="#%e5%a6%82%e4%bd%95%e8%af%81%e6%98%8e" class="anchor">ğŸ”—&lt;/a>&lt;/h4>&lt;p>é‚£ä¹ˆæ€ä¹ˆä¿è¯ä¸Šé¢çš„ä½œæ³•å®ƒæ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>å‡è®¾å½“å‰ä»»æœŸä¸ºT1ï¼Œæ­¤æ—¶ç”±äºç³»ç»Ÿæ•…éšœï¼Œæˆ‘ä»¬é€‰å‡ºäº†æ–°çš„Leader - S2ï¼Œå¹¶è®°Termä¸ºT2ã€‚å› ä¸ºæˆ‘ä»¬ä¸¥æ ¼éµå®ˆäº†Log Matching Propertyã€‚&lt;/p>
&lt;p>é‚£ä¹ˆï¼Œå¯¹äºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š&lt;/p>
&lt;ol>
&lt;li>T2çš„Leaderå’ŒVoterçš„Logä¸­æœ€åä¸€ä¸ªææ¡ˆçš„ç¼–å·æ˜¯ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå¯ä»¥çŸ¥é“ä»–ä»¬æ—¥å¿—ä¸­çš„ææ¡ˆéƒ½æ˜¯å®Œå…¨ä¸€è‡´çš„&lt;/li>
&lt;li>T2ä¸­Leaderçš„Logæ¯”Voteræ›´æ–°ï¼Œé‚£ä¹ˆLeaderä¸€å®šåŒ…å«æ¯”Voteræ›´å¤šçš„ææ¡ˆï¼›å¦åˆ™Voterå°±ä¸ä¼šç»™LeaderæŠ•ç¥¨&lt;/li>
&lt;/ol>
&lt;p>æˆ‘ä»¬éƒ½å¯ä»¥è¯æ˜ï¼Œå¯¹äºå‰ä¸€ä¸ªTermå·²ç»è¢«ç¡®è®¤çš„ææ¡ˆï¼Œä¸€å®šä¼šè¢«åŒ…å«åœ¨åä¸€ä¸ªTermçš„æ—¥å¿—ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªè¢«ç¡®è®¤çš„ææ¡ˆä¸ä¼šä¸­é€”ä¸¢å¤±ã€‚&lt;/p>
&lt;h2 id="æˆå‘˜å˜åŒ–">æˆå‘˜å˜åŒ– &lt;a href="#%e6%88%90%e5%91%98%e5%8f%98%e5%8c%96" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>ä»¥ä¸Šæˆ‘ä»¬çš„è®¨è®ºéƒ½åŸºäºç³»ç»Ÿçš„èŠ‚ç‚¹ä¸ä¼šå‘ç”Ÿå˜æ›´ï¼Œä½†æ˜¯åœ¨ç°å®å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾ˆéš¾å¯¹æ­¤è¿›è¡Œä»»ä½•ä¿è¯ã€‚æ‰€ä»¥ä¸€ä¸ªå®ç”¨çš„ç³»ç»Ÿï¼Œä¸€å®šèƒ½è§£å†³æˆå‘˜å˜åŒ–çš„é—®é¢˜ã€‚&lt;/p>
&lt;p>æˆå‘˜å˜åŒ–é—®é¢˜çš„æœ¬è´¨æ˜¯ç³»ç»Ÿä¸­ä¸èƒ½åŒæ—¶å‡ºç°ä¸¤ä¸ªLeaderã€‚&lt;/p>
&lt;p>åœ¨Raftä¸­ï¼Œæˆ‘ä»¬å°†è¿‡æ¸¡æœŸçš„é…ç½®ç§°ä¸ºâ€œå…±åŒä¸€è‡´â€ï¼ˆjoint consensusï¼‰ï¼Œä¸€ä½†å®ƒè¢«ç¡®è®¤ï¼Œè¯´æ˜ç³»ç»Ÿå·²ç»è¿‡æ¸¡åˆ°äº†æ–°çš„æˆå‘˜é…ç½®ã€‚&lt;/p>
&lt;p>å…·ä½“çš„ç­–ç•¥å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>ç³»ç»Ÿä¸­åªæœ‰æ—§çš„é…ç½®C_oldï¼Œæ–°åŠ å…¥çš„æˆå‘˜ä¸å¯èƒ½æˆä¸ºLeader&lt;/li>
&lt;li>å½“å‰ç³»ç»Ÿçš„Leaderæ¥å—åˆ°æ–°çš„é…ç½®C_newã€‚ç„¶åLeaderå‘æ‰€æœ‰èŠ‚ç‚¹å‘èµ·ä¿®æ”¹é…ç½®ä¸ºC_old+newçš„ææ¡ˆã€‚&lt;/li>
&lt;li>å³ä½¿è¿™ä¸ªæ—¶é—´ç‚¹LeaderæŒ‚æ‰äº†ï¼Œæ–°çš„Leaderä¹Ÿåªä¼šæ‹¥æœ‰æ—§é…ç½®C_oldæˆ–è€…è¿‡æ¸¡æœŸé…ç½®C_old+newã€‚è¿™å–å†³äºLeaderé€‰ä¸¾çš„æ—¶æœºï¼ˆå’Œè¿æ°”ï¼‰ã€‚&lt;/li>
&lt;li>å½“è¿‡æ¸¡æœŸé…ç½®C_old+newè¢«å¤šæ•°èŠ‚ç‚¹ç¡®è®¤åï¼ŒLeaderå‘æ‰€æœ‰èŠ‚ç‚¹å‘èµ·ä¿®æ”¹é…ç½®ä¸ºC_newçš„ææ¡ˆã€‚&lt;/li>
&lt;li>å¦‚æœè¿™ä¸ªæ—¶é—´ç‚¹LeaderæŒ‚æ‰äº†ï¼Œæ–°Leaderä¼šä»æ‹¥æœ‰C_old+newå’ŒC_newçš„èŠ‚ç‚¹ä¸­é€‰å‡ºã€‚æ–°çš„Leaderä»ç„¶å¯ä»¥è¿›è¡Œé…ç½®çš„å˜æ›´ï¼Œè€Œä¸å½±å“æ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚&lt;/li>
&lt;li>ç›´åˆ°C_newè¢«ç¡®è®¤ï¼Œé…ç½®æ›´æ¢å®£å‘Šå®Œæˆã€‚&lt;/li>
&lt;/ol>
&lt;p>â€œå…±åŒä¸€è‡´â€å…è®¸èŠ‚ç‚¹æ— éœ€è€ƒè™‘å®‰å…¨æ€§çš„æƒ…å†µä¸‹ï¼Œåœ¨ä»»æ„æ—¶é—´è¿›è¡Œé…ç½®çš„æ›´æ¢ã€‚é…ç½®çš„æ›´æ¢ä¹Ÿä¸ä¼šå½±å“å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šæˆ‘ä»¬è§£å†³çš„æ˜¯å®‰å…¨æ€§é—®é¢˜ï¼Œä½†æ˜¯åœ¨å®é™…å·¥ç¨‹ä¸­æˆ‘ä»¬è¿˜éœ€è¦å…¼é¡¾æ•ˆç‡é—®é¢˜ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚æ–°åŠ å…¥çš„èŠ‚ç‚¹å¯ä»¥è§†ä½œâ€œnon-voting membersâ€ï¼ŒåªåŒæ­¥æ•°æ®ï¼Œä¸èƒ½å¯¹ææ¡ˆè¿›è¡ŒæŠ•ç¥¨ã€‚ç›´åˆ°æ•°æ®åŒæ­¥åŸºæœ¬å®Œæˆï¼Œæ‰è¿›è¡Œé…ç½®å˜æ›´ã€‚è¿™æ ·é¿å…äº†æ–°çš„èŠ‚ç‚¹ç”±äºç¼ºå°‘Logä¸èƒ½åŠæ—¶çš„å¤„ç†ææ¡ˆã€‚&lt;/p>
&lt;p>åˆå¦‚æ–°çš„æˆå‘˜åˆ—è¡¨ä¸­ï¼Œä¸åŒ…å«åŸå…ˆçš„LeaderèŠ‚ç‚¹ã€‚åœ¨æ—§Leaderè®¤å¯äº†æ–°çš„é…ç½®ææ¡ˆä¹‹åï¼Œå°±å¯ä»¥é€€ä½è®©è´¤ï¼Œè®©å…¶å®ƒèŠ‚ç‚¹é€‰ä¸¾å‡ºæ–°çš„Leaderã€‚&lt;/p>
&lt;p>ä»¥åŠè¢«æ¸…é™¤å‡ºæˆå‘˜åˆ—è¡¨çš„èŠ‚ç‚¹ï¼Œä¸ä¼šæ”¶åˆ°åç»­çš„å¿ƒè·³ï¼Œå®ƒä»¬ä¼šè®¤ä¸ºLeaderå·²ç»å¤±æ•ˆï¼Œæ‰€ä»¥è‡ªå·±è·³å‡ºæ¥ç«é€‰Leaderã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±ä¼šè§¦å‘æ–°çš„ï¼ˆæ— æ„ä¹‰ çš„ï¼‰Leaderé€‰ä¸¾ï¼Œå½±å“ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…æ”¶åˆ°äº†Leaderçš„å¿ƒè·³ï¼Œé‚£ä¹ˆå°±ä¼šå¿½ç•¥Leaderçš„ç«é€‰è¯·æ±‚ã€‚è¿™æ ·æ—¢ä¸ä¼šå½±å“æ­£å¸¸çš„é€‰ä¸¾ï¼Œåˆå¯ä»¥å±è”½æ— æ•ˆçš„é€‰ä¸¾è¯·æ±‚ã€‚&lt;/p>
&lt;h2 id="å¿«ç…§">å¿«ç…§ &lt;a href="#%e5%bf%ab%e7%85%a7" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>æˆ‘ä»¬çš„ææ¡ˆè¶Šæ¥è¶Šå¤šï¼Œæ—¥å¿—ä¹Ÿè¶Šæ¥è¶Šé•¿ã€‚éšä¹‹è€Œæ¥çš„æ˜¯æ¼«é•¿çš„æ¢å¤æ—¶é—´ä»¥åŠç£ç›˜ç©ºé—´çš„æµªè´¹ã€‚å¿«ç…§æŠ€æœ¯å¯ä»¥å¸®æˆ‘ä»¬æ¸…é™¤æ—§çš„æ— ç”¨æ—¥å¿—ï¼Œåªä¿ç•™æœ‰ç”¨çš„çŠ¶æ€ä¿¡æ¯ã€‚&lt;/p>
&lt;p>åœ¨Raftç®—æ³•ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½èƒ½è‡ªä¸»çš„ç”Ÿæˆå¿«ç…§ã€‚å¥½å¤„æ˜¯é¿å…Leaderåˆ†å‘å¿«ç…§é€ æˆçš„æ•ˆç‡é™ä½ï¼Œä¹Ÿç®€åŒ–äº†Leaderçš„åŠŸèƒ½å’ŒèŒè´£ã€‚åˆç”±äºæ—¥å¿—çš„â€œTCPç‰¹æ€§â€ï¼Œæ‰€ä»¥ä¸åŒèŠ‚ç‚¹ä¸Šï¼Œåªè¦ä¿è¯ææ¡ˆç¼–å·ä¸€è‡´ï¼Œé‚£ä¹ˆå…¶å†…å®¹å°±å¯ä»¥ä¿è¯ä¸€è‡´ã€‚&lt;/p>
&lt;h2 id="å®¢æˆ·ç«¯äº¤äº’">å®¢æˆ·ç«¯äº¤äº’ &lt;a href="#%e5%ae%a2%e6%88%b7%e7%ab%af%e4%ba%a4%e4%ba%92" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>ç”±äºå®¢æˆ·ç«¯ä¸äº†è§£ç³»ç»Ÿå†…éƒ¨çš„é€‰ä¸¾æƒ…å†µï¼Œæ‰€ä»¥åœ¨å¼€å§‹é€šä¿¡æ—¶ï¼Œä¼šéšæœºé€‰ä¸€å°èŠ‚ç‚¹å‘é€è¯·æ±‚ã€‚å¦‚æœè¿™ä¸ªèŠ‚ç‚¹ä¸æ˜¯Leaderï¼Œå°±ä¼šæ‹’ç»è¿™ä¸ªè¯·æ±‚ï¼Œä¼šå‘ŠçŸ¥å®¢æˆ·ç«¯å“ªä¸ªèŠ‚ç‚¹æ˜¯å½“å‰ä»»æœŸçš„Leaderã€‚å¦‚æœLeaderå¤±æ•ˆï¼Œå®¢æˆ·ç«¯è¯·æ±‚è¶…æ—¶ï¼Œå°±ä¼šé‡æ–°éšæœºé€‰æ‹©èŠ‚ç‚¹ï¼Œè·å–æ–°ä»»Leaderä¿¡æ¯ã€‚&lt;/p>
&lt;p>å¯¹äºå®¢æˆ·ç«¯å‘é€çš„å†™è¯·æ±‚ï¼ŒLeaderéœ€è¦è®°å½•å…¶å”¯ä¸€çš„è¯·æ±‚IDï¼Œä»¥é¿å…å®¢æˆ·ç«¯å‘é€çš„é‡å¤è¯·æ±‚ã€‚&lt;/p>
&lt;p>å¯¹äºå®¢æˆ·ç«¯å‘é€çš„è¯»è¯·æ±‚ï¼ŒLeaderéœ€è¦å†æ¬¡ç¡®è®¤å®ƒæ˜¯ä»æ˜¯å½“å‰ä»»æœŸçš„Leaderï¼Œé¿å…å‘å®¢æˆ·ç«¯å‘é€è¿‡æœŸæ•°æ®ã€‚å¦‚æœå¯¹æ•°æ®æ­£ç¡®æ€§å’Œæ—¶æ•ˆæ€§çš„æ•æ„Ÿæ€§ä¸é«˜ï¼Œå°±å¯ä»¥å‘ç³»ç»Ÿä¸­çš„ä»»æ„èŠ‚ç‚¹å‘é€è¯·æ±‚ï¼Œ&lt;/p>
&lt;h2 id="å†™åœ¨åé¢">å†™åœ¨åé¢ &lt;a href="#%e5%86%99%e5%9c%a8%e5%90%8e%e9%9d%a2" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>Paxosçš„äº®ç‚¹åœ¨äºæŠŠå¤æ‚çš„ä¸œè¥¿è¯´ç®€å•äº†ã€‚è€ŒRaftçš„äº®ç‚¹æ˜¯æŠŠç®€å•çš„ä¸œè¥¿å…·ä½“åŒ–ï¼Œä½¿ä¹‹æˆä¸ºèƒ½è½åœ°çš„å·¥ç¨‹é¡¹ç›®ã€‚&lt;/p>
&lt;p>ä½†æ˜¯Paxosåšä¸ºä¸€ç§Quorumåè®®ï¼ˆä¿—ç§°P2Pï¼‰ï¼Œå…¶å·¥ç¨‹å¤æ‚æ€§æ˜¯éš¾ä»¥é¿å…çš„ã€‚Raftåœ¨Paxosåè®®ä¸Šé¢åŠ å…¥äº†å¾ˆå¤šé™åˆ¶ä»¥ç®€åŒ–å®ç°ï¼Œä½†æ˜¯æƒ³è¦å®Œæ•´çš„å®ç°å…¶åŠŸèƒ½ä»ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚ï¼ˆæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥&lt;a href="https://pdos.csail.mit.edu/6.824/labs/lab-raft.html">æŒ‘æˆ˜ä¸€ä¸‹è‡ªå·±&lt;/a>ï¼‰&lt;/p>
&lt;p>ä¸‹é¢ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬ä¼šæ¢ä¸€ç§æ–°æ€è·¯ï¼Œå­¦ä¹ PecificAç®—æ³•ï¼Œçœ‹ä¸€çœ‹å¦‚ä½•ä½¿ç”¨Paxoså®ç°ä¸€ä¸ªä¸»ä»å¤åˆ¶åè®®ã€‚&lt;/p>
&lt;h2 id="å†™åœ¨æ›´åé¢">å†™åœ¨æ›´åé¢ &lt;a href="#%e5%86%99%e5%9c%a8%e6%9b%b4%e5%90%8e%e9%9d%a2" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>ä¸ªäººè§‰å¾—ï¼ŒRaftè®ºæ–‡çš„ä¸€ä¸ªæ›´å¤§äº®ç‚¹æ˜¯å……åˆ†çš„æ€è€ƒäº†Paxos/Multi-Paxosåœ¨å·¥ç¨‹å®è·µä¸Šçš„ç¼ºé™·ã€‚æ€è€ƒå¹¶æå‡ºæœ‰ä»·å€¼çš„è´¨ç–‘ï¼Œè€Œä¸æ˜¯è¢«ä»–äººçš„è§‚ç‚¹å¸¦ç€èµ°ï¼ŒçœŸçš„æ˜¯æœ€é‡è¦çš„èƒ½åŠ›ä¹‹ä¸€äº†ã€‚&lt;/p>
&lt;p>å¤§èƒ†çŒœæµ‹æ˜¯å› ä¸ºæœ‰è¶³å¤Ÿçš„ç†è§£èƒ½åŠ›ï¼Œæœ‰é¢å¤–çš„å¸¦å®½å»å‘é—®ï¼Ÿè¿™æ˜¯ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ã€‚&lt;/p></description></item><item><title>ç™½è¯ä¸€è‡´æ€§åè®® - Paxosã€Raftå’ŒPacificA[0]</title><link>https://wizmann.top/posts/paxos-raft-pecifaca0/</link><pubDate>Sun, 25 Nov 2018 00:00:00 +0000</pubDate><guid>https://wizmann.top/posts/paxos-raft-pecifaca0/</guid><description>&lt;h2 id="ä¸€è‡´æ€§åè®®---paxos">ä¸€è‡´æ€§åè®® - Paxos &lt;a href="#%e4%b8%80%e8%87%b4%e6%80%a7%e5%8d%8f%e8%ae%ae---paxos" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿå½“ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ä¿æŒèŠ‚ç‚¹ä¹‹é—´çš„ä¸€è‡´æ€§ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è®©ç³»ç»Ÿä¸­çš„èŠ‚ç‚¹ç›¸äº’åè°ƒé€šåŠ›åˆä½œï¼Œæœ‰å¯èƒ½çš„è®©ç³»ç»Ÿæ­£ç¡®çš„å·¥ä½œã€‚ä½†æ˜¯ï¼Œç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿæœ¬èº«çš„ç‰¹æ€§ï¼Œéœ€è¦æˆ‘ä»¬åœ¨ä¸å¯é çš„ç¡¬ä»¶ä¸Šå°½å¯èƒ½çš„æ„å»ºå¯é çš„ç³»ç»Ÿã€‚æ‰€ä»¥ï¼Œçœ‹ä¼¼ç®€å•çš„ä¸€è‡´æ€§é—®é¢˜æˆä¸ºäº†åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸçš„ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ã€‚&lt;/p>
&lt;p>Paxosç®—æ³•æ˜¯Leslie Lamportäº1990å¹´æå‡ºçš„ä¸€ç§ä¸€è‡´æ€§ç®—æ³•ã€‚ä¹Ÿæ˜¯ç›®å‰å…¬è®¤è§£å†³åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜æœ€æœ‰æ•ˆçš„ç®—æ³•ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>Paxosç®—æ³•çš„ç›®æ ‡æ˜¯åœ¨ä¸€ä¸ªä¸å¯é çš„åˆ†å¸ƒå¼ç³»ç»Ÿå†…ï¼Œåªé€šè¿‡ç½‘ç»œé€šä¿¡ï¼Œèƒ½å¤Ÿå¿«é€Ÿä¸”æ­£ç¡®åœ°åœ¨é›†ç¾¤å†…éƒ¨å¯¹æŸä¸ªæ•°æ®çš„å€¼è¾¾æˆä¸€è‡´ã€‚å¹¶ä¸”ä¿è¯ä¸è®ºå‘ç”Ÿä»»ä½•å¼‚å¸¸ï¼Œéƒ½ä¸ä¼šç ´åç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;h2 id="paxosç®—æ³•">Paxosç®—æ³• &lt;a href="#paxos%e7%ae%97%e6%b3%95" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;h3 id="å¦ä¸€ç§ç®€åŒ–äº†çš„å½¢è±¡çš„é—®é¢˜æè¿°---ä¹°è½¦ä½">å¦ä¸€ç§ï¼ˆç®€åŒ–äº†çš„ï¼‰å½¢è±¡çš„é—®é¢˜æè¿° - ä¹°è½¦ä½ &lt;a href="#%e5%8f%a6%e4%b8%80%e7%a7%8d%e7%ae%80%e5%8c%96%e4%ba%86%e7%9a%84%e5%bd%a2%e8%b1%a1%e7%9a%84%e9%97%ae%e9%a2%98%e6%8f%8f%e8%bf%b0---%e4%b9%b0%e8%bd%a6%e4%bd%8d" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>æŸå°åŒºçš„ä¸€äº›å±…æ°‘åœ¨æŠ¢è½¦ä½ï¼Œè€Œè½¦ä½åªæœ‰ä¸€ä¸ªã€‚å±…æ°‘ä»¬è¾¾æˆåè®®ï¼Œåªè¦ä¸€ä¸ªæŠ¥ä»·è·å¾—åŠæ•°ä»¥ä¸Šå±…æ°‘è®¤å¯ï¼Œé‚£ä¹ˆæå‡ºè¿™ä¸ªå‡ºä»·çš„å±…æ°‘åˆ™è·å¾—äº†è½¦ä½çš„æ‰€æœ‰æƒã€‚&lt;/p>
&lt;p>å±…æ°‘ä¹‹é—´éå¸¸å‹å–„ï¼Œå¦‚æœçŸ¥é“äº†è½¦ä½å·²ç»æœ‰äº†ä¹°å®¶ï¼Œå°±ä¸ä¼šç»§ç»­å‡ºä»·è´­ä¹°ï¼Œå¹¶ä¸”ä¼šå¸®å¿™ä¼ æ’­è¿™ä¸ªä¿¡æ¯ã€‚&lt;/p>
&lt;p>å±…æ°‘ä»¬éƒ½æ˜¯éµçºªå®ˆæ³•çš„å¥½å…¬æ°‘ï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­éƒ½åªä¼šå¦‚å®çš„ä¸å…¶å®ƒç”¨æˆ·åˆ†äº«ä¿¡æ¯ã€‚ä¿¡æ¯çš„åˆ†äº«æ˜¯åœ¨ç½‘ä¸Šï¼Œé€šè¿‡ä¸€å¯¹ä¸€çš„ç§å¯†èŠå¤©è¿›è¡Œã€‚ä½†æ˜¯å°åŒºçš„æ‰‹æœºä¿¡å·éå¸¸å·®ï¼Œæˆ‘ä»¬ä¸èƒ½ä¿è¯é€šä¿¡çš„è´¨é‡ï¼Œä¸€äº›ä¿¡æ¯å¯èƒ½ä¼šä¸¢å¤±ã€‚ä½†æ˜¯å±…æ°‘ä¸ä¼šæ‰çº¿ã€‚ä¹Ÿä¸ä¼šå¤±å»è®°å¿†ï¼Œå¹¶ä¸”é€šä¿¡çš„å†…å®¹æ˜¯å®Œæ•´çš„ï¼Œä¸ä¼šè¢«ç¯¡æ”¹çš„ã€‚&lt;/p>
&lt;p>åˆ’é‡ç‚¹ï¼š&lt;/p>
&lt;ol>
&lt;li>éœ€è¦åŠæ•°ä»¥ä¸Šå±…æ°‘çš„è®¤å¯ï¼Œæ‰èƒ½å£°ç§°æ‹¥æœ‰è½¦ä½ã€‚è¿™ä¸ªå±…æ°‘è¢«ç§°ä¸ºè½¦ä½çš„â€œå…¬è®¤æ‹¥æœ‰è€…â€&lt;/li>
&lt;li>è½¦ä½æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥ä¸€ä¸ªè½¦ä½ä¸èƒ½åŒæ—¶æœ‰ä¸¤ä¸ªâ€œå…¬è®¤æ‹¥æœ‰è€…â€&lt;/li>
&lt;li>è½¦ä½å¯ä»¥æš‚æ—¶æ²¡æœ‰æ‹¥æœ‰è€…ï¼Œä½†æ˜¯éœ€è¦å°½å¿«é€‰å‡ºä¸€ä¸ª&lt;/li>
&lt;li>é€šä¿¡æ˜¯ä¸å¯é çš„(not-reliable)ï¼Œä½†æ˜¯æ­£ç¡®æ€§(integrity)å’Œå¯æŒä¹…æ€§ï¼ˆdurabilityï¼‰æ˜¯å¯ä»¥ä¿è¯çš„&lt;/li>
&lt;li>æ•´ä¸ªæµç¨‹çš„ç›®æ ‡æ˜¯ç¡®å®šè½¦ä½çš„æ‹¥æœ‰è€…ã€‚æµç¨‹çš„å‚ä¸è€…ä¸ä¼šä»¥è‡ªå·±æ‹¥æœ‰è½¦ä½ä¸ºæœ€ç»ˆç›®æ ‡&lt;/li>
&lt;/ol>
&lt;h3 id="å¦‚ä½•é€‰å‡ºæœ€ç»ˆçš„ä¹°å®¶">å¦‚ä½•é€‰å‡ºæœ€ç»ˆçš„ä¹°å®¶ &lt;a href="#%e5%a6%82%e4%bd%95%e9%80%89%e5%87%ba%e6%9c%80%e7%bb%88%e7%9a%84%e4%b9%b0%e5%ae%b6" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>ç”±äºé€šä¿¡æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œå¯¹äºæ‰€æœ‰å‚ä¸è€…æ¥è¯´ï¼Œä»–ä»¬å¯¹æ•´ä¸ªç³»ç»Ÿçš„äº†è§£éƒ½æ˜¯ç‰‡é¢çš„ã€è¿‡æ—¶çš„ã€‚ä½†æ˜¯å‚ä¸è€…ä¼šé€šè¿‡ä¸å…¶å®ƒå‚ä¸è€…è¿›è¡Œé€šä¿¡ï¼Œä¸æ–­è·å¾—æ›´åŠæ—¶çš„ä¿¡æ¯ï¼Œä»è€Œæœ€ç»ˆè¾¾æˆä¸€è‡´ã€‚&lt;/p>
&lt;p>å¯¹äºæ™®é€šå±…æ°‘ï¼Œä¼šè®°å½•â€œå·²çŸ¥æœ€é«˜æŠ¥ä»·â€å’Œâ€œå·²ç¡®è®¤æŠ¥ä»·â€ä¸¤ä¸ªçŠ¶æ€ã€‚ä¼šå¤„ç†ä¸¤ç§è¯·æ±‚ï¼š&lt;/p>
&lt;ol>
&lt;li>è¯¢ä»·ï¼šå¦‚æœå±…æ°‘å·²ç¡®è®¤äº†æŸä¸ªæŠ¥ä»·ï¼Œåˆ™è¿”å›è¿™ä¸ªæŠ¥ä»·ã€‚å¦åˆ™ä¼šå°è¯•æ›´æ–°å·²çŸ¥æœ€é«˜æŠ¥ä»·ï¼Œå¹¶æŠ¥å‘Šä¹°å®¶å½“å‰çš„æœ€é«˜æŠ¥ä»·&lt;/li>
&lt;li>æŠ¥ä»·ï¼šå±…æ°‘ä¼šå°†è¯·æ±‚ä¸­çš„æŠ¥ä»·ä¸è‡ªå·±å·²çŸ¥çš„æœ€é«˜æŠ¥ä»·è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœé«˜äºæˆ–ç­‰äºæœ¬åœ°å·²ç»æŠ¥ä»·ï¼Œæ— è®ºæ˜¯å¦å·²ç»æœ‰å·²ç¡®è®¤æŠ¥ä»·ï¼Œéƒ½ä¼šç¡®è®¤è¿™ä¸ªæŠ¥ä»·&lt;/li>
&lt;/ol>
&lt;p>è€Œå¯¹äºä¹°å®¶ï¼Œä¼šå‘å‡ºä¸¤ç§ä¸åŒçš„ä¿¡æ¯ï¼š&lt;/p>
&lt;ol>
&lt;li>è¯¢ä»·ï¼šä»¥æŸä¸€ä¸ªæŠ¥ä»·é—®è¯¢å¤šæ•°å±…æ°‘ï¼Œå¦‚æœæœ‰å·²ç¡®è®¤çš„æŠ¥ä»·ï¼Œåˆ™æ”¾å¼ƒè‡ªå·±çš„æŠ¥ä»·ã€‚å¦‚æœè¿™ä¸ªæŠ¥ä»·ä½äºå±…æ°‘å·²çŸ¥çš„æŠ¥ä»·ï¼Œåˆ™æé«˜æŠ¥ä»·ã€‚&lt;/li>
&lt;li>æŠ¥ä»·ï¼šå¦‚æœè¯¢ä»·è¿‡ç¨‹ä¸­æ”¶åˆ°äº†å·²ç¡®è®¤çš„æŠ¥ä»·ï¼Œåˆ™å¸®å¿™è½¬å‘è¿™ä¸ªæŠ¥ä»·ã€‚å¦åˆ™å‘é€è‡ªå·±çš„æŠ¥ä»·ï¼Œå¦‚æœæŠ¥ä»·è·å¾—äº†å¤šæ•°å±…æ°‘çš„è®¤å¯ï¼Œå³å¯ä»¥è®¤ä¸ºæ‰€æœ‰æƒå·²ç»æ›´æ–°&lt;/li>
&lt;/ol>
&lt;h3 id="ä¸€è‡´æ€§çš„ç›´è§‚è¯æ˜">ä¸€è‡´æ€§çš„ç›´è§‚è¯æ˜ &lt;a href="#%e4%b8%80%e8%87%b4%e6%80%a7%e7%9a%84%e7%9b%b4%e8%a7%82%e8%af%81%e6%98%8e" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>æŠ¥ä»·é˜¶æ®µï¼Œé™¤äº†ä¿è¯æ­£ç¡®æ€§ä¹‹å¤–ï¼Œå¯¹äºå±…æ°‘å’Œä¹°å®¶å¹¶æ²¡æœ‰ä»»ä½•çº¦æŸã€‚å…¶æœ¬è´¨å‚ä¸è€…ä¹‹é—´åŒæ­¥ä¿¡æ¯çš„è¿‡ç¨‹ã€‚&lt;/p>
&lt;p>è€Œä¸€è‡´æ€§åœ¨æŠ¥ä»·é˜¶æ®µå¯ä»¥è¢«å¾ˆå¥½çš„ä¿è¯&lt;/p>
&lt;ul>
&lt;li>å¦‚æœè½¦ä½è¿˜æ²¡æœ‰ä¸»äººï¼Œé‚£ä¹ˆå¤§å®¶å°±æ‹¼ä¸€æ‹¼è¿æ°”å’Œæ‰‹é€Ÿï¼Œç›´åˆ°æœ‰ä¸€ä¸ªä¹°å®¶è·å¾—äº†åŠæ•°å±…æ°‘çš„è®¤å¯ã€‚&lt;/li>
&lt;li>å¦‚æœç”¨æˆ·Aå·²ç»å£°æ˜ä»¥ä»·æ ¼Pä¹°å…¥è½¦ä½ï¼ˆè®°ä¸º&lt;code>(P, A)&lt;/code>ï¼‰ï¼Œæ­¤æ—¶å¿…æœ‰å¤šæ•°å±…æ°‘å·²ç»è®¤å¯&lt;code>(P, A)&lt;/code>ã€‚å¦‚æœç”¨æˆ·Bæƒ³è¦å£°æ˜ä»¥ä»·æ ¼Q(Q &amp;gt;= P)ä¹°å…¥è½¦ä½ï¼Œé¦–å…ˆéœ€è¦å‘å¤šæ•°å±…æ°‘è¯¢ä»·ï¼Œåœ¨è¯¢ä»·çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å®šä¼šæ”¶åˆ°ç”¨æˆ·Aå·²ç»æ‹¥æœ‰è½¦ä½çš„ä¿¡æ¯ï¼Œæ­¤æ—¶Båªä¼šå¸®Aæ‰©æ•£ä¿¡æ¯ï¼Œè€Œä¸ä¼šå»äº‰å¤ºæ‹¥æœ‰æƒã€‚ç³»ç»Ÿæœ€ç»ˆä¼šè¾¾åˆ°ä¸€ä¸ªç¨³å®šçš„çŠ¶æ€ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å¤±å¿†---æ”¾æ¾å¯æŒä¹…æ€§è¦æ±‚">å¤±å¿† - æ”¾æ¾å¯æŒä¹…æ€§è¦æ±‚ &lt;a href="#%e5%a4%b1%e5%bf%86---%e6%94%be%e6%9d%be%e5%8f%af%e6%8c%81%e4%b9%85%e6%80%a7%e8%a6%81%e6%b1%82" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>å¦‚æœæˆ‘ä»¬æ”¾æ¾å¯æŒä¹…æ€§çš„é™åˆ¶ã€‚å³å±…æ°‘å¯ä»¥æ‰çº¿ï¼Œæˆ–è€…æ¸…ç©ºè‡ªå·±çš„è®°å¿†ã€‚é‚£æ­¤æ—¶æœ€å·®æƒ…å†µæ˜¯å¤šæ•°å·²ç»ç¡®è®¤æŠ¥ä»·çš„å±…æ°‘ä¸å†æ‰¿è®¤æŠ¥ä»·ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±æœ‰å¯èƒ½é€€åŒ–åˆ°â€œä»æ²¡æœ‰äººæ‹¥æœ‰è½¦ä½â€çš„çŠ¶æ€ã€‚æ­¤æ—¶æˆ‘ä»¬åªéœ€è¦å†è¿›è¡Œä¸€è½®é€‰ä¸¾ï¼Œé€‰å‡ºè½¦ä½æ–°çš„ä¸»äººå³å¯ã€‚è¿™å¹¶ä¸ä¼šç ´åæ•´ä¸ªç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;h3 id="æ—è§‚è€…è§†è§’">æ—è§‚è€…è§†è§’ &lt;a href="#%e6%97%81%e8%a7%82%e8%80%85%e8%a7%86%e8%a7%92" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>å‡å¦‚æˆ‘ä»¬åšä¸ºæ—è§‚è€…ï¼Œæƒ³è¦è§‚å¯Ÿæ˜¯è°æœ€ç»ˆæ‹¥æœ‰äº†è½¦ä½ã€‚å¯ä»¥æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>â€œæ¨â€æ¨¡å‹&lt;/li>
&lt;/ol>
&lt;p>å½“æ–°çš„ä¹°å®¶è¢«é€‰ä¸¾å‡ºæ¥æ—¶ï¼Œæ–°ä¹°å®¶ä¼šé€šçŸ¥æ‰€æœ‰æ—è§‚è€…è½¦ä½çš„æ‹¥æœ‰è€…å‘ç”Ÿäº†å˜åŒ–ã€‚è¿™æ ·è§‚å¯Ÿè€…ä»¬å¯ä»¥å®æ—¶çš„è·å¾—çŠ¶æ€çš„å˜åŒ–ï¼Œä½†æ˜¯ç”±äºé€šä¿¡æ˜¯ä¸å¯é çš„ï¼Œæ—è§‚è€…å¯èƒ½ä¼šé”™è¿‡çŠ¶æ€å˜åŒ–çš„ä¿¡æ¯ã€‚å¦‚æœè¿™ç§æƒ…å†µå‡ºç°ï¼Œè§‚å¯Ÿè€…åªèƒ½ç­‰å¾…ä¸‹æ¬¡çŠ¶æ€å˜åŒ–ï¼Œæ‰èƒ½æ›´æ–°è‡ªå·±çš„çŠ¶æ€ã€‚&lt;/p>
&lt;ol start="2">
&lt;li>â€œæ‹‰â€æ¨¡å‹&lt;/li>
&lt;/ol>
&lt;p>æ—è§‚è€…å¯ä»¥å‡è£…è‡ªå·±æ˜¯ä¸€ä¸ªä¹°å®¶ï¼Œå‘å¤šæ•°å±…æ°‘è¿›è¡Œè¯¢ä»·ã€‚å¦‚æœæœ€ç»ˆä¹°å®¶å·²ç»ç¡®å®šï¼Œé‚£ä¹ˆè¯¢ä»·çš„å“åº”ä¸­ä¸€å®šåŒ…å«ç€æœ€æ–°çš„æ‹¥æœ‰è€…ä¿¡æ¯ã€‚&lt;/p>
&lt;h3 id="paxoså¦‚ä½•è§£å†³æ´»é”é—®é¢˜">Paxoså¦‚ä½•è§£å†³æ´»é”é—®é¢˜ &lt;a href="#paxos%e5%a6%82%e4%bd%95%e8%a7%a3%e5%86%b3%e6%b4%bb%e9%94%81%e9%97%ae%e9%a2%98" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>å‡è®¾å±…æ°‘é‡Œæœ‰ä¹°å®¶Aã€Bï¼ŒåŒæ—¶å‘å…¶å®ƒå±…æ°‘æå‡ºè¯¢ä»·/æŠ¥ä»·ã€‚å¦‚æœä»–ä»¬çš„è¯¢ä»·/æŠ¥ä»·é¡ºåºæ’åˆ—å¦‚ä¸‹ï¼Œä¼šå‡ºç°ä»€ä¹ˆçŠ¶å†µå‘¢ï¼Ÿ&lt;/p>
&lt;pre tabindex="0">&lt;code>A: è¯¢ä»·ï¼Œ1å—
ä¼—å±…æ°‘ï¼šå¥½çš„ï¼Œæœ€é«˜ä»·ä¸º1å—
Bï¼šåŠ é’±ï¼Œ2å—
ä¼—å±…æ°‘ï¼šæ”¶åˆ°ï¼Œæœ€é«˜ä»·ä¸º2å—
ï¼ˆæ­¤æ—¶Aä»æ—§è®¤ä¸º1å—æ˜¯æœ€é«˜æŠ¥ä»·ï¼‰
Aï¼šæœ€ç»ˆæŠ¥ä»·ï¼Œ1å—
ä¼—å±…æ°‘ï¼šä¸è¡Œä¸è¡Œï¼ŒBå·²ç»åŠ åˆ°ä¸¤å—é’±äº†
Aï¼šï¼ˆå†…å¿ƒmmpï¼‰è¯¢ä»·ï¼Œ3å—
ï¼ˆBå¯¹Aæé«˜äº†æŠ¥ä»·ä¹Ÿæ¯«æ— å‡†å¤‡ï¼‰
Bï¼šæœ€ç»ˆæŠ¥ä»·ï¼Œ2å—
ä¼—å±…æ°‘ï¼šæ»šç²—ï¼ŒAå·²ç»æŠ¥ä»·3å—äº†
Bï¼šæˆ‘åŠ é’±
Aï¼šæˆ‘å†åŠ 
Bï¼šæˆ‘åŠ é’±
Aï¼šæˆ‘å†åŠ 
ä¼—å±…æ°‘ï¼šã€‚ã€‚ã€‚ï¼ˆä½ ä»¬ç©ä¸ªçƒå•Šï¼‰
&lt;/code>&lt;/pre>&lt;p>éœ‡æƒŠï¼Œè¿™å¸®æ— èŠçš„äººå±…ç„¶ä¸ºäº†è¿™å‡ å—é’±å¯ä»¥ç©ä¸€å¤©ï¼&lt;/p>
&lt;p>ä»¥è¿™æ ·çš„æµç¨‹è¿›è¡Œä¸‹å»ï¼Œç³»ç»Ÿä¼šé™·å…¥æ´»é”ï¼Œå‡ ä¹ä¸èƒ½è¾¾æˆä¸€è‡´äº†ã€‚æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†Aå’ŒBçš„è¯¢ä»·é‡è¯•æ—¶é—´åŠ å…¥éšæœºåŒ–å› å­ï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©æ›´å¿«çš„è®©å±…æ°‘ä»¬è¾¾æˆä¸€è‡´ã€‚&lt;/p>
&lt;h3 id="paxoså¦‚ä½•è§£å†³æŠ•ç¥¨åˆ†è£‚é—®é¢˜">Paxoså¦‚ä½•è§£å†³æŠ•ç¥¨åˆ†è£‚é—®é¢˜ &lt;a href="#paxos%e5%a6%82%e4%bd%95%e8%a7%a3%e5%86%b3%e6%8a%95%e7%a5%a8%e5%88%86%e8%a3%82%e9%97%ae%e9%a2%98" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>&lt;img src="https://raw.githubusercontent.com/Wizmann/assets/master/wizmann-pic/18-11-25/split-vots.png" alt="">&lt;/p>
&lt;p>å¦‚å›¾æ‰€ç¤ºï¼Œå±…æ°‘ä»¬çš„æŠ•ç¥¨å¯èƒ½ä¼šå‘ç”Ÿåˆ†è£‚ï¼Œå³æ²¡æœ‰ä¸€ä¸ªå€¼è¾¾åˆ°äº†åŠæ•°ã€‚è¿™é‡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯è®©ä¹°å®¶é‡æ–°è¿›è¡Œè¯¢ä»·ï¼ŒåŒæ—¶åŠ å…¥éšæœºåŒ–å› å­ï¼Œä½¿å¾—æŠ•ç¥¨è¾¾æˆåŠæ•°ä»¥ä¸Šçš„æ¦‚ç‡æ›´å¤§ã€‚&lt;/p>
&lt;h2 id="è¯´æ­£ç»çš„">è¯´æ­£ç»çš„ &lt;a href="#%e8%af%b4%e6%ad%a3%e7%bb%8f%e7%9a%84" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>å¯¹äºPaxosç®—æ³•çš„å®˜æ–¹æè¿°å’Œæ­£ç¡®æ€§çš„è¯¦ç»†è¯æ˜å¯ä»¥å‚è€ƒ&lt;a href="https://lamport.azurewebsites.net/pubs/paxos-simple.pdf">åŸè®ºæ–‡&lt;/a>ã€‚è¿™é‡Œå°±ä¸æ¬è¿äº†ï¼Œåªæ˜¯æŠŠæˆ‘çš„ä¾‹å­å’Œå®˜æ–¹é€šç”¨æœ¯è¯­è¿›è¡Œä¸€ä¸‹è®²è§£ï¼Œé¿å…æŠŠå¤§å®¶å¸¦è·‘åäº†ã€‚&lt;/p>
&lt;p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œâ€œè½¦ä½â€çš„é€šç”¨æœ¯è¯­è¢«ç§°ä¸ºâ€œå…±è¯†â€ï¼Œæ•´ä¸ªç³»ç»Ÿä¸­æœ€å¤šæœ‰ä¸€ä¸ªå…±è¯†ã€‚è€Œâ€œè¯¢ä»·è¯·æ±‚â€è¢«ç§°ä¸ºâ€œprepareè¯·æ±‚â€ï¼Œâ€œæŠ¥ä»·è¯·æ±‚â€è¢«ç§°ä¸ºâ€œacceptè¯·æ±‚â€ã€‚&lt;/p>
&lt;p>æ¯ä¸ªè¯·æ±‚çš„ä»·æ ¼è¢«ç§°ä¸ºâ€œç¼–å·â€ï¼Œç¼–å·å¤§çš„è¯·æ±‚å¯ä»¥è¦†ç›–ç¼–å·å°çš„è¯·æ±‚ï¼Œå’Œâ€œä»·é«˜è€…å¾—â€æ˜¯ä¸€ä¸ªé“ç†ã€‚è¯·æ±‚ä¸­æ‰€å¸¦çš„ä¿¡æ¯è¢«ç§°ä¸ºâ€œvalueâ€ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œä»£è¡¨ç€è´­ä¹°è€…çš„èº«ä»½ä¿¡æ¯ã€‚&lt;/p>
&lt;h2 id="basic-paxoså’Œmulti-paxos">Basic Paxoså’ŒMulti Paxos &lt;a href="#basic-paxos%e5%92%8cmulti-paxos" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>ä¸Šé¢æˆ‘ä»¬æè¿°çš„Paxosç®—æ³•åˆè¢«ç§°ä¸ºBasic Paxosï¼Œå› ä¸ºæ¯ä¸€è½®æµç¨‹æ‰§è¡Œå®Œï¼Œæ‰€æœ‰çš„å‚ä¸è€…éƒ½ä¼šï¼ˆä¸”åªä¼šï¼‰è¾¾æˆä¸€ä¸ªå…±è¯†ã€‚è€Œåœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿ç»­ä¸æ–­çš„å¯¹å¤šä¸ªå€¼è¾¾æˆå…±è¯†ã€‚è¿™æ—¶Basic Paxosç®—æ³•å°±åŠ›ä¸èƒ½åŠäº†ï¼Œä¸€æ¥æ¯ä¸€ä¸ªå€¼çš„å…±è¯†éƒ½è‡³å°‘éœ€è¦ä¸¤æ¬¡å¹¿æ’­ç½‘ç»œè¯·æ±‚ï¼Œæ€§èƒ½å¤ªä½ï¼ŒäºŒæ¥åŒæ—¶å­˜åœ¨çš„å¤šä¸ªææ¡ˆä¼šäº’ç›¸ç«äº‰ï¼Œä½¿å¾—é€šä¿¡çš„æ•ˆç‡ä¸‹é™ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒMulti Paxosç®—æ³•åº”è¿è€Œç”Ÿï¼Œå³ä¸€ç§å¯ä»¥é«˜æ•ˆçš„ã€è¿ç»­ä¸æ–­çš„å¯¹å¤šä¸ªå€¼è¾¾æˆå…±è¯†çš„ç®—æ³•ã€‚&lt;/p>
&lt;p>ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šä»‹ç»ä¸€ç§è¢«æ™®éè®¤å¯ï¼Œä»¥åŠå·²ç»è¢«å·¥ä¸šç•Œåº”ç”¨çš„Multi Paxosçš„å®ç° â€”â€” Raftç®—æ³•ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ &lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="https://lamport.azurewebsites.net/pubs/paxos-simple.pdf">Paxos Made Simple&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://book.douban.com/subject/26292004/">ä»Paxosåˆ°Zookeeper&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://zhuanlan.zhihu.com/p/31780743">çŸ¥ä¹ï¼šPaxosç®—æ³•è¯¦è§£&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Windows Azure Storage Made Simple</title><link>https://wizmann.top/posts/azure-storage-made-simple/</link><pubDate>Wed, 11 Oct 2017 21:12:15 +0000</pubDate><guid>https://wizmann.top/posts/azure-storage-made-simple/</guid><description>&lt;h2 id="åŠ æœºå™¨å°±æ˜¯ä¸€æŠŠæ¢­">åŠ æœºå™¨å°±æ˜¯ä¸€æŠŠæ¢­ &lt;a href="#%e5%8a%a0%e6%9c%ba%e5%99%a8%e5%b0%b1%e6%98%af%e4%b8%80%e6%8a%8a%e6%a2%ad" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;blockquote>
&lt;p>æ²¡æœ‰ä»€ä¹ˆé—®é¢˜æ˜¯åŠ ä¸€åƒå°æœºå™¨è§£å†³ä¸äº†çš„ï¼Œå¦‚æœæœ‰ï¼Œå°±å†åŠ ä¸€åƒå°ã€‚ &lt;br>
â€”â€” ã€Š21å¤©ç²¾é€šåˆ†å¸ƒå¼ç³»ç»Ÿã€‹&lt;/p>&lt;/blockquote>
&lt;p>åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨è®¾è®¡ä¹‹åˆï¼Œæ˜¯ä¸ºäº†è§£å†³å•æœºç³»ç»Ÿçš„å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§é—®é¢˜çš„ã€‚&lt;/p>
&lt;p>ä¸¾ä¸ªä¾‹å­ï¼Œå•æœºç³»ç»Ÿå°±æ˜¯é›‡ä¸€ä¸ªå°å¼Ÿæ›¿ä½ å¹²æ´»ï¼Œä½†æ˜¯è¿™ä¸ªå°å¼Ÿä¸å¤ªé è°±ï¼Œå¶å°”æ³¡ä¸ªç—…å·ä¸ä¸Šç­ï¼Œå¶å°”å·¥ä½œå¤ªå¤šä¸€ä¸ªäººå¹²ä¸è¿‡æ¥ã€‚&lt;/p>
&lt;p>åˆ†å¸ƒå¼ç³»ç»Ÿå°±æ˜¯é›‡ä¸€ç¾¤å°å¼Ÿå¸®ä½ å¹²æ´»ï¼Œå¶å°”æœ‰ä¸€ä¸¤ä¸ªå°å¼Ÿæ³¡ç—…å·ï¼Œæˆ‘ä»¬ä¼šæœ‰å¯Œè£•çš„äººåŠ›é¡¶ä¸Šï¼Œå·¥ä½œå¤ªå¤šæˆ‘ä»¬å¯ä»¥ç»§ç»­æ‹‰æ–°çš„å°å¼Ÿå…¥ä¼™ï¼Œç¾æ»‹æ»‹ã€‚&lt;/p>
&lt;p>è¿™ä¸ªæ¯”å–»å¾ˆå¥½çš„æè¿°äº†å•æœºç³»ç»Ÿå’Œåˆ†å¸ƒå¼ç³»ç»Ÿä¹‹é—´çš„å…³ç³»ã€‚æ‰€ä»¥ä¸€ç§å¯èƒ½çš„åˆ†å¸ƒå¼ç³»ç»Ÿå°±æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-9-25/28278606.jpg" alt="">&lt;/p>
&lt;p>æˆ‘ä»¬å°†ç›¸åŒåŠŸèƒ½çš„æœåŠ¡å™¨ç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œé€šè¿‡ä¸€ä¸ªload balancerå¯¹å¤–æä¾›æœåŠ¡ã€‚&lt;/p>
&lt;p>è¿™æ ·çš„ç³»ç»Ÿåˆæ­¥è§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜ï¼Œåœ¨é¢å¯¹å¯æ‰©å±•æ€§å’Œå¯ç”¨æ€§çš„é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ä¼šï¼š&lt;/p>
&lt;ul>
&lt;li>å®¹é‡ä¸è¶³å°±åŠ æœºå™¨&lt;/li>
&lt;li>å•æœºæŒ‚æ‰äº†å°±æŠŠæµé‡è°ƒåº¦åˆ°å…¶å®ƒçš„èŠ‚ç‚¹ä¸Š&lt;/li>
&lt;/ul>
&lt;p>ä¸è¿‡å•çº¯çš„åŠ æœºå™¨å¹¶ä¸èƒ½å®Œå…¨æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ã€‚å¯¹äºCPUå¯†é›†å‹çš„æœåŠ¡ï¼Œå¢åŠ å‰¯æœ¬æ•°å¯ä»¥æœ‰æ•ˆçš„å‡æ‘Šè®¡ç®—å‹åŠ›ï¼Œä½†æ˜¯å¯¹äºå­˜å‚¨å¯†é›†å‹çš„æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å¢åŠ åˆ†åº“é€»è¾‘æ‰èƒ½æœ‰æ•ˆçš„å¢åŠ ç³»ç»Ÿçš„è®¡ç®—èƒ½åŠ›ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚æˆ‘ä»¬æœ‰100Gçš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®åº“çš„å®¹é‡æœ€å¤šåªæ”¯æŒ50Gã€‚è¿™æ ·æ— è®ºæ€ä¹ˆæ ·å¢åŠ å‰¯æœ¬éƒ½ä¸èƒ½è§£å†³é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬å°†100Gçš„æ•°æ®å‡åˆ†ï¼Œå­˜å‚¨åœ¨ä¸¤ä¸ª50Gçš„åˆ†åº“ä¸Šï¼Œæˆ‘ä»¬å°±å¯ä»¥æ”¯æŒå•æœºç³»ç»Ÿå®¹çº³ä¸äº†çš„æ•°æ®äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-9-22/14141171.jpg" alt="">&lt;/p>
&lt;p>æˆ‘ä»¬è¿˜å¯ä»¥æŠŠå¤šä¸ªè¿™æ ·çš„åˆ†å¸ƒå¼å­ç³»ç»Ÿç»„åˆèµ·æ¥ï¼Œå°±å¯ä»¥ç»„æˆä¸€ä¸ªå°æœ‰è§„æ¨¡çš„åˆ†å¸ƒå¼ç³»ç»Ÿäº†ã€‚ç°åœ¨æˆ‘ä»¬åœ¨ä½¿ç”¨çš„ä¸€äº›æœåŠ¡ï¼Œä»åœ¨ä½¿ç”¨è¿™ç§æ¨¡å‹ã€‚&lt;/p>
&lt;p>ä¸Šé¢åˆ†å¸ƒå¼æ¨¡å‹è™½ç„¶æœ‰æ•ˆï¼Œä½†æ˜¯å¼•å…¥äº†ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼šå› ä¸ºèŠ‚ç‚¹ä¹‹é—´æ˜¯éš”ç¦»çš„ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡æ¶ˆæ¯ä¼ é€’è¿›è¡Œé€šä¿¡ä¸åè°ƒï¼Œæ‰€ä»¥åŸºæœ¬æ— æ³•å®Œå…¨ä¿è¯å‰¯æœ¬ä¹‹é—´ä¿æŒä¸€è‡´çš„å†…éƒ¨çŠ¶æ€ã€‚&lt;/p>
&lt;p>è¿™å°±æ˜¯æ‰€è°“çš„ä¸€è‡´æ€§é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="è¡¥å……ä¸€ç‚¹ç†è®ºçŸ¥è¯†">è¡¥å……ä¸€ç‚¹ç†è®ºçŸ¥è¯† &lt;a href="#%e8%a1%a5%e5%85%85%e4%b8%80%e7%82%b9%e7%90%86%e8%ae%ba%e7%9f%a5%e8%af%86" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;h3 id="capç†è®º">CAPç†è®º &lt;a href="#cap%e7%90%86%e8%ae%ba" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>CAPç†è®ºæŒ‡çš„æ˜¯ï¼š&lt;/p>
&lt;blockquote>
&lt;p>ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰å’Œåˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰è¿™ä¸‰ä¸ªåŸºæœ¬è¦æ±‚ï¼Œæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³å…¶ä¸­çš„ä¸¤é¡¹ã€‚&lt;/p>&lt;/blockquote>
&lt;p>CAPç†è®ºç”±Eric Breweråœ¨2000å¹´é¦–æ¬¡æå‡ºï¼Œå¹¶ä¸”2å¹´åè¢«Seth Gilbertå’ŒNancy Lynchä»ç†è®ºä¸Šè¯æ˜è¿™ä¸ªç†è®ºã€‚&lt;/p>
&lt;ul>
&lt;li>ä¸€è‡´æ€§æ˜¯æŒ‡æ•°æ®çš„å¤šä¸ªå‰¯æœ¬ä¹‹é—´ä¿æŒä¸€è‡´çš„ç‰¹æ€§ï¼›&lt;/li>
&lt;li>å¯ç”¨æ€§æ˜¯æŒ‡ç³»ç»Ÿçš„æœåŠ¡å¿…é¡»ä¸€ç›´å¤„äºå¯ç”¨çš„çŠ¶æ€;&lt;/li>
&lt;li>è€Œåˆ†åŒºå®¹é”™æ€§æ˜¯æŒ‡ç³»ç»Ÿåœ¨é­é‡ä»»ä½•ç½‘ç»œåˆ†åŒºæ•…éšœçš„æ—¶å€™ä»ç„¶èƒ½å¤Ÿä¿è¯å¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ï¼Œé™¤éæ˜¯æ•´ä¸ªç½‘ç»œç¯å¢ƒéƒ½å‘ç”Ÿäº†æ•…éšœ;&lt;/li>
&lt;/ul>
&lt;p>æŠ›å¼€ä¸€è‡´æ€§é—®é¢˜ä¸è°ˆï¼Œâ€œå¯ç”¨æ€§â€å’Œâ€œåˆ†åŒºå®¹é”™æ€§â€ä»æŸç§æ„ä¹‰ä¸Šè®²æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿçš„â€œæ ‡é…â€ï¼šå•æœºå’Œç½‘ç»œè¿æ¥å¹¶ä¸å¯é ï¼Œä»ä¸€å †ä¸å¯é çš„ç¡¬ä»¶ä¸Šå±‚å»ºç«‹ä¸€ä¸ªä¸å¯é çš„ç³»ç»Ÿå¹¶æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ä¸€è‡´æ€§å¸¸å¸¸è¢«ç‰ºç‰²ï¼Œæ¥ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§ã€‚&lt;/p>
&lt;h3 id="paxosç®—æ³•">Paxosç®—æ³• &lt;a href="#paxos%e7%ae%97%e6%b3%95" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>Paxosæ˜¯Leslie Lamportåœ¨1990å¹´æå‡ºçš„ä¸€ç§åŸºäºæ¶ˆæ¯ä¼ é€’ä¸”å…·æœ‰é«˜åº¦å®¹é”™æ€§çš„ä¸€è‡´æ€§ç®—æ³•ã€‚&lt;/p>
&lt;p>Paxosè§£å†³çš„é—®é¢˜æ˜¯å¦‚ä½•åœ¨ä¸€ä¸ªå¯èƒ½å‘ç”Ÿä¸Šè¿°å¼‚å¸¸çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¿«é€Ÿä¸”æ­£ç¡®åœ°åœ¨é›†ç¾¤å†…éƒ¨å¯¹æŸä¸ªæ•°æ®çš„å€¼è¾¾æˆä¸€è‡´ï¼Œå¹¶ä¸”ä¿è¯ä¸è®ºå‘ç”Ÿä»»ä½•å¼‚å¸¸ï¼Œéƒ½ä¸ä¼šç ´åæ•´ä¸ªç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>Paxosçš„æè¿°å’Œè¯æ˜æœ‰ä¸€äº›å¤æ‚ï¼Œè¿™é‡Œä¸åšå±•å¼€ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç³»ç»Ÿä¸­çš„å„ä¸ªèŠ‚ç‚¹ä½¿ç”¨ç±»ä¼¼äºé€‰ä¸¾æŠ•ç¥¨çš„ç®—æ³•æ¥è¾¾æˆä¸€è‡´ï¼Œé€‰ä¸¾è¿‡ç¨‹ä¸­ä¼šæœ‰çŸ­æš‚çš„æ•°æ®ä¸å¯ç”¨ä¸­é—´çŠ¶æ€ã€‚&lt;/p>
&lt;h2 id="æˆ‘æœ€è®¨åŒæˆ‘æƒ³åšçš„äº‹æƒ…åšä¸æˆ">â€œæˆ‘æœ€è®¨åŒæˆ‘æƒ³åšçš„äº‹æƒ…åšä¸æˆâ€ &lt;a href="#%e6%88%91%e6%9c%80%e8%ae%a8%e5%8e%8c%e6%88%91%e6%83%b3%e5%81%9a%e7%9a%84%e4%ba%8b%e6%83%85%e5%81%9a%e4%b8%8d%e6%88%90" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;blockquote>
&lt;p>åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œä¸€è‡´æ€§æ˜¯æŒ‡æ•°æ®åœ¨å¤šä¸ªå‰¯æœ¬ä¹‹é—´æ˜¯å¦èƒ½å¤Ÿä¿æŒä¸€è‡´çš„ç‰¹æ€§ã€‚åœ¨ä¸€è‡´æ€§çš„éœ€æ±‚ä¸‹ï¼Œå½“ä¸€ä¸ªç³»ç»Ÿåœ¨æ•°æ®ä¸€è‡´çš„çŠ¶æ€ä¸‹æ‰§è¡Œæ›´æ–°æ“ä½œåï¼Œåº”è¯¥ä¿è¯ç³»ç»Ÿçš„æ•°æ®ä»ç„¶å¤„äºä¸€è‡´çš„çŠ¶æ€ã€‚ &lt;br>
â€”â€” ã€Šä»Paxosåˆ°ZooKeeperã€‹&lt;/p>&lt;/blockquote>
&lt;p>æ— æ•°çš„ç†è®ºå’Œå®è·µè¯æ˜ï¼Œè§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€è‡´æ€§é—®é¢˜æ˜¯éå¸¸å›°éš¾çš„ã€‚ä»æœ€ç›´è§‚ä¸Šæ¥è¯´ï¼Œæˆ‘ä»¬æ‰¾ä¸åˆ°ä¸¤ç‰‡ä¸€æ ·çš„æ ‘å¶ï¼Œä¹Ÿæ‰¾ä¸åˆ°ä¸¤å°çŠ¶æ€å®Œå…¨ä¸€è‡´çš„åˆ†å¸ƒå¼èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>ä½†æ˜¯å‰äººçš„æ™ºæ…§æ˜¯æ— ç©·çš„ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆæ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼š&lt;/p>
&lt;h3 id="2pc-and-3pc">2PC and 3PC &lt;a href="#2pc-and-3pc" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>2PCï¼ˆTwo-phase Commitï¼Œä¸¤é˜¶æ®µæäº¤ï¼‰æ˜¯ç”¨æ¥ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§çš„ä¸€ä¸ªåè®®ã€‚å…¶æµç¨‹å¯ä»¥ç”±è¿™ä¸ªä¾‹å­æ¥è¡¨ç¤ºï¼š&lt;/p>
&lt;blockquote>
&lt;p>PMï¼ˆåè°ƒè€…ï¼‰: æˆ‘è¦åŠ ä¸ªéœ€æ±‚ï¼ï¼ˆé˜¶æ®µ1ï¼Œæäº¤äº‹åŠ¡è¯·æ±‚ï¼‰ &lt;br>
Dev1ï¼ˆå‚ä¸è€…ï¼‰ï¼šä½ åŠ å§ &lt;br>
Dev2ï¼ˆå‚ä¸è€…ï¼‰ï¼šä½ åŠ å§ &lt;br>
PMï¼ˆåè°ƒè€…ï¼‰ï¼šæˆ‘çœŸåŠ äº†ï¼ï¼ˆé˜¶æ®µ2ï¼Œæ‰§è¡Œäº‹åŠ¡æäº¤ï¼‰ &lt;br>
Dev1ï¼ˆå‚ä¸è€…ï¼‰ï¼šåŠ å®Œäº† &lt;br>
Dev2ï¼ˆå‚ä¸è€…ï¼‰ï¼šåŠ å®Œäº†&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>æ³¨ï¼šPMå’ŒDevæ˜¯ç¨‹åºå‘˜è€æ¢—è€Œå·²ã€‚å„ä¸ªèŒä¸šåªæ˜¯åˆ†å·¥ä¸åŒï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºäººæ°‘æœåŠ¡ã€‚&lt;/p>&lt;/blockquote>
&lt;p>æ•´ä¸ªæµç¨‹çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>åŒæ­¥é˜»å¡ &lt;br>
åœ¨æäº¤è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿéœ€è¦ç­‰å¾…æ‰€æœ‰å‚ä¸è€…çš„å“åº”ï¼Œæ‰€ä»¥ç³»ç»Ÿæ•´ä½“å¤„äºä¸€ç§é˜»å¡çŠ¶æ€ï¼Œå½±å“æ•ˆç‡ã€‚&lt;/li>
&lt;li>å•ç‚¹é—®é¢˜ &lt;br>
åè°ƒè€…æ˜¯ç³»ç»Ÿçš„å•ç‚¹ï¼Œå¦‚æœå½“æ‰ï¼Œæ•´ä¸ªç³»ç»Ÿå°±å¤„äºä¸å¯ç”¨çŠ¶æ€ã€‚&lt;/li>
&lt;li>æ•°æ®ä¸ä¸€è‡´ &lt;br>
ä¸€ä¸ªæ•°æ®ä¸€è‡´æ€§åè®®ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œç¡®å®æ˜¯éå¸¸è®½åˆºçš„äº‹æƒ…ã€‚åœ¨æ‰§è¡Œäº‹åŠ¡æäº¤é˜¶æ®µï¼Œå¦‚æœåè°ƒè€…ä¸å‚ä¸è€…çš„é€šä¿¡ä¸­æ–­ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ï¼š
&lt;ul>
&lt;li>å½“åè°ƒè€…å‘å¾€éƒ¨åˆ†å‚ä¸è€…çš„Commitæ¶ˆæ¯ä¸¢å¤±ï¼Œæ²¡æœ‰æ”¶åˆ°Commitçš„å‚ä¸è€…ä¼šå› ä¸ºè¶…æ—¶è€Œè®¤ä¸ºè¿™æ¬¡è¯·æ±‚å¤±è´¥è€Œè¿›è¡Œå›æ»š&lt;/li>
&lt;li>å½“å‚ä¸è€…å‘å¾€åè°ƒè€…çš„ACKæ¶ˆæ¯ä¸¢å¤±ï¼Œåè°ƒè€…ä¼šè®¤ä¸ºè¿™æ¬¡è¯·æ±‚å¤±è´¥ï¼Œä½†æ˜¯å‚ä¸è€…ç¡®å®å·²ç»Commitäº†æ•°æ®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>3PCï¼ˆThree-phace Commitï¼Œä¸‰é˜¶æ®µæäº¤ï¼‰æ˜¯2PCåè®®çš„æ”¹è¿›ç‰ˆï¼Œå°†æ•´ä¸ªè¯·æ±‚åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š&lt;/p>
&lt;ul>
&lt;li>äº‹åŠ¡è¯¢é—®&lt;/li>
&lt;li>é¢„æäº¤&lt;/li>
&lt;li>æ‰§è¡Œæäº¤&lt;/li>
&lt;/ul>
&lt;p>è¿™æ ·çš„æ”¹è¿›å‡å°‘äº†åŒæ­¥é˜»å¡çš„ç²’åº¦ï¼Œä½†æ˜¯ä»ç„¶æ²¡æœ‰è§£å†³å•ç‚¹é—®é¢˜å’Œæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚æ‰€ä»¥2PCå’Œ3PCéƒ½ä¸æ˜¯éå¸¸ç†æƒ³çš„æ•°æ®ä¸€è‡´æ€§åè®®ã€‚&lt;/p>
&lt;h3 id="paxos">Paxos &lt;a href="#paxos" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>ä¸Šæ–‡ä¸­æˆ‘ä»¬æåˆ°Paxosæ˜¯ä¸€ç§è¢«æ•°å­¦è¯æ˜è¿‡çš„ï¼Œå…·æœ‰é«˜åº¦å®¹é”™æ€§çš„ä¸€è‡´æ€§ç®—æ³•ã€‚ä½†æ˜¯å…¶æµç¨‹å¤æ‚ï¼Œé€šä¿¡æ¬¡æ•°è¾ƒå¤šï¼Œå¹¶ä¸”åœ¨ææ¡ˆæœªè¢«é€‰ä¸­ä¹‹å‰ä¸èƒ½ä¿è¯æ•°æ®çš„å¯ç”¨æ€§ã€‚&lt;/p>
&lt;p>æ‰€ä»¥Paxosçš„åº”ç”¨åœºæ™¯å¤šä¸ºå‘½åæœåŠ¡ã€é…ç½®ç®¡ç†ã€åˆ†å¸ƒå¼é”ç­‰è½»é‡çº§ä½†æ˜¯è€Œåˆéå¸¸æ ¸å¿ƒçš„æœåŠ¡ï¼Œä»è€Œæ‰¬é•¿é¿çŸ­ï¼Œæ›´å¥½çš„ä¸ºäººæ°‘æœåŠ¡ï¼Œ&lt;del>æ›´å¥½çš„åä¸‰ä¿—&lt;/del>ã€‚ã€‚&lt;/p>
&lt;h3 id="quorum-like-algorithm-amazon-dynamo">Quorum-like Algorithm (Amazon Dynamo) &lt;a href="#quorum-like-algorithm-amazon-dynamo" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€è‡´æ€§ï¼Œæœ€ç›´è§‚çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åœ¨ä¿®æ”¹èŠ‚ç‚¹çŠ¶æ€æ—¶ï¼Œå°†ä¿®æ”¹å¹¿æ’­åˆ°æ‰€æœ‰èŠ‚ç‚¹ä¸Šã€‚è¿™æ ·ä»ç†è®ºä¸Šè®²ï¼Œå°±å¯ä»¥ä¿æŒèŠ‚ç‚¹çš„ä¸€è‡´æ€§äº†ã€‚&lt;/p>
&lt;p>ä½†æ˜¯åœ¨ç°å®å·¥ç¨‹å½“ä¸­ï¼Œå¹¿æ’­ä¿®æ”¹æ˜¯æœ€ä¸å¯é çš„æ–¹æ¡ˆï¼Œå› ä¸ºé€šä¿¡å¯èƒ½å¤±è´¥ï¼ŒèŠ‚ç‚¹å¯èƒ½å¤±æ•ˆï¼Œæˆ‘ä»¬çš„ä¿®æ”¹å¾ˆæœ‰å¯èƒ½ä¸ä¼šåŒæ­¥åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹ä¸Šï¼ˆå‡è®¾æ¯ä¸ªèŠ‚ç‚¹çš„å¯é æ€§ä¸º99.9%ï¼Œé‚£ä¹ˆ10ä¸ªèŠ‚ç‚¹åŒæ—¶å¯é æ¦‚ç‡åªæœ‰99%ï¼Œ100ä¸ªèŠ‚ç‚¹åŒæ—¶å¯é çš„æ¦‚ç‡ä¸º90%ï¼‰ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œè®©æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¿æŒå®Œå…¨ä¸€è‡´è™½ç„¶å¾ˆå®Œç¾ï¼Œä½†æ˜¯å…¶ä»˜å‡ºçš„ä»£ä»·ä¹Ÿè®¸æ˜¯ç°æœ‰ çš„ç³»ç»Ÿéš¾ä»¥æ‰¿å—çš„ã€‚Amazon Dynamoä½¿ç”¨äº†ä¸€ç§ç±»ä¼¼é€‰ä¸¾çš„ç®—æ³•æ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>è®¾æˆ‘ä»¬æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å†æŒ‡å®šä¸¤ä¸ªæ•°Rå’ŒWï¼Œä½¿å¾— R + W &amp;gt; Nã€‚åœ¨å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬åŒæ—¶å‘Nä¸ªèŠ‚ç‚¹å†™å…¥ï¼Œå½“æœ‰Wä¸ªï¼ˆåŠä»¥ä¸Šï¼‰èŠ‚ç‚¹å†™å…¥æˆåŠŸï¼Œå°±å‘å®¢æˆ·ç«¯è¿”å›æˆåŠŸï¼›åœ¨è¯»å–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘Rä¸ªèŠ‚ç‚¹è¯·æ±‚æ•°æ®ï¼Œæ­¤æ—¶ä¸€å®šä¼šè¯»åˆ°åˆšåˆšå†™å…¥æ–°æ•°æ®çš„èŠ‚ç‚¹ï¼Œç„¶åæˆ‘ä»¬å°†æœ€æ–°çš„æ•°æ®è¿”å›ç»™ç”¨æˆ·ã€‚&lt;/p>
&lt;p>ä¸è¿‡è¿™ç§è®¾è®¡å¹¶ä¸å®Œå–„ï¼Œå½“å‡ºç°ç½‘ç»œé”™è¯¯æˆ–è€…å¤§è§„æ¨¡èŠ‚ç‚¹å¤±æ•ˆçš„æ—¶å€™ï¼Œæ•°æ®ä¸€è‡´æ€§å°±å¾ˆéš¾ä¿è¯äº†ã€‚&lt;/p>
&lt;p>æˆ‘ç§°è¿™ç§ä¸€è‡´æ€§æ¨¡å‹ä¸º â€”â€” â€œå°½åŠ›ä¸€è‡´æ€§â€ã€‚&lt;/p>
&lt;h3 id="event-stream-for-eventual-consistency-apache-kafka">Event Stream for Eventual Consistency (Apache Kafka) &lt;a href="#event-stream-for-eventual-consistency-apache-kafka" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>ä»Dynamoçš„ç»éªŒä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç›´æ¥å°†çŠ¶æ€çš„ä¿®æ”¹å¹¿æ’­åˆ°ä¸åŒçš„èŠ‚ç‚¹æ˜¯ä¸å¯é çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/p>
&lt;p>Apache Kafkaä½¿ç”¨äº†ç±»ä¼¼â€œé¢„å†™å¼æ—¥å¿—â€çš„æ–¹æ³•æ¥ä¿è¯ä¸€è‡´æ€§ã€‚å½“çŠ¶æ€ä¿®æ”¹è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå…ˆå†™å…¥ä¸€æ¡å…¬å…±çš„æ•°æ®æµï¼Œè¿™æ¡æ•°æ®æµå¾€å¾€æ˜¯æŒä¹…åŒ–åˆ°ç£ç›˜çš„ã€‚ç„¶åä¸åŒçš„èŠ‚ç‚¹å†è®¿é—®æ•°æ®æµï¼Œæ‰§è¡ŒåŒæ ·çš„çŠ¶æ€ä¿®æ”¹è¯·æ±‚ï¼Œä¿è¯èŠ‚ç‚¹çŠ¶æ€çš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-9-27/17974300.jpg" alt="">&lt;/p>
&lt;p>è¿™ç§è®¾è®¡çš„ç¼ºé™·æ˜¯è™½ç„¶æœ€ç»ˆæ‰€æœ‰èŠ‚ç‚¹éƒ½ä¼šä¾æ¬¡æ‰§è¡Œç›¸åŒçš„å‘½ä»¤ï¼Œä½†æ˜¯èŠ‚ç‚¹æ‰§è¡Œå‘½ä»¤çš„é€Ÿåº¦æœ‰å¿«æœ‰æ…¢ï¼Œæ‰€ä»¥åœ¨ç¬æ—¶ä¼šæœ‰ä¸ä¸€è‡´çš„æƒ…å†µã€‚&lt;/p>
&lt;p>è¿™ç§ä¸€è‡´æ€§æ¨¡å‹è¢«ç§°ä¸º â€”â€” â€œæœ€ç»ˆä¸€è‡´æ€§â€ã€‚&lt;/p>
&lt;h2 id="ä¸»è§’ç™»åœºwindows-azure-storage">ä¸»è§’ç™»åœºï¼šWindows Azure Storage &lt;a href="#%e4%b8%bb%e8%a7%92%e7%99%bb%e5%9c%bawindows-azure-storage" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>Windows Azure Storageï¼ˆä»¥ä¸‹ç®€ç§°WASï¼‰é‡‡ç”¨äº†å¤šç§ä¸€è‡´æ€§ç®—æ³•ï¼Œåœ¨æä¾›è¾ƒé«˜æ€§èƒ½æœåŠ¡çš„åŒæ—¶ï¼Œæ¥åŠªåŠ›ä¿è¯å­˜å‚¨ç³»ç»Ÿçš„CAPæ€§è´¨ã€‚&lt;/p>
&lt;p>å…¶ä¸­WASä½¿ç”¨äº†ä¸€äº›åˆ›æ–°æ€§çš„ç®—æ³•ï¼Œä¸è¿‡æˆ‘ä»¬è¿˜æ˜¯å…ˆä»å®ƒçš„æ•´ä½“æ¶æ„è°ˆèµ·ã€‚&lt;/p>
&lt;ul>
&lt;li>Windows Azure Storageçš„æ¶æ„&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-9-19/98830090.jpg" alt="">&lt;/p>
&lt;p>WASä»æ¶æ„ä¸Šåˆ†ä¸ºä¸‰å±‚ï¼Œåˆ†åˆ«æ˜¯å‰ç«¯ï¼ˆFE Layerï¼‰ï¼Œåˆ†åŒºå±‚ï¼ˆPartition Layerï¼‰å’Œæ•°æ®æµå±‚ï¼ˆStream Layerï¼‰ã€‚è¿™ä¸‰å±‚ä»åŠŸèƒ½ä¸Šå„æœ‰åˆ†å·¥ï¼Œä½†æ˜¯åˆåˆ†åˆ«è§£è€¦ï¼Œå¯ä»¥éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šã€‚&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä»¬è‡ªåº•å‘ä¸Šçš„è®¨è®ºä¸€ä¸‹å„å±‚ä¹‹é—´çš„åŠŸèƒ½ä¸è”ç³»ã€‚&lt;/p>
&lt;h2 id="was---æ•°æ®æµå±‚">WAS - æ•°æ®æµå±‚ &lt;a href="#was---%e6%95%b0%e6%8d%ae%e6%b5%81%e5%b1%82" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>æ•°æ®æµåŒ…å«ç€å„ç§æ•°æ®æ“ä½œï¼Œæ“ä½œåŒ…å«æ’å…¥ã€ä¿®æ”¹ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œï¼Œâ€œæµâ€åˆ™å¯ä»¥çœ‹åšæ˜¯ä¸€æ¡æ— é™é•¿çš„é˜Ÿåˆ—ã€‚&lt;/p>
&lt;h3 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æµç»“æ„">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æµç»“æ„ï¼Ÿ &lt;a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e4%bd%bf%e7%94%a8%e6%b5%81%e7%bb%93%e6%9e%84" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>ä¸ºä»€ä¹ˆè¦ç”¨æµç»“æ„å‘¢ï¼ŒåŸå› éå¸¸ç®€å•ï¼Œå› ä¸ºæµä¸­çš„æ“ä½œéƒ½æ˜¯æœ‰åºçš„ï¼Œå¦åˆ™ä¼šé€ æˆä¸ç¡®å®šçš„ç»“æœã€‚&lt;/p>
&lt;p>ä¾‹å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªæ“ä½œï¼š&lt;/p>
&lt;p>æ“ä½œ1ï¼šæ’å…¥å€¼x=1 &lt;br>
æ“ä½œ2ï¼šä¿®æ”¹è¯¥å€¼ä¸ºx=2 &lt;br>
æ“ä½œ3ï¼šä¿®æ”¹è¯¥å€¼ä¸ºx=5&lt;/p>
&lt;p>å¦‚æœæ“ä½œæ˜¯æŒ‰ç…§é¡ºåºæ¥åšçš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è·å¾—çš„å€¼ä¸ºx=5ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬å°†æ“ä½œ2å’Œæ“ä½œ3è°ƒæ¢ä¹‹åï¼Œé‚£ä¹ˆæˆ‘ä»¬è·å¾—çš„å€¼ä¸ºx=2ï¼›å¦‚æœæˆ‘ä»¬å°†æ“ä½œ1æ”¾ç½®åœ¨æ“ä½œ2æˆ–æ“ä½œ3ä¹‹åï¼Œæˆ‘ä»¬å°±åœ¨ä¿®æ”¹ä¸€ä¸ªä¸å­˜åœ¨çš„å€¼ï¼Œè¿™åŠ¿å¿…ä¼šé€ æˆé”™è¯¯ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ï¼Œæ•°æ®æµçš„æœ‰åºæ€§ä¿è¯äº†æ“ä½œçš„â€œå›æ”¾ä¸€è‡´æ€§â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç›¸åŒçš„æ•°æ®æµåº”ç”¨åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œè·å¾—çš„æœ€ç»ˆçŠ¶æ€æ˜¯ä¸€è‡´çš„ã€‚&lt;/p>
&lt;p>åŒæ—¶ï¼Œç”±äºHDDçš„é¡ºåºè¯»å†™æ€§èƒ½ä¼˜äºéšæœºè¯»å†™æ€§èƒ½ã€‚ä½¿ç”¨æµæ•°æ®ç»“æ„å¯ä»¥å°†å†™å…¥è¯·æ±‚é¡ºåºåŒ–ï¼Œè¿½åŠ å†™å…¥ç£ç›˜ï¼Œåœ¨å»‰ä»·çš„ç¡¬ä»¶ä¸Šè·å¾—æœ€å¥½çš„æ€§èƒ½ã€‚&lt;/p>
&lt;h5 id="ç§‘æ™®æ—¶é—´hddä¸ssd">ç§‘æ™®æ—¶é—´ï¼šHDDä¸SSD &lt;a href="#%e7%a7%91%e6%99%ae%e6%97%b6%e9%97%b4hdd%e4%b8%8essd" class="anchor">ğŸ”—&lt;/a>&lt;/h5>&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-10-10/63227271.jpg" alt="image">&lt;/p>
&lt;p>HDDæŒ‡çš„æ˜¯Hard Disk Driveï¼Œåˆç§°Spinning Diskï¼Œæ˜¯è®¡ç®—æœºä½¿ç”¨çš„ä¸€ç§ä»¥ç£æ€§ç¢Ÿç‰‡å­˜å‚¨æ•°æ®çš„ä¸€ç§éæ˜“å¤±æ€§å­˜å‚¨è®¾å¤‡ï¼ˆäººè¯å°±æ˜¯ï¼šæ–­ç”µåä¸ä¸¢æ•°æ®ï¼‰ã€‚æ•°æ®å­˜å‚¨åœ¨åŒå¿ƒåœ†ç£é“ä¸Šï¼Œå·¥ä½œæ—¶ç¢Ÿç‰‡ä¼šæ—‹è½¬ï¼ˆå’ŒCDæœºä¸€æ ·ï¼‰ï¼Œç£å¤´ä¼šç§»åŠ¨åˆ°ç›¸åº”çš„ç£é“ä¸Šè¿›è¡Œæ•°æ®çš„è¯»å†™ï¼ˆCDæœºç”¨çš„æ˜¯å…‰å¤´ï¼‰ã€‚æ‰€ä»¥ï¼Œé¡ºåºè¯»å†™æ—¶ï¼ŒHDDçš„æ€§èƒ½ä¼šæ¯”éšæœºè¯»å†™è¦å¥½ï¼Œå› ä¸ºéšæœºè¯»å†™å¸¦æ¥çš„å¤§é‡ç£ç›˜å¯»å€ä¼šè®©ç£å¤´ä¸æ–­ç§»åŠ¨ï¼Œä»è€Œæ‹–æ…¢æ€§èƒ½ã€‚&lt;/p>
&lt;p>ä¸æ­¤åŒæ—¶ï¼Œç”±äºç¢Ÿç‰‡å†…å¼§çš„æ—‹è½¬&lt;strong>çº¿é€Ÿåº¦&lt;/strong>è¦å°äºå¤–å¼§ï¼Œæ‰€ä»¥å¤–å¼§çš„è¯»å†™æ€§èƒ½ä¼šä¼˜äºå†…å¼§ã€‚&lt;/p>
&lt;p>SSDæŒ‡çš„æ˜¯Solid State Diskï¼Œå³å›ºæ€ç¡¬ç›˜ï¼Œä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„éæ˜“å¤±æ€§å­˜å‚¨è®¾å¤‡ã€‚å…¶ä½¿ç”¨é—ªå­˜èŠ¯ç‰‡æ¥å­˜å‚¨æ•°æ®ã€‚ç”±äºå…¶å¹¶ä¸åƒHDDä¸€æ ·éœ€è¦ç‰©ç†ä¸Šç§»åŠ¨ç£å¤´æ¥è¿›è¡Œå¯»å€ï¼Œåœ¨é¡ºåºå†™å…¥ä¸HDDæˆ–ç•¥å¼ºäºHDDç£ç›˜çš„åŒæ—¶ï¼Œéšæœºå†™å…¥æ€§èƒ½è¦è¿œè¿œå¼ºäºHDDï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è£…ç”µè„‘éƒ½å–œæ¬¢æŠŠç³»ç»Ÿè£…åˆ°SSDç›˜ä¸Šï¼‰ã€‚&lt;/p>
&lt;p>ä½†æ˜¯SSDåœ¨æˆæœ¬å’Œè´¨é‡ä¸Šå¼±äºHDDç£ç›˜ã€‚1TBçš„SSDçš„ä»·æ ¼çº¦ä¸º400åˆ€ï¼Œè€Œ1TBçš„HHDä»·æ ¼ä»…ä¸º80~100åˆ€ï¼ˆ2017å¹´10æœˆ&lt;a href="https://pcpartpicker.com/trends/internal-hard-drive/">æ•°æ®&lt;/a>ï¼‰ï¼›SSDæœ‰å†™å…¥æ¬¡æ•°çš„é™åˆ¶ï¼Œå½“é—ªå­˜èŠ¯ç‰‡æŸåæ—¶ï¼Œä¼šå½±å“SSDçš„æ€§èƒ½ã€‚ç›¸æ¯”è€Œè¨€ï¼ŒHDDçš„æŠ€æœ¯çš„æ€§èƒ½æ›´ç¨³å®šï¼ŒæŠ€æœ¯æ›´ä¸ºæˆç†Ÿï¼Œè´¨é‡ä¼šæ›´å¥½ä¸€äº›ã€‚&lt;/p>
&lt;h3 id="æ•°æ®æµçš„ä¸€è‡´æ€§ç®—æ³•">æ•°æ®æµçš„ä¸€è‡´æ€§ç®—æ³• &lt;a href="#%e6%95%b0%e6%8d%ae%e6%b5%81%e7%9a%84%e4%b8%80%e8%87%b4%e6%80%a7%e7%ae%97%e6%b3%95" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>å› ä¸ºè¦ä¿è¯å¯ç”¨æ€§ï¼Œæ‰€ä»¥æ•°æ®æµå¿…é¡»è¦æ˜¯å¤šæœºçš„ï¼Œè€Œå¤šæœºç³»ç»Ÿå°±è¦é¢ä¸´ä¸€è‡´æ€§é—®é¢˜ã€‚WASæå‡ºäº†ä¸€ç§â€œé“¾å¼æäº¤â€æ–¹æ³•æ¥ä¿è¯äº†åˆ†å¸ƒå¼æ•°æ®æµçš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-10-7/32688212.jpg" alt="">&lt;/p>
&lt;p>ä¸ä¹‹å‰æåˆ°çš„åˆ†å¸ƒå¼ä¸€è‡´æ€§çš„å¤šæœºå¹¶è¡Œçš„ç®—æ³•ä¸åŒï¼ŒWASåœ¨æ•°æ®æµå±‚é‡‡ç”¨äº†ä¸€ç§â€œé“¾å¼â€çš„æäº¤ç®—æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>å½“å‰¯æœ¬1æ¥å—åˆ°æ•°æ®åï¼Œä¼šé¦–å…ˆå°†æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œä¹‹åå†å°†ç›¸åŒçš„è¯·æ±‚è½¬å‘ç»™å‰¯æœ¬2ï¼›&lt;/li>
&lt;li>å‰¯æœ¬2è·å¾—æ•°æ®åï¼ŒæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå†è¯·è¯·æ±‚è½¬å‘ç»™å‰¯æœ¬3ï¼›&lt;/li>
&lt;li>å‰¯æœ¬3å°†æ•°æ®æˆåŠŸæŒä¹…åŒ–åï¼Œè¿”å›ACKï¼›&lt;/li>
&lt;li>å‰¯æœ¬2æ¥æ”¶åˆ°å‰¯æœ¬3çš„ACKæ¶ˆæ¯åï¼ŒåŒæ ·è¿”å›ACKï¼›&lt;/li>
&lt;li>å‰¯æœ¬1æ¥æ”¶åˆ°å‰¯æœ¬2çš„ACKæ¶ˆæ¯åï¼Œå‘è¯·æ±‚æ–¹è¿”å›ACKã€‚&lt;/li>
&lt;/ol>
&lt;p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå½“æ•°æ®è¯·æ±‚è¿”å›ACKåï¼Œä¸€å®šæœ‰ä¸‰ä¸ªï¼ˆæˆ–ä»¥ä¸Šï¼Œæ ¹æ®ç³»ç»Ÿçš„å‚æ•°è€Œå®šï¼‰å‰¯æœ¬åŒæ—¶å†™å…¥å¹¶æŒä¹…åŒ–è¿™æ¡è¯·æ±‚ã€‚æ­¤æ—¶ä¸‰ä¸ªå‰¯æœ¬ä¸€å®šæ˜¯â€œå¼ºä¸€è‡´â€çš„ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œå¦‚æœé“¾å¼æäº¤å½“ä¸­æœ‰ä»»ä½•ä¸€ä¸ªç¯èŠ‚å‡ºç°äº†é—®é¢˜ï¼Œæ¯”å¦‚æœºå™¨å¤±æ•ˆã€ç½‘ç»œè¶…æ—¶ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦é¢ä¸´æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚WASä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº†è¢«ç§°ä¸ºâ€œå°å­˜â€çš„æœºåˆ¶ã€‚&lt;/p>
&lt;h3 id="å°å­˜sealingæœºåˆ¶">å°å­˜ï¼ˆsealingï¼‰æœºåˆ¶ &lt;a href="#%e5%b0%81%e5%ad%98sealing%e6%9c%ba%e5%88%b6" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>ä¸Šæ–‡è¯´åˆ°ï¼Œæ•°æ®æµæ˜¯ä¸€ä¸ªæ— é™é•¿çš„é˜Ÿåˆ—ï¼Œåªèƒ½åœ¨å°¾éƒ¨è¿½åŠ å†™å…¥ã€‚æ‰€ä»¥æˆ‘ä»¬å¦‚æœæƒ³è¦å­˜å‚¨è¿™æ¡æ•°æ®æµï¼Œå°±åŠ¿å¿…è¦æŠŠè¿™æ¡æ•°æ®æµåˆ†ä¸ºå¤šä¸ªèŠ‚ï¼Œå¹¶æŠŠå®ƒä»¬åˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„æœºå™¨ä¸Šã€‚å¦åˆ™æ•°æ®æµçš„å¤§å°å°±è¦å—é™äºå•æœºçš„å­˜å‚¨å®¹é‡ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çœ‹åˆ°çš„ã€‚&lt;/p>
&lt;p>åˆç”±äºæ•°æ®æµçš„å°¾éƒ¨è¿½åŠ å†™å…¥ç‰¹æ€§ï¼Œæ‰€ä»¥æ•°æ®æµè¢«åˆ†ä¸ºå¤šä¸ªèŠ‚ä¹‹åï¼Œåªæœ‰æœ€åä¸€ä¸ªèŠ‚æ˜¯å¯è¯»å†™çš„ï¼Œå…¶å®ƒçš„æ‰€æœ‰èŠ‚éƒ½æ˜¯åªè¯»çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-10-7/46032879.jpg" alt="">&lt;/p>
&lt;p>æˆ‘ä»¬å°†æŠŠå¯è¯»å¯è¿½åŠ çš„æ•°æ®æµè½¬åŒ–ä¸ºåªè¯»çš„æ•°æ®æµçš„æ“ä½œç§°ä¸ºâ€œå°å­˜â€ã€‚&lt;/p>
&lt;p>å°å­˜çš„ä½œç”¨ä¹‹ä¸€ï¼Œå°±æ˜¯åœ¨æ•°æ®æµçš„ä¸€èŠ‚è¿‡å¤§çš„æ—¶å€™ï¼Œåœæ­¢å†™å…¥è¯¥èŠ‚ï¼Œä½¿å¾—æ•°æ®èŠ‚çš„å¤§å°å¯æ§ã€‚&lt;/p>
&lt;p>ç¬¬äºŒä¸ªä½œç”¨ï¼Œæ˜¯ä¸Šé¢æˆ‘ä»¬æåˆ°çš„ï¼Œåœ¨â€œé“¾å¼æäº¤â€å¤±è´¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå°†æ‰€æœ‰çš„æ•°æ®æµå‰¯æœ¬å°å­˜ï¼Œå°å­˜çš„æ—¶å€™å–æ‰€æœ‰å‰¯æœ¬çš„æ•°æ®çš„äº¤é›†ã€‚è¿™æ ·å°±èƒ½æ’é™¤å› ä¸ºå†™å…¥å¤±è´¥è€Œä¸ä¸€è‡´çš„æ•°æ®ã€‚&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-9-12/93804080.jpg" alt="">&lt;/p>
&lt;blockquote>
&lt;p>æ­¤æ—¶æœ‰åŒå­¦ä¼šé—®ï¼Œå¦‚æœæˆ‘ä»¬å·²ç»æˆåŠŸçš„å†™å…¥äº†ä¸‰ä¸ªå‰¯æœ¬ï¼Œä½†æ˜¯ç”±äºç½‘ç»œåŸå› å¹¶æ²¡èƒ½å‘è¯·æ±‚æ–¹è¿”å›ACKã€‚è¯·æ±‚æ–¹ä¼šè®¤ä¸ºè¿™æ®µæ•°æ®å†™å…¥å¤±è´¥ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨å°å­˜çš„æ—¶å€™ï¼Œä»ç„¶ä¼šå°†è¿™éƒ¨åˆ†æ•°æ®å°å­˜åœ¨æ•°æ®èŠ‚ä¸­ã€‚è¿™ç§æƒ…å†µæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ &lt;br>
è¿™ä¸ªé—®é¢˜åé¢ä¼šæœ‰è§£ç­”ï¼Œè¯·è€å¿ƒé˜…è¯»å“¦~&lt;/p>&lt;/blockquote>
&lt;h3 id="æ•°æ®æµå±‚çš„æ¶æ„">æ•°æ®æµå±‚çš„æ¶æ„ &lt;a href="#%e6%95%b0%e6%8d%ae%e6%b5%81%e5%b1%82%e7%9a%84%e6%9e%b6%e6%9e%84" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-10-8/29641653.jpg" alt="">&lt;/p>
&lt;p>åœ¨å‰é¢çš„æ–‡ç« é‡Œï¼Œæ²¡æœ‰æåˆ°â€œæ•°æ®æµç®¡ç†å™¨â€ï¼ˆStream Managerï¼Œç®€ç§°SMï¼‰è¿™ä¸ªè§’è‰²ã€‚è¿™ä¸ªè§’è‰²åœ¨æ•´ä¸ªæ•°æ®æµå±‚æ‰®æ¼”äº†ä¸€ä¸ªå¾ˆé‡è¦çš„è§’è‰²ã€‚&lt;/p>
&lt;p>SMæ˜¯ç”±ä¸€ä¸ªå°å‹é›†ç¾¤ä½¿ç”¨paxosé€‰ä¸¾å‡ºæ¥çš„masterèŠ‚ç‚¹ï¼Œå…¶å®ƒèŠ‚ç‚¹å¤‡ç”¨ã€‚SMåªç”¨æ¥ç®¡ç†æ•´ä¸ªæ•°æ®æµçš„çŠ¶æ€ï¼Œå¹¶ä¸è´Ÿè´£å…·ä½“çš„è¯»å†™æ“ä½œã€‚&lt;/p>
&lt;p>SMçš„ä¸»è¦åŠŸèƒ½æœ‰ï¼š&lt;/p>
&lt;ol>
&lt;li>ç»Ÿè®¡èŠ‚ç‚¹çŠ¶æ€&lt;/li>
&lt;li>ç›‘æ§èŠ‚ç‚¹å¥åº·çŠ¶å†µ&lt;/li>
&lt;li>è´Ÿè½½å‡è¡¡&lt;/li>
&lt;li>å°å­˜ã€åˆ›å»ºæ–°çš„æ•°æ®èŠ‚&lt;/li>
&lt;li>å¤‡ä»½ä¸åƒåœ¾å›æ”¶&lt;/li>
&lt;/ol>
&lt;p>SMç®¡ç†ç€ä¸€æ‰¹å­˜å‚¨ç€æ•°æ®èŠ‚çš„èŠ‚ç‚¹ï¼ˆExtent Nodeï¼Œç®€ç§°ENï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹å­˜å‚¨ç€æ•°æ®æµä¸­çš„èŠ‚ã€‚è¿™äº›èŠ‚ç‚¹ç›¸äº’é€šä¿¡ï¼Œä»¥å®Œæˆæäº¤ã€å¤‡ä»½ç­‰åŠŸèƒ½ã€‚&lt;/p>
&lt;p>ENèŠ‚ç‚¹ä¸­é‡‡ç”¨äº†é¢„å†™å…¥æ—¥å¿—ã€‚æ¯ä¸€æ¬¡å†™å…¥æ“ä½œï¼ŒENä¼šå¹¶å‘çš„&lt;/p>
&lt;ol>
&lt;li>è¿½åŠ å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶å°†æ–°æ•°æ®å†™å…¥å†…å­˜ç¼“å­˜&lt;/li>
&lt;li>å†™å…¥æŒä¹…åŒ–å­˜å‚¨&lt;/li>
&lt;/ol>
&lt;p>å½“äºŒè€…æœ‰ä¸€ä¸ªå®Œæˆï¼Œå°±è¿”å›æˆåŠŸæ ‡è®°ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œç”±äºHDDè¿½åŠ å†™å…¥çš„æ€§èƒ½éå¸¸å¥½å¹¶ä¸”ç¨³å®šï¼Œæ‰€ä»¥æ­¥éª¤1çš„å“åº”æ—¶é—´æ˜¯ç¨³å®šçš„å¹¶ä¸”å¯ä»¥ä¼°è®¡çš„ã€‚ä¿è¯äº†ç³»ç»Ÿæ•´ä½“çš„å“åº”æ—¶é—´ä¸å‡ºç°å¤§çš„é¢ ç°¸ã€‚&lt;/p>
&lt;h2 id="was---åˆ†åŒºå±‚">WAS - åˆ†åŒºå±‚ &lt;a href="#was---%e5%88%86%e5%8c%ba%e5%b1%82" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>åˆ†åŒºå±‚ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¢«ç§°ä¸ºâ€œå¯¹è±¡è¡¨â€ï¼ˆObject Tableï¼‰çš„æŠ½è±¡ã€‚å¯¹è±¡è¡¨æä¾›äº†æ’å…¥ã€æ›´æ–°ã€åˆ é™¤åŠŸèƒ½ã€‚&lt;/p>
&lt;p>ä¸ºäº†æä¾›å®¹é‡æ”¯æŒï¼Œä¸€ä¸ªå¯¹è±¡è¡¨ä¼šè¢«åˆ’åˆ†ä¸ºå¤šä¸ªåˆ†åŒºï¼ˆè¿™å°±æ˜¯â€œåˆ†åŒºå±‚â€åå­—çš„æ¥æºï¼‰ã€‚åˆ†åŒºä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œä¸ä¼šäº’ç›¸å½±å“ã€‚&lt;/p>
&lt;p>å¯¹è±¡è¡¨æ„å»ºåœ¨æ•°æ®æµå±‚ä¹‹ä¸Šã€‚ä½†æ˜¯ä»ç›´è§‚ä¸Šæ¥è®²ï¼Œè¡¨ç»“æ„å’Œæµç»“æ„æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œé‚£ä¹ˆåˆ†åŒºå±‚æ˜¯å¦‚ä½•å°†è¡¨å­˜å‚¨åœ¨æ•°æ®æµå±‚çš„å‘¢ï¼Ÿ&lt;/p>
&lt;h3 id="lsm-treelog-structed-merge-tree">LSM Treeï¼ˆLog-Structed Merge-Treeï¼‰ &lt;a href="#lsm-treelog-structed-merge-tree" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;blockquote>
&lt;p>æ®µå­ï¼š &lt;br>
ä¸€ä¸ªå­¦ç”ŸèƒŒç€æ»¡ä¹¦åŒ…çš„ä¹¦è¿›å…¥å›¾ä¹¦é¦†ï¼Œå®å®å®ï¼Œå›¾ä¹¦é¦†çš„æŠ¥è­¦å™¨å“äº†ï¼Œå­¦ç”Ÿèµ¶ç´§æŠŠä¹¦ä»ä¹¦åŒ…å€’å‡ºæ¥ï¼Œå‡†å¤‡ä¸€æœ¬ä¸€æœ¬çš„éªŒè¯ï¼Œçœ‹æ˜¯å“ªæœ¬ä¹¦æœ‰é—®é¢˜ã€‚ &lt;br>
ä¸€æ—æ‰«åœ°çš„é˜¿å§¨çœ‹ä¸ä¸‹å»äº†ï¼Œè¿‡æ¥æŠŠä¹¦åˆ†æˆäº†ä¸¤æŒªï¼Œå…ˆæ£€æŸ¥ç¬¬ä¸€æŒªï¼Œå®å®å®ï¼ŒæŠ¥è­¦å™¨å“äº†ï¼Œè¯´æ˜è¿™ä¸€æŒªæœ‰é—®é¢˜ï¼ŒåˆæŠŠè¿™ä¸€æŒªåˆ†æˆä¸¤æŒªï¼Œå…ˆæ£€æŸ¥å…¶ä¸­ä¸€æŒªï¼Œè¦æ˜¯å“ªä¸€æŒªå“äº†ï¼Œå°±æŠŠè¿™ä¸€æŒªç»§ç»­åˆ†æˆä¸¤æŒªï¼Œç»§ç»­æ£€æŸ¥ï¼Œä¸åˆ°ä¸‰å›åˆï¼Œå¤§å¦ˆå°±æŠŠæœ‰é—®é¢˜çš„å“ªæœ¬ä¹¦æ‰¾å‡ºæ¥äº†ã€‚ &lt;br>
å¤§å¦ˆç”¨é„™è§†çš„çœ¼ç¥çœ‹ç€é‚£å­¦ç”Ÿï¼Œä»¿ä½›åœ¨è¯´è¿Oï¼ˆnï¼‰è·ŸOï¼ˆlog nï¼‰éƒ½åˆ†ä¸æ¸…æ¥šã€‚&lt;/p>&lt;/blockquote>
&lt;p>æˆ‘ä»¬ä¸Šæ–‡ä¸­æåˆ°ï¼ŒHDDç£ç›˜å¯ä»¥åœ¨è¾ƒä½æˆæœ¬ä¸‹æä¾›å¾ˆå¥½çš„è¿½åŠ å†™å…¥æ€§èƒ½ï¼Œä½†æ˜¯å¯¹äºéšæœºè¯»å†™çš„æ€§èƒ½ä¸ä½³ã€‚&lt;/p>
&lt;p>ä½†æ˜¯å¯¹äºè¡¨ç»“æ„æ¥è¯´ï¼Œå¿…ç„¶æ¶‰åŠåˆ°å¤§é‡çš„éšæœºè¯»å†™ã€‚å› ä¸ºè¾“å…¥æ•°æ®å°±åƒæ‰“ä¹±è¿‡çš„æ‰‘å…‹ç‰Œï¼Œå¾ˆéš¾ä¿è¯è§„å¾‹æ€§ï¼›è€Œæˆ‘ä»¬åˆè¦æŠŠç‰¹å®šçš„è¾“å…¥æ•°æ®æ”¾åˆ°ç‰¹å®šçš„è¡Œä¸Šï¼Œæ‰€ä»¥æ•°æ®çš„å†™å…¥ä½ç½®å¿…ç„¶æ˜¯éšæœºçš„ã€‚æ‰€ä»¥ï¼Œç›´æ¥åœ¨ç£ç›˜ä¸­å­˜å‚¨è¡¨ç»“æ„æ˜¯éå¸¸ä½æ•ˆçš„ã€‚&lt;/p>
&lt;p>é‚£ä¹ˆLSM Treeæ˜¯æ€ä¹ˆè§£å†³é—®é¢˜çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>é¦–å…ˆæˆ‘ä»¬æŠŠå·²æœ‰çš„æ•°æ®æ ¹æ®keyè¿›è¡Œæ’åºï¼Œå­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œæ ‡è®°ç¬¬0ä»£ã€‚æ‰€æœ‰å†™å…¥ç£ç›˜çš„æ•°æ®éƒ½æ˜¯æœ‰åºçš„ã€åªè¯»çš„ã€‚&lt;/p>
&lt;p>å½“æœ‰æ–°çš„æ•°æ®å†™å…¥æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆå°†å…¶ç¼“å­˜åœ¨å†…å­˜ä¸­ã€‚å½“æ•°æ®è¾¾åˆ°ä¸€ä¸ªé˜ˆå€¼æ—¶ï¼Œæˆ‘ä»¬å°†å†…å­˜ä¸­çš„æ•°æ®è¿›è¡Œæ’åºï¼Œå¹¶å†™å…¥ç£ç›˜ã€‚è¿™ä¸€éƒ¨åˆ†æ•°æ®è¢«æ ‡è®°ä¸ºç¬¬1ä»£ã€‚&lt;/p>
&lt;p>ä¹‹åçš„æ•°æ®ä¾æ¬¡ç±»æ¨ï¼Œè¢«æ ‡è®°ä¸ºç¬¬2ä»£ï¼Œç¬¬3ä»£&amp;hellip;ç¬¬nä»£ã€‚ä»£æ•°è¶Šé«˜ï¼Œè¡¨ç¤ºæ•°æ®è¶Šæ–°ã€‚å¹¶ä¸”ä»£æ•°é«˜çš„æ•°æ®åœ¨é€»è¾‘ä¸Šå¯ä»¥è¦†ç›–ä»£æ•°ä½çš„æ•°æ®ã€‚&lt;/p>
&lt;p>åœ¨æŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆæ£€ç´¢å†…å­˜ä¸­çš„ç¼“å­˜æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¾æ¬¡ä»ç¬¬nä»£çš„æ•°æ®æŸ¥è¯¢åˆ°ç¬¬0ä»£ã€‚å¦‚æœä»ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±è¿”å›æœªæ‰¾åˆ°ã€‚ç”±äºæ‰€æœ‰çš„æŸ¥è¯¢éƒ½ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚åŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨[å¸ƒéš†è¿‡æ»¤å™¨][6]ï¼Œå¿«é€Ÿåˆ¤å®šä¸€ä¸ªkeyæ˜¯å¦åœ¨LSM Treeä¸­ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ç»†å¿ƒçš„åŒå­¦ä¼šå‘ç°ï¼ŒæŒ‰ç…§ä¸Šé¢æè¿°çš„ç®—æ³•ï¼ŒLSM Treeçš„ä»£æ•°ä¼šæ— é™è†¨èƒ€ä¸‹å»ï¼Œæœ€ç»ˆå¯¼è‡´éå¸¸å·®çš„çš„æ£€ç´¢æ•ˆæœã€‚åœ¨è®ºæ–‡ä¸­æ²¡æœ‰æ˜ç¡®æåˆ°LSM Treeçš„è°ƒæ•™å‚æ•°ï¼Œä½†æ˜¯æˆ‘çŒœæµ‹å…¶ä»£æ•°ä¸ä¼šå¤ªå¤šã€‚å¹¶ä¸”åœ¨å†—ä½™æ•°æ®è¿‡å¤šæ—¶ï¼Œä¼šè¿›è¡Œåƒåœ¾å›æ”¶ï¼Œä¿è¯æ£€ç´¢çš„æ•ˆç‡ã€‚ &lt;br>
åŒæ—¶è¿™ä¹Ÿæé†’æˆ‘ä»¬åœ¨ä½¿ç”¨WASçš„æ—¶å€™ï¼Œå°½é‡ä¸è¦å‘æŸä¸€ä¸ªæˆ–æŸä¸€äº›è¿ç»­çš„åˆ†åŒºè¿ç»­å†™å…¥å¤§é‡æ•°æ®ï¼Œå¦åˆ™ä¼šå¯¼è‡´åˆ†åŒºå±‚çš„æ€§èƒ½é€€åŒ–ã€‚&lt;/p>&lt;/blockquote>
&lt;h3 id="åˆ†åŒºå±‚ä½¿ç”¨çš„æ•°æ®æµ">åˆ†åŒºå±‚ä½¿ç”¨çš„æ•°æ®æµ &lt;a href="#%e5%88%86%e5%8c%ba%e5%b1%82%e4%bd%bf%e7%94%a8%e7%9a%84%e6%95%b0%e6%8d%ae%e6%b5%81" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>åˆ†åŒºå±‚ä½¿ç”¨æ•°æ®æµæ¥ä¿å­˜LSM Treeï¼Œä½¿ç”¨é¡ºåºå†™å…¥ä»£æ›¿éšæœºå†™å…¥ä»¥è·å¾—æ€§èƒ½æå‡ï¼Œè¿™æ¡æµè¢«ç§°ä¸ºâ€œè¡Œæ•°æ®æµâ€ï¼ˆRow Data Streamï¼‰ã€‚&lt;/p>
&lt;p>ä¸æ­¤åŒæ—¶ï¼Œåˆ†åŒºå±‚è¿˜ä½¿ç”¨äº†â€œäºŒè¿›åˆ¶æ•°æ®æµâ€ï¼ˆBlob Data Streamï¼‰æ¥ä¿å­˜äºŒè¿›åˆ¶æ•°æ®ã€‚ä»¥åŠâ€œæäº¤æ—¥å¿—æµâ€ï¼ˆCommit Log Streamï¼‰æ¥æŒä¹…åŒ–é¢„å†™å…¥æ—¥å¿—ã€‚&lt;/p>
&lt;p>åˆ†åŒºå±‚å‘æ•°æ®æµå±‚å†™å…¥æ—¶ï¼Œåªæœ‰å½“æ•°æ®æµå±‚è¿”å›ACKåï¼Œæ‰è®¤ä¸ºå†™å…¥æˆåŠŸã€‚æ‰€ä»¥ï¼Œåœ¨æ•°æ®æµå±‚å†™å…¥æˆåŠŸï¼Œä½†æœªèƒ½è¿”å›ACKæ—¶ï¼Œè™½ç„¶æ•°æ®æµå±‚ä¿ç•™äº†æ•°æ®ï¼Œä½†æ˜¯åˆ†åŒºå±‚å¹¶ä¸èƒ½è®¿é—®è¿™éƒ¨åˆ†æ•°æ®ï¼Œæˆ‘ä»¬å°±åœ¨åˆ†åŒºå±‚ä¿è¯äº†æ•°æ®çš„æ­£ç¡®æ€§ã€‚&lt;/p>
&lt;h3 id="åˆ†åŒºå±‚çš„ä¸€è‡´æ€§ä¿è¯">åˆ†åŒºå±‚çš„ä¸€è‡´æ€§ä¿è¯ &lt;a href="#%e5%88%86%e5%8c%ba%e5%b1%82%e7%9a%84%e4%b8%80%e8%87%b4%e6%80%a7%e4%bf%9d%e8%af%81" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>åˆ†åŒºå±‚çš„æŒä¹…åŒ–ä¿¡æ¯ä¾èµ–äºæ•°æ®æµå±‚ï¼Œæ‰€ä»¥å¦‚æœåˆ†åŒºå±‚ä½¿ç”¨åœ¨çº¿å¤šå‰¯æœ¬ï¼Œå°±ä¼šé‡åˆ°èŠ‚ç‚¹çŠ¶æ€ä¸ä¸€è‡´çš„é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶ä¸åŒçš„èŠ‚ç‚¹åŠ è½½äº†ç›¸åŒçš„æ•°æ®ï¼Œä½†æ˜¯åŠ è½½é€Ÿåº¦æœ‰å¿«æœ‰æ…¢ï¼Œå¾ˆéš¾ä¿è¯èŠ‚ç‚¹ä¹‹é—´ä»¥ä¸€ä¸ªåŒæ ·çš„çŠ¶æ€å¯¹å¤–æœåŠ¡ã€‚åŒæ—¶ï¼Œåœ¨çº¿å¤šå‰¯æœ¬çš„å†™å…¥ä¼šå¼•å…¥ç«æ€ï¼Œå¦‚æœå†åŠ é”ï¼Œå°±ä¼šå¤§å¤§çš„å½±å“ç³»ç»Ÿçš„æ•ˆç‡ã€‚&lt;/p>
&lt;p>é‚£ä¹ˆWASæ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>ç­”ï¼šä¸èƒ½ä¿è¯ä¸€è‡´æ€§å°±ä¸è¦ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>è¿™æ ·çš„ä¸è¦ä¸€è‡´æ€§å¹¶ä¸æ˜¯æ”¾ä»»èŠ‚ç‚¹é—´çš„çŠ¶æ€ä¸åŒæ­¥ï¼Œè€Œæ˜¯æ¯ä¸€ä¸ªåˆ†åŒºåªä½¿ç”¨ä¸€ä¸ªåœ¨çº¿æœåŠ¡èŠ‚ç‚¹ã€‚å¯¹äºå”¯ä¸€ä¸€ä¸ªèŠ‚ç‚¹æ¥è¯´ï¼Œä¸€è‡´æ€§å°±æ˜¯ä¸å­˜åœ¨çš„ã€‚ï¼ˆæ˜¯ä¸æ˜¯éå¸¸æš´åŠ›ï¼‰&lt;/p>
&lt;p>æ‰€ä»¥ï¼Œåœ¨åŒä¸€æ—¶é—´åªæœ‰ä¸€å°æœºå™¨å¯¹å¤–æä¾›æœåŠ¡ï¼ˆè¯»+å†™ï¼‰ã€‚å…¶å®ƒçš„å‰¯æœ¬æ˜¯åœ¨çº¿å¤‡ä»½ï¼Œåœ¨å¯¹å¤–æä¾›æœåŠ¡çš„æœºå™¨åœ¨è®¡åˆ’å†…ä¸‹çº¿æˆ–æ„å¤–å½“æ‰æ—¶ï¼Œå°±ä¼šå¯ç”¨å¦ä¸€å°å‰¯æœ¬å¯¹å¤–æä¾›æœåŠ¡ã€‚å½“ç„¶è¿™ä¹Ÿä¼šé€ æˆä¸€è‡´æ€§é—®é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œç‰ºç‰²äº†ä¸€ç‚¹å¯ç”¨æ€§ï¼Œä¹Ÿå°±æ˜¯åœ¨æ—§èŠ‚ç‚¹ä¸‹çº¿åï¼Œæ–°èŠ‚ç‚¹å¿…é¡»åŠ è½½å®Œæ‰€æœ‰çš„æ•°æ®æ‰å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡ã€‚ä¸­é—´çš„ä¸€æ®µæ—¶é—´è¿™ä¸ªåˆ†åŒºæ˜¯ä¸å¯ç”¨çš„ã€‚&lt;/p>
&lt;h3 id="åˆ†åŒºå±‚çš„æ¶æ„">åˆ†åŒºå±‚çš„æ¶æ„ &lt;a href="#%e5%88%86%e5%8c%ba%e5%b1%82%e7%9a%84%e6%9e%b6%e6%9e%84" class="anchor">ğŸ”—&lt;/a>&lt;/h3>&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-10-10/51400577.jpg" alt="">&lt;/p>
&lt;p>å›¾ä¸­çš„PSæŒ‡çš„å°±æ˜¯ä¸Šæ–‡æåˆ°çš„åˆ†åŒºæœåŠ¡ï¼Œæ¯ä¸ªPSç»´æŠ¤ç€å¯¹è±¡è¡¨çš„ä¸€ä¸ªåˆ†åŒºï¼Œå…¶æŒä¹…åŒ–ä¿¡æ¯éƒ½å‚¨å­˜åœ¨æ•°æ®æµå±‚ä¸Šã€‚&lt;/p>
&lt;p>PMï¼ˆPartition Managerï¼‰ä¹Ÿæ˜¯ä½¿ç”¨paxosç®—æ³•é€‰ä¸¾å‡ºæ¥çš„masterèŠ‚ç‚¹ï¼Œç”¨æ¥ç®¡ç†åˆ†åŒºæœåŠ¡çš„è´Ÿè½½å‡è¡¡ã€ç¾å¤‡ç­‰æ“ä½œã€‚&lt;/p>
&lt;p>Lock Serviceç”¨æ¥å¯¹åˆ†åŒºèŠ‚ç‚¹è¿›è¡Œé€‰ä¸¾ï¼Œé€‰å‡ºçš„å”¯ä¸€masterèŠ‚ç‚¹å¯¹å¤–æä¾›æœåŠ¡ã€‚&lt;/p>
&lt;p>Partion Map Tableç”¨æ¥å­˜å‚¨ä¸æ£€ç´¢åˆ†åŒºæ‰€å¯¹åº”çš„èŠ‚ç‚¹ã€‚&lt;/p>
&lt;h2 id="was---å‰ç«¯å±‚">WAS - å‰ç«¯å±‚ &lt;a href="#was---%e5%89%8d%e7%ab%af%e5%b1%82" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>å‰ç«¯å±‚åªæ˜¯è–„è–„çš„ä¸€å±‚REST APIå°è£…ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå…¶å®ƒç‰¹æ®ŠåŠŸèƒ½ã€‚è¿™é‡Œä¸€ç¬”å¸¦è¿‡ã€‚&lt;/p>
&lt;h2 id="æˆ˜èƒœcapç†è®ºä½ ä»–å¨˜çš„çœŸæ˜¯ä¸ªå¤©æ‰">æˆ˜èƒœCAPç†è®ºï¼Ÿä½ ä»–å¨˜çš„çœŸæ˜¯ä¸ªå¤©æ‰ï¼ &lt;a href="#%e6%88%98%e8%83%9ccap%e7%90%86%e8%ae%ba%e4%bd%a0%e4%bb%96%e5%a8%98%e7%9a%84%e7%9c%9f%e6%98%af%e4%b8%aa%e5%a4%a9%e6%89%8d" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-9-20/10049124.jpg" alt="">&lt;/p>
&lt;p>WASå®£ç§°è‡ªå·±æˆ˜èƒœäº†CAPç†è®ºï¼Œæä¾›äº†é«˜å¯ç”¨æ€§å’Œå¼ºä¸€è‡´æ€§ã€‚WASèƒ½åšåˆ°è¿™ç‚¹ä¸»è¦æ˜¯å› ä¸ºæ•°æ®æµå±‚è®¾è®¡çš„å¥½ã€‚&lt;/p>
&lt;p>æ•°æ®æµå±‚ä½¿ç”¨äº†åªè¿½åŠ å†™çš„æ•°æ®æ¨¡å‹ï¼ŒåŠ ä¸Šé“¾å¼æäº¤æä¾›çš„é«˜ä¸€è‡´æ€§ï¼Œæ‰€ä»¥èƒ½åº”å¯¹èŠ‚ç‚¹å¤±æ•ˆï¼ˆå¯ç”¨æ€§ï¼‰å’Œç½‘ç»œå¤±æ•ˆï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰çš„æ•…éšœã€‚&lt;/p>
&lt;p>æ•°æ®æµå±‚ä¹‹ä¸Šçš„åˆ†åŒºå±‚åˆ©ç”¨äº†å…¶ç‰¹æ€§ï¼Œå¾ˆå®¹æ˜“çš„å®ç°äº†é«˜å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§ã€‚åŒæ—¶ï¼Œåˆç”±äºå…¶ä½¿ç”¨å•ç‚¹å‘å¤–æä¾›æœåŠ¡ï¼Œæ‰€ä»¥ä¸€è‡´æ€§ä¹Ÿæœ‰äº†ä¿éšœã€‚&lt;/p>
&lt;p>æ‰€ä»¥WASå®£ç§°è‡ªå·±æˆ˜èƒœäº†CAPç†è®ºï¼Œä¹Ÿä¸æ˜¯æ²¡æœ‰é“ç†ã€‚ä½†æ˜¯ä¸ªäººæ„Ÿè§‰WASåœ¨åˆ†åŒºå±‚çš„å•ç‚¹è®¾å®šï¼Œæ˜¯ä»¥ç‰ºç‰²å¯ç”¨æ€§ï¼ˆAï¼‰æ¢å–ä¸€è‡´æ€§ï¼ˆCï¼‰çš„ä¸€ç§å¦¥åï¼Œåªæ˜¯ç”±äºæœºå™¨æ•…éšœå¹¶éå¤šå‘ï¼Œè§¦å‘é—®é¢˜çš„æœºç‡æ¯”è¾ƒå°ã€‚&lt;/p>
&lt;h2 id="å†™åœ¨åé¢">å†™åœ¨åé¢ &lt;a href="#%e5%86%99%e5%9c%a8%e5%90%8e%e9%9d%a2" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;p>æœ¬æ–‡æ˜¯ã€ŠWindows Azure Storage: A Highly Available Cloud Storage Service with Strong Consistencyã€‹ä¸€æ–‡çš„è¯»åæ„Ÿï¼Œåˆ èŠ‚äº†ä¸€éƒ¨åˆ†ä¸å®¹æ˜“ç†è§£çš„ç»†èŠ‚ã€‚æƒ³è¦æ›´è¯¦å°½çš„ç†è§£WASçš„è®¾è®¡æ€æƒ³ï¼Œè¯·é˜…è¯»è®ºæ–‡åŸæ–‡ä»¥åŠå®˜æ–¹æ–‡æ¡£ã€‚ä¸€åˆ‡å†…å®¹å’Œç†è§£ä¸Šçš„å†²çªï¼Œä»¥åŸæ–‡å’Œå®˜æ–¹æ–‡æ¡£ä¸ºå‡†ã€‚&lt;/p>
&lt;p>æ’°å†™æœ¬æ–‡æ—¶ï¼Œæˆ‘ä½¿ç”¨Atreus2tapè¿·ä¹‹å°é”®ç›˜ï¼Œåœ¨å­¦ä¹ å‰äººç»éªŒæ•™è®­çš„åŒæ—¶ï¼Œé‡æ–°å­¦ä¹ äº†æ‰“å­—ã€‚&lt;/p>
&lt;p>å°é”®ç›˜çš„å¥½å¤„æ˜¯ä¾¿æºï¼Œä»¥åŠé¿å…æ‰‹æŒ‡ç§»åŠ¨å¸¦æ¥çš„åŠ³æŸã€‚ç¼ºç‚¹æ˜¯éœ€è¦ç²¾å¿ƒè®¾è®¡å¹¶ç»ƒä¹ å¤§é‡çš„ç»„åˆé”®ï¼ŒåŒæ—¶æˆå¥—çš„é”®å¸½çœŸæ˜¯ä¸å¥½ä¹°ã€‚&lt;/p>
&lt;p>ä¸Šä¸€å¼ å›¾ã€‚&lt;/p>
&lt;p>&lt;img src="https://github.com/Wizmann/assets/raw/master/wizmann-pic/17-10-10/71011744.jpg" alt="">&lt;/p>
&lt;blockquote>
&lt;p>å¬è¯´ç”¨è¿™ç§å¥‡æ€ªé”®ç›˜çš„äººéƒ½æ³¨å­¤äº†ã€‚&lt;/p>&lt;/blockquote>
&lt;h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ &lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="anchor">ğŸ”—&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="http://wetest.qq.com/lab/view/105.html">åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„æ±‚ç”Ÿä¹‹è·¯&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://waylau.com/talk-about-distributed-system/">ç”¨å¤§ç™½è¯èŠèŠåˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://book.douban.com/subject/26292004/">ã€Šä»Paxosåˆ°Zookeeperã€‹&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf">Dynamo: Amazonâ€™s Highly Available Key-value Store&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>