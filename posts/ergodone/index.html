<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Maerlyn's Rainbow</title>
<meta name=keywords content><meta name=description content="Date: 2016-10-05 21:38:58
Title: 打造你的专属键盘 — ErgoDone
Tags: ot, ergodone, keyboard
Slug: ergodone
写在前面

低能预警：这是最没有技术含量的一篇博客，无关人员可以撤离。

部分图片来自网络，侵删
这个十一假期，亲手DIY了一把键盘。当然，我只搞定了焊接部分，把不同的组件拼在了一起。"><meta name=author content="wizmann"><link rel=canonical href=https://wizmann.top/posts/ergodone/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://wizmann.top/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wizmann.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wizmann.top/favicon-32x32.png><link rel=apple-touch-icon href=https://wizmann.top/apple-touch-icon.png><link rel=mask-icon href=https://wizmann.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://wizmann.top/posts/ergodone/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wizmann.top/posts/ergodone/"><meta property="og:site_name" content="Maerlyn's Rainbow"><meta property="og:title" content="Maerlyn's Rainbow"><meta property="og:description" content="Date: 2016-10-05 21:38:58 Title: 打造你的专属键盘 — ErgoDone Tags: ot, ergodone, keyboard Slug: ergodone
写在前面 低能预警：这是最没有技术含量的一篇博客，无关人员可以撤离。
部分图片来自网络，侵删
这个十一假期，亲手DIY了一把键盘。当然，我只搞定了焊接部分，把不同的组件拼在了一起。"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Date: 2016-10-05 21:38:58
Title: 打造你的专属键盘 — ErgoDone
Tags: ot, ergodone, keyboard
Slug: ergodone
写在前面

低能预警：这是最没有技术含量的一篇博客，无关人员可以撤离。

部分图片来自网络，侵删
这个十一假期，亲手DIY了一把键盘。当然，我只搞定了焊接部分，把不同的组件拼在了一起。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wizmann.top/posts/"},{"@type":"ListItem","position":2,"name":"","item":"https://wizmann.top/posts/ergodone/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"Date: 2016-10-05 21:38:58 Title: 打造你的专属键盘 — ErgoDone Tags: ot, ergodone, keyboard Slug: ergodone\n写在前面 低能预警：这是最没有技术含量的一篇博客，无关人员可以撤离。\n部分图片来自网络，侵删\n这个十一假期，亲手DIY了一把键盘。当然，我只搞定了焊接部分，把不同的组件拼在了一起。\n","keywords":[],"articleBody":"Date: 2016-10-05 21:38:58 Title: 打造你的专属键盘 — ErgoDone Tags: ot, ergodone, keyboard Slug: ergodone\n写在前面 低能预警：这是最没有技术含量的一篇博客，无关人员可以撤离。\n部分图片来自网络，侵删\n这个十一假期，亲手DIY了一把键盘。当然，我只搞定了焊接部分，把不同的组件拼在了一起。\n在焊接的过程中，也学习到了一些新知识。写在这里，记录下来。\nErgoDone介绍 ErgoDone是著名开源硬件ErgoDox的中国特色版本，精简了一些硬件以控制成本。总体价格在500RMB左右，是工薪阶级装逼界的一颗新星。\nErgodox的一个版本： ErgoDone明显就屌丝了许多：\n键盘主控 ErgoDone使用了Arduino pro micro做为主控，基中使用了mega32u4做为芯片，提供了模拟USB输入设备的相关函数（包括键盘、鼠标）。网上有许多现成的范例，用这款芯片（以及另一版使用mega32u4的Arduino开发版，Arduino Leonardo）制作体感鼠标（搭配陀螺仪）、游戏摇杆（搭配相关硬件）以及各种专用输入设备。\nArduino pro micro淘宝价不到20块钱，相对来说算是非常超值了。\n焊接 由于本人算是菜的抠脚的业余选手，在这个键盘上的主要工作就是焊接。然而，就在焊接这样一件相对简单的工作上，我也是踩了不少坑。\nMiniUSB转MicroUSB 在ErgoDone的设计中，整块键盘的供电，都是通过MiniUSB线来完成的。然而，pro micro的接口是MicroUSB的，这里我们需要一个转换工作。\nMiniUSB，俗称T口USB。其中有五颗线，代表供电，D+，D-，ID与接地。\nMicroUSB就是现在市面上绝大多数安卓手机的充电/数据接口。其中的线序与MiniUSB中的类似，只是多数情况下，我们不使用ID线。\n在焊接键盘的过程中，我们需要完成一个自制MicroUSB接口，把导线连接到MicroUSB头上去。这个任务相对难度高一些，不过我们也有偷懒的方式。\n因为MicroUSB线实在过于流行，现在无论谁手里都会有那么两三条。那么我们可以拆掉手机充电线的MicroUSB公头，把其中的线引出来，连到应该连的位置上，就可以正常的使用了。\n如果你的MicroUSB线是良心厂家出产的话，其中会有四颗线：红绿白黑。\n红：供电，5V 绿：Data+ 白：Data- 黑：接地 在ErgoDone这里，我们不需要接地线也可以正常工作。然后在焊接的时候要注意线不要留的过长，否则会很难看（不要问我为什么知道）。\n一些打磨工作 ErgoDone的两片键盘是通过3.5mm的音频线连接的，然后音频接口不出意料的比外壳预留的接口要厚一些。所以一些打磨工作是必须的。\n这里推荐打磨神器 —— 磨刀石。好的磨刀石有粗细两面，方便控制粒度，同时打磨的效率也比较高。如果真的啥都没有，可以强行试一波指甲钳上面的小挫。\n卫星轴的安装 可以参考这篇帖子，上面已经说的很好了，我就不重复了。记得重要的一点是要把钢丝入扣，否则可能会卡键什么的。情况允许，还可以加一点润滑脂，让摩擦力小一点。\n焊轴 焊轴相对是最简单的一步了，因为焊点的距离足够远，而且也足够大。只是注意别在焊盘上停留太多时间，把焊盘弄掉了就好。\n飞线与TDD 这两个放在一起写的原因是因为这两个技术都需要一样工具 —— 万用表。当然这里只是用来测连通性的，所以如果你愿意折腾，自己用发光二级管自己搞一把也不是不可以。\n如果我们操作不当，不小心把焊盘搞下来了，有什么方法可以补救呢。答案是飞线，就是不借助电路板上的电路，而是显式的用导线来导通某两个或多个管脚。\nErgoDone由于是对称的两块，所以在焊崩了之后，可以依样找一个可用的焊盘来找可以飞线的焊点。如果手里只有一块板子而且情况不允许的话，就只好在焊之前，尤其是比较高难度的操作之前，先留好plan B，想想万一搞砸了有没有回滚方案（蛤）。\nTDD，又称测试驱动开发。就是在焊完一部分之后，立刻进行测试。比如集成电路或者主控，在焊完之后，一定要用万用表确认一下是不是有相临管脚短路的情况。在二极管焊完之后，用镊子测试一下是否可以触发相应的按键。\n一个半成品：\n对键盘编程 这种DIY键盘的一大好处就是可以自定义配列，通过Fn键做一些很fancy的事情。比如触发组合键，或者是录制一些宏。对于程序员和一些游戏玩家来说，这个功能是非常吸引人的。\n我的配列 默认层：http://www.keyboard-layout-editor.com/#/gists/a9278a768f78adf9d7b019b883678390\nFn层：http://www.keyboard-layout-editor.com/#/gists/79ad8e6c4ac70cfad1ed400355e960a7\n右手的那堆Fn对应着0~9上面的符号\nVim层：http://www.keyboard-layout-editor.com/#/gists/950dc52b3b27c24601661f2fd43a6d69\n模仿vim/bash映射了一些快捷键\n魔改层：http://www.keyboard-layout-editor.com/#/gists/8bb13d2439c542a06d99e17fca3a234b\n用来魔改/创造一些不存在的键位和组合\n食指多出来的四个键分别对应着四种括号\u003c\u003e(){}[]。在编程中会比较常用到。\n魔改举例 在食指的扩充键位中，我设计了一个不存在的键位组合：\u003c(和\u003e)。即在默认状态下，输入()；在Shift状态下，输入\u003c\u003e。这种设计并没有直接的解决方案。对于圆括号的输入，我们可以使用组合键宏。而Shift输入尖括号，则需要一些技巧。\n幸好之前已经有人提出并解决了类似的问题。简而言之，就是将Shift改成“Fn+Shift”，在按下Shift的同时，切换到一个新的层上。新的层上，我们可以用组合键宏输入尖括号。而剩下的键位，我们将其设置为透明。当你按下其它的键时，与平时按下Shift没有区别。\n最终的代码 // Generated by TKG at 2016-10-05 22:35:43 #include \"keymap_common.h\" #define KEYMAP_TKG( \\ K0A, K0B, K0C, K0D, K0E, K0F, K0G, K0H, K0I, K0J, K0K, K0L, K0M, K0N, \\ K1A, K1B, K1C, K1D, K1E, K1F, K1G, K1H, K1I, K1J, K1K, K1L, K1M, K1N, \\ K2A, K2B, K2C, K2D, K2E, K2F, K2I, K2J, K2K, K2L, K2M, K2N, \\ K3A, K3B, K3C, K3D, K3E, K3F, K3G, K3H, K3I, K3J, K3K, K3L, K3M, K3N, \\ K4A, K4B, K4C, K4D, K4E, K4J, K4K, K4L, K4M, K4N, \\ K5B, K5C, K5D, K5E, K5F, K5G, K5H, K5I, K5J, K5K, K5L, K5M \\ ) { \\ { KC_##K0A, KC_##K0B, KC_##K0C, KC_##K0D, KC_##K0E, KC_##K0F, KC_##K0G, KC_##K0H, KC_##K0I, KC_##K0J, KC_##K0K, KC_##K0L, KC_##K0M, KC_##K0N }, \\ { KC_##K1A, KC_##K1B, KC_##K1C, KC_##K1D, KC_##K1E, KC_##K1F, KC_##K1G, KC_##K1H, KC_##K1I, KC_##K1J, KC_##K1K, KC_##K1L, KC_##K1M, KC_##K1N }, \\ { KC_##K2A, KC_##K2B, KC_##K2C, KC_##K2D, KC_##K2E, KC_##K2F, KC_NO, KC_NO, KC_##K2I, KC_##K2J, KC_##K2K, KC_##K2L, KC_##K2M, KC_##K2N }, \\ { KC_##K3A, KC_##K3B, KC_##K3C, KC_##K3D, KC_##K3E, KC_##K3F, KC_##K3G, KC_##K3H, KC_##K3I, KC_##K3J, KC_##K3K, KC_##K3L, KC_##K3M, KC_##K3N }, \\ { KC_##K4A, KC_##K4B, KC_##K4C, KC_##K4D, KC_##K4E, KC_NO, KC_NO, KC_NO, KC_NO, KC_##K4J, KC_##K4K, KC_##K4L, KC_##K4M, KC_##K4N }, \\ { KC_NO, KC_##K5B, KC_##K5C, KC_##K5D, KC_##K5E, KC_##K5F, KC_##K5G, KC_##K5H, KC_##K5I, KC_##K5J, KC_##K5K, KC_##K5L, KC_##K5M, KC_NO } \\ } #ifdef KEYMAP_SECTION_ENABLE const uint8_t keymaps[][MATRIX_ROWS][MATRIX_COLS] __attribute__ ((section (\".keymap.keymaps\"))) = { #else const uint8_t keymaps[][MATRIX_ROWS][MATRIX_COLS] PROGMEM = { #endif [0] = KEYMAP_TKG( GRV, 1, 2, 3, 4, 5, HOME,END, 6, 7, 8, 9, 0, BSPC, \\ TAB, Q, W, E, R, T, LBRC,RBRC,Y, U, I, O, P, BSLS, \\ ESC, A, S, D, F, G, H, J, K, L, SCLN,QUOT, \\ FN3, Z, X, C, V, B, FN7, FN8, N, M, COMM,DOT, SLSH,FN3, \\ LCTL,LGUI,LALT,FN11,DEL, MINS,EQL, F10, F11, F12, \\ LCTL,FN2, SPC, FN4, PSCR,CAPS,FN6, PAUS,FN5, ENT, FN1, LGUI), [1] = KEYMAP_TKG( TRNS,F1, F2, F3, F4, F5, TRNS,TRNS,F6, F7, F8, F9, F10, DEL, \\ TRNS,1, 2, 3, 4, 5, TRNS,TRNS,FN21,FN22,FN23,FN24,FN25,TRNS, \\ TRNS,6, 7, 8, 9, 0, FN26,FN27,FN28,FN29,FN30,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS, VOLU,VOLD,MPRV,MPLY,MNXT, \\ TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS), [2] = KEYMAP_TKG( TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,TRNS,END, TRNS,TRNS,TRNS,TRNS,TRNS,PGUP,INS, TRNS,TRNS,TRNS, \\ TRNS,HOME,TRNS,PGDN,TRNS,TRNS, LEFT,DOWN,UP, RGHT,TRNS,TRNS, \\ TRNS,TRNS,DEL, TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,FIND,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS, TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS), [3] = KEYMAP_TKG( TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,FN9, FN10,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,TRNS,TRNS,TRNS, TRNS,TRNS,TRNS,TRNS,TRNS, \\ TRNS,TRNS,BSPC,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS), }; #ifdef KEYMAP_SECTION_ENABLE const uint16_t fn_actions[] __attribute__ ((section (\".keymap.fn_actions\"))) = { #else const uint16_t fn_actions[] PROGMEM = { #endif [1] = ACTION_LAYER_MOMENTARY(1), [2] = ACTION_LAYER_MOMENTARY(2), [3] = ACTION_LAYER_MODS(3, MOD_LSFT), [4] = ACTION_MODS_KEY(MOD_LGUI, KC_SPACE), [5] = ACTION_MODS_KEY(MOD_LGUI, KC_TAB), [6] = ACTION_LAYER_TOGGLE(1), [7] = ACTION_MODS_KEY(MOD_LSFT, KC_9), [8] = ACTION_MODS_KEY(MOD_LSFT, KC_0), [9] = ACTION_MODS_KEY(MOD_LSFT, KC_COMMA), [10] = ACTION_MODS_KEY(MOD_LSFT, KC_DOT), [11] = ACTION_MODS(MOD_LCTL | MOD_LSFT | MOD_LALT | MOD_LGUI), [21] = ACTION_MODS_KEY(MOD_LSFT, KC_1), [22] = ACTION_MODS_KEY(MOD_LSFT, KC_2), [23] = ACTION_MODS_KEY(MOD_LSFT, KC_3), [24] = ACTION_MODS_KEY(MOD_LSFT, KC_4), [25] = ACTION_MODS_KEY(MOD_LSFT, KC_5), [26] = ACTION_MODS_KEY(MOD_LSFT, KC_6), [27] = ACTION_MODS_KEY(MOD_LSFT, KC_7), [28] = ACTION_MODS_KEY(MOD_LSFT, KC_8), [29] = ACTION_MODS_KEY(MOD_LSFT, KC_9), [30] = ACTION_MODS_KEY(MOD_LSFT, KC_0), }; 成本统计 PCB板 + 外壳 = 220 RMB （已加邮费） 轴 + 平衡栏 + 灯 = 100 RMB （包邮） 键帽 = 119RMB （包邮） 合计：440RMB 总的看来，这个复刻版本，比国外动辄上百刀的版本更有吸引力。不过高大上程度还是略逊一筹。\nErgoDone，让你重新定（学）义（习）打字。\n","wordCount":"3025","inLanguage":"zh-cn","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"wizmann"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wizmann.top/posts/ergodone/"},"publisher":{"@type":"Organization","name":"Maerlyn's Rainbow","logo":{"@type":"ImageObject","url":"https://wizmann.top/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wizmann.top/ accesskey=h title="Maerlyn's Rainbow (Alt + H)">Maerlyn's Rainbow</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent"></h1><div class=post-meta>wizmann</div></header><div class=post-content><p>Date: 2016-10-05 21:38:58
Title: 打造你的专属键盘 — ErgoDone
Tags: ot, ergodone, keyboard
Slug: ergodone</p><h2 id=写在前面>写在前面<a hidden class=anchor aria-hidden=true href=#写在前面>#</a></h2><blockquote><p>低能预警：这是最没有技术含量的一篇博客，无关人员可以撤离。</p></blockquote><blockquote><p>部分图片来自网络，侵删</p></blockquote><p>这个十一假期，亲手DIY了一把键盘。当然，我只搞定了焊接部分，把不同的组件拼在了一起。</p><p>在焊接的过程中，也学习到了一些新知识。写在这里，记录下来。</p><h2 id=ergodone介绍>ErgoDone介绍<a hidden class=anchor aria-hidden=true href=#ergodone介绍>#</a></h2><p>ErgoDone是著名开源硬件ErgoDox的中国特色版本，精简了一些硬件以控制成本。总体价格在500RMB左右，是工薪阶级装逼界的一颗新星。</p><p>Ergodox的一个版本：
<img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-2/41980975.jpg></p><p>ErgoDone明显就屌丝了许多：</p><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-5/28663395.jpg></p><h2 id=键盘主控>键盘主控<a hidden class=anchor aria-hidden=true href=#键盘主控>#</a></h2><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-2/32662639.jpg></p><p>ErgoDone使用了Arduino pro micro做为主控，基中使用了mega32u4做为芯片，提供了模拟USB输入设备的相关函数（包括键盘、鼠标）。网上有许多现成的范例，用这款芯片（以及另一版使用mega32u4的Arduino开发版，Arduino Leonardo）制作体感鼠标（搭配陀螺仪）、游戏摇杆（搭配相关硬件）以及各种专用输入设备。</p><p>Arduino pro micro淘宝价不到20块钱，相对来说算是非常超值了。</p><h2 id=焊接>焊接<a hidden class=anchor aria-hidden=true href=#焊接>#</a></h2><p>由于本人算是菜的抠脚的业余选手，在这个键盘上的主要工作就是焊接。然而，就在焊接这样一件相对简单的工作上，我也是踩了不少坑。</p><h3 id=miniusb转microusb>MiniUSB转MicroUSB<a hidden class=anchor aria-hidden=true href=#miniusb转microusb>#</a></h3><p>在ErgoDone的设计中，整块键盘的供电，都是通过MiniUSB线来完成的。然而，pro micro的接口是MicroUSB的，这里我们需要一个转换工作。</p><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-2/388124.jpg></p><p>MiniUSB，俗称T口USB。其中有五颗线，代表供电，D+，D-，ID与接地。</p><p>MicroUSB就是现在市面上绝大多数安卓手机的充电/数据接口。其中的线序与MiniUSB中的类似，只是多数情况下，我们不使用ID线。</p><p>在焊接键盘的过程中，我们需要完成一个自制MicroUSB接口，把导线连接到MicroUSB头上去。这个任务相对难度高一些，不过我们也有偷懒的方式。</p><p>因为MicroUSB线实在过于流行，现在无论谁手里都会有那么两三条。那么我们可以拆掉手机充电线的MicroUSB公头，把其中的线引出来，连到应该连的位置上，就可以正常的使用了。</p><p>如果你的MicroUSB线是良心厂家出产的话，其中会有四颗线：红绿白黑。</p><ul><li>红：供电，5V</li><li>绿：Data+</li><li>白：Data-</li><li>黑：接地</li></ul><p>在ErgoDone这里，我们不需要接地线也可以正常工作。然后在焊接的时候要注意线不要留的过长，否则会很难看（不要问我为什么知道）。</p><h3 id=一些打磨工作>一些打磨工作<a hidden class=anchor aria-hidden=true href=#一些打磨工作>#</a></h3><p>ErgoDone的两片键盘是通过3.5mm的音频线连接的，然后音频接口不出意料的比外壳预留的接口要厚一些。所以一些打磨工作是必须的。</p><p>这里推荐打磨神器 —— 磨刀石。好的磨刀石有粗细两面，方便控制粒度，同时打磨的效率也比较高。如果真的啥都没有，可以强行试一波指甲钳上面的小挫。</p><h3 id=卫星轴的安装>卫星轴的安装<a hidden class=anchor aria-hidden=true href=#卫星轴的安装>#</a></h3><p>可以参考<a href=http://tieba.baidu.com/p/3703634467>这篇帖子</a>，上面已经说的很好了，我就不重复了。记得重要的一点是要把钢丝入扣，否则可能会卡键什么的。情况允许，还可以加一点润滑脂，让摩擦力小一点。</p><h3 id=焊轴>焊轴<a hidden class=anchor aria-hidden=true href=#焊轴>#</a></h3><p>焊轴相对是最简单的一步了，因为焊点的距离足够远，而且也足够大。只是注意别在焊盘上停留太多时间，把焊盘弄掉了就好。</p><h3 id=飞线与tdd>飞线与TDD<a hidden class=anchor aria-hidden=true href=#飞线与tdd>#</a></h3><p>这两个放在一起写的原因是因为这两个技术都需要一样工具 —— 万用表。当然这里只是用来测连通性的，所以如果你愿意折腾，自己用发光二级管自己搞一把也不是不可以。</p><p>如果我们操作不当，不小心把焊盘搞下来了，有什么方法可以补救呢。答案是飞线，就是不借助电路板上的电路，而是显式的用导线来导通某两个或多个管脚。</p><p>ErgoDone由于是对称的两块，所以在焊崩了之后，可以依样找一个可用的焊盘来找可以飞线的焊点。如果手里只有一块板子而且情况不允许的话，就只好在焊之前，尤其是比较高难度的操作之前，先留好plan B，想想万一搞砸了有没有回滚方案（蛤）。</p><p>TDD，又称测试驱动开发。就是在焊完一部分之后，立刻进行测试。比如集成电路或者主控，在焊完之后，一定要用万用表确认一下是不是有相临管脚短路的情况。在二极管焊完之后，用镊子测试一下是否可以触发相应的按键。</p><p>一个半成品：</p><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-2/35993621.jpg></p><h2 id=对键盘编程>对键盘编程<a hidden class=anchor aria-hidden=true href=#对键盘编程>#</a></h2><p>这种DIY键盘的一大好处就是可以自定义配列，通过Fn键做一些很fancy的事情。比如触发组合键，或者是录制一些宏。对于程序员和一些游戏玩家来说，这个功能是非常吸引人的。</p><h3 id=我的配列>我的配列<a hidden class=anchor aria-hidden=true href=#我的配列>#</a></h3><p>默认层：http://www.keyboard-layout-editor.com/#/gists/a9278a768f78adf9d7b019b883678390</p><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-5/11486899.jpg></p><p>Fn层：http://www.keyboard-layout-editor.com/#/gists/79ad8e6c4ac70cfad1ed400355e960a7</p><p>右手的那堆Fn对应着0~9上面的符号</p><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-5/90976851.jpg></p><p>Vim层：http://www.keyboard-layout-editor.com/#/gists/950dc52b3b27c24601661f2fd43a6d69</p><p>模仿vim/bash映射了一些快捷键</p><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-5/92544582.jpg></p><p>魔改层：http://www.keyboard-layout-editor.com/#/gists/8bb13d2439c542a06d99e17fca3a234b</p><p>用来魔改/创造一些不存在的键位和组合</p><p><img loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/16-10-5/28220231.jpg></p><p>食指多出来的四个键分别对应着四种括号<code>&lt;>(){}[]</code>。在编程中会比较常用到。</p><h3 id=魔改举例>魔改举例<a hidden class=anchor aria-hidden=true href=#魔改举例>#</a></h3><p>在食指的扩充键位中，我设计了一个不存在的键位组合：<code>&lt;(</code>和<code>>)</code>。即在默认状态下，输入<code>()</code>；在Shift状态下，输入<code>&lt;></code>。这种设计并没有直接的解决方案。对于圆括号的输入，我们可以使用组合键宏。而Shift输入尖括号，则需要一些技巧。</p><p>幸好之前已经有人提出并解决了<a href=https://github.com/tmk/tmk_keyboard/wiki/FAQ-Keymap#esc-and--on-a-key>类似的问题</a>。简而言之，就是将Shift改成“Fn+Shift”，在按下Shift的同时，切换到一个新的层上。新的层上，我们可以用组合键宏输入尖括号。而剩下的键位，我们将其设置为透明。当你按下其它的键时，与平时按下Shift没有区别。</p><h2 id=最终的代码>最终的代码<a hidden class=anchor aria-hidden=true href=#最终的代码>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>// Generated by TKG at 2016-10-05 22:35:43
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;keymap_common.h&#34;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#define KEYMAP_TKG( \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    K0A, K0B, K0C, K0D, K0E, K0F, K0G, K0H, K0I, K0J, K0K, K0L, K0M, K0N, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    K1A, K1B, K1C, K1D, K1E, K1F, K1G, K1H, K1I, K1J, K1K, K1L, K1M, K1N, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    K2A, K2B, K2C, K2D, K2E, K2F,           K2I, K2J, K2K, K2L, K2M, K2N, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    K3A, K3B, K3C, K3D, K3E, K3F, K3G, K3H, K3I, K3J, K3K, K3L, K3M, K3N, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    K4A, K4B, K4C, K4D, K4E,                     K4J, K4K, K4L, K4M, K4N, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>         K5B, K5C, K5D, K5E, K5F, K5G, K5H, K5I, K5J, K5K, K5L, K5M  \
</span></span></span><span style=display:flex><span><span style=color:#75715e>) { \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    { KC_##K0A, KC_##K0B, KC_##K0C, KC_##K0D, KC_##K0E, KC_##K0F, KC_##K0G, KC_##K0H, KC_##K0I, KC_##K0J, KC_##K0K, KC_##K0L, KC_##K0M, KC_##K0N }, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    { KC_##K1A, KC_##K1B, KC_##K1C, KC_##K1D, KC_##K1E, KC_##K1F, KC_##K1G, KC_##K1H, KC_##K1I, KC_##K1J, KC_##K1K, KC_##K1L, KC_##K1M, KC_##K1N }, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    { KC_##K2A, KC_##K2B, KC_##K2C, KC_##K2D, KC_##K2E, KC_##K2F, KC_NO,    KC_NO,    KC_##K2I, KC_##K2J, KC_##K2K, KC_##K2L, KC_##K2M, KC_##K2N }, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    { KC_##K3A, KC_##K3B, KC_##K3C, KC_##K3D, KC_##K3E, KC_##K3F, KC_##K3G, KC_##K3H, KC_##K3I, KC_##K3J, KC_##K3K, KC_##K3L, KC_##K3M, KC_##K3N }, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    { KC_##K4A, KC_##K4B, KC_##K4C, KC_##K4D, KC_##K4E, KC_NO,    KC_NO,    KC_NO,    KC_NO,    KC_##K4J, KC_##K4K, KC_##K4L, KC_##K4M, KC_##K4N }, \
</span></span></span><span style=display:flex><span><span style=color:#75715e>    { KC_NO,    KC_##K5B, KC_##K5C, KC_##K5D, KC_##K5E, KC_##K5F, KC_##K5G, KC_##K5H, KC_##K5I, KC_##K5J, KC_##K5K, KC_##K5L, KC_##K5M, KC_NO    }  \
</span></span></span><span style=display:flex><span><span style=color:#75715e>}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef KEYMAP_SECTION_ENABLE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>uint8_t</span> keymaps[][MATRIX_ROWS][MATRIX_COLS] __attribute__ ((section (<span style=color:#e6db74>&#34;.keymap.keymaps&#34;</span>))) <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span><span style=color:#75715e>#else
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>uint8_t</span> keymaps[][MATRIX_ROWS][MATRIX_COLS] PROGMEM <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> KEYMAP_TKG(
</span></span><span style=display:flex><span>        GRV, <span style=color:#ae81ff>1</span>,   <span style=color:#ae81ff>2</span>,   <span style=color:#ae81ff>3</span>,   <span style=color:#ae81ff>4</span>,   <span style=color:#ae81ff>5</span>,   HOME,END, <span style=color:#ae81ff>6</span>,   <span style=color:#ae81ff>7</span>,   <span style=color:#ae81ff>8</span>,   <span style=color:#ae81ff>9</span>,   <span style=color:#ae81ff>0</span>,   BSPC, \
</span></span><span style=display:flex><span>        TAB, Q,   W,   E,   R,   T,   LBRC,RBRC,Y,   U,   I,   O,   P,   BSLS, \
</span></span><span style=display:flex><span>        ESC, A,   S,   D,   F,   G,             H,   J,   K,   L,   SCLN,QUOT, \
</span></span><span style=display:flex><span>        FN3, Z,   X,   C,   V,   B,   FN7, FN8, N,   M,   COMM,DOT, SLSH,FN3,  \
</span></span><span style=display:flex><span>        LCTL,LGUI,LALT,FN11,DEL,                     MINS,EQL, F10, F11, F12,  \
</span></span><span style=display:flex><span>             LCTL,FN2, SPC, FN4, PSCR,CAPS,FN6, PAUS,FN5, ENT, FN1, LGUI),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> KEYMAP_TKG(
</span></span><span style=display:flex><span>        TRNS,F1,  F2,  F3,  F4,  F5,  TRNS,TRNS,F6,  F7,  F8,  F9,  F10, DEL,  \
</span></span><span style=display:flex><span>        TRNS,<span style=color:#ae81ff>1</span>,   <span style=color:#ae81ff>2</span>,   <span style=color:#ae81ff>3</span>,   <span style=color:#ae81ff>4</span>,   <span style=color:#ae81ff>5</span>,   TRNS,TRNS,FN21,FN22,FN23,FN24,FN25,TRNS, \
</span></span><span style=display:flex><span>        TRNS,<span style=color:#ae81ff>6</span>,   <span style=color:#ae81ff>7</span>,   <span style=color:#ae81ff>8</span>,   <span style=color:#ae81ff>9</span>,   <span style=color:#ae81ff>0</span>,             FN26,FN27,FN28,FN29,FN30,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,                    VOLU,VOLD,MPRV,MPLY,MNXT, \
</span></span><span style=display:flex><span>             TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> KEYMAP_TKG(
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,END, TRNS,TRNS,TRNS,TRNS,TRNS,PGUP,INS, TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,HOME,TRNS,PGDN,TRNS,TRNS,          LEFT,DOWN,UP,  RGHT,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,DEL, TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,FIND,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,                    TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>             TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> KEYMAP_TKG(
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,          TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,FN9, FN10,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>        TRNS,TRNS,TRNS,TRNS,TRNS,                    TRNS,TRNS,TRNS,TRNS,TRNS, \
</span></span><span style=display:flex><span>             TRNS,TRNS,BSPC,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS,TRNS),
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef KEYMAP_SECTION_ENABLE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>uint16_t</span> fn_actions[] __attribute__ ((section (<span style=color:#e6db74>&#34;.keymap.fn_actions&#34;</span>))) <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span><span style=color:#75715e>#else
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>uint16_t</span> fn_actions[] PROGMEM <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    [<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> ACTION_LAYER_MOMENTARY(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> ACTION_LAYER_MOMENTARY(<span style=color:#ae81ff>2</span>),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> ACTION_LAYER_MODS(<span style=color:#ae81ff>3</span>, MOD_LSFT),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LGUI, KC_SPACE),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LGUI, KC_TAB),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>6</span>] <span style=color:#f92672>=</span> ACTION_LAYER_TOGGLE(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>7</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_9),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>8</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_0),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>9</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_COMMA),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>10</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_DOT),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>11</span>] <span style=color:#f92672>=</span> ACTION_MODS(MOD_LCTL <span style=color:#f92672>|</span> MOD_LSFT <span style=color:#f92672>|</span> MOD_LALT <span style=color:#f92672>|</span> MOD_LGUI),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>21</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_1),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>22</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_2),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>23</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_3),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>24</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_4),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>25</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_5),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>26</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_6),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>27</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_7),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>28</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_8),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>29</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_9),
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>30</span>] <span style=color:#f92672>=</span> ACTION_MODS_KEY(MOD_LSFT, KC_0),
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h2 id=成本统计>成本统计<a hidden class=anchor aria-hidden=true href=#成本统计>#</a></h2><ul><li>PCB板 + 外壳 = 220 RMB （已加邮费）</li><li>轴 + 平衡栏 + 灯 = 100 RMB （包邮）</li><li>键帽 = 119RMB （包邮）</li><li>合计：440RMB</li></ul><p>总的看来，这个复刻版本，比国外动辄上百刀的版本更有吸引力。不过高大上程度还是略逊一筹。</p><p>ErgoDone，让你重新定（学）义（习）打字。</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://wizmann.top/posts/cse351-lab1/><span class=title>«</span><br><span></span>
</a><a class=next href=https://wizmann.top/posts/find-the-geo-location-of-a-host/><span class=title>»</span><br><span></span></a></nav></footer><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://wizmann.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2025 <a href=https://wizmann.top/>Maerlyn's Rainbow</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>