<!doctype html><html><head><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}}</script><script defer src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body><header class=header-wrapper><div class=header><a class=site-title href=https://wizmann.top/>Maerlyn's Rainbow</a><nav class=menu></nav></div></header><main class=main-wrapper><div class=main><section class=single><h1 class=title>Codeforces Round #223 (Div. 2) ä¸å®Œå…¨ä¸æ­£ç¡®é¢˜è§£</h1><div class=tip><time datetime="2014-01-18 14:47:00 +0000 UTC">2014/01/18</time>
<span class=split>Â·</span>
<span>1656 words </span><span class=split>Â·</span>
<span>4 minutes to read</span></div><div class=taxonomies><div>Tags:
<a href=/tags/codeforces>codeforces</a>
<a href=/tags/algorithm>algorithm</a>
<a href=/tags/%E7%AE%97%E6%B3%95>ç®—æ³•</a>
<a href=/tags/%E9%A2%98%E8%A7%A3>é¢˜è§£</a></div></div><hr><div class=content><p>ç”±äºå¤§å·å·²ç»è¿›Div. 1äº†ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥çš„å‡ åœºDiv. 2éƒ½æ˜¯ç”¨å°å·åšçš„ã€‚</p><p>ç­‰æœ‰å®åŠ›åˆ‡Dé¢˜äº†ï¼Œå†å»æ‰“ä¸€åŒºã€‚ï¼ˆå¼±</p><p>äº‹æƒ…ä¸€ç›´å¾ˆå¤šï¼Œæ‰€ä»¥é¢˜è§£è½åäº†å¥½ä¹…æ‰å‘ã€‚</p><h2 id=a-sereja-and-dima>A. Sereja and Dima <a href=#a-sereja-and-dima class=anchor>ğŸ”—</a></h2><p>çº¯æ¨¡æ‹Ÿï¼ŒPythonéšä¾¿æ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>n <span style=color:#f92672>=</span> int(raw_input())
</span></span><span style=display:flex><span>pokers <span style=color:#f92672>=</span> map(int, raw_input()<span style=color:#f92672>.</span>split())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>v <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> xrange(n):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> pokers[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> pokers[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]:
</span></span><span style=display:flex><span>        v[p] <span style=color:#f92672>+=</span> pokers[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>del</span> pokers[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        v[p] <span style=color:#f92672>+=</span> pokers[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>del</span> pokers[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    p <span style=color:#f92672>^=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print v[<span style=color:#ae81ff>0</span>], v[<span style=color:#ae81ff>1</span>]
</span></span></code></pre></div><h2 id=b-sereja-and-stairs>B. Sereja and Stairs <a href=#b-sereja-and-stairs class=anchor>ğŸ”—</a></h2><p>é¢˜ç›®è¦æ±‚å®ç°ä¸€ä¸ªæ•°ç»„ï¼Œä½¿å‰ä¸€åŠä¸ºé€’å¢ï¼Œåä¸€åŠä¸ºé€’å‡ã€‚</p><p><code>a[1]â€‰&lt;â€‰a[2]â€‰&lt;â€‰...â€‰&lt;â€‰a[iâ€‰-â€‰1]â€‰&lt;â€‰a[i]â€‰>â€‰a[iâ€‰+â€‰1]â€‰>â€‰...â€‰>â€‰a[n - â€‰1]â€‰>â€‰a[n]</code></p><p>æ‰€ä»¥æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼ŒæŸä¸€ä¸ªæ•°<code>x</code>åœ¨æ•°ç»„<code>a</code>ä¸­æœ€å¤šå¯ä»¥å‡ºç°ä¸¤æ¬¡ï¼Œå…¶ä¸­ä¸€æ¬¡åœ¨å·¦è¾¹çš„åºåˆ—ï¼Œä¸€æ¬¡åœ¨å³è¾¹çš„åºåˆ—ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å°±å¯¹ç»™å‡ºçš„æ•°ç»„<code>s</code>è¿›è¡Œä¸€æ¬¡ç»Ÿè®¡ï¼Œæ‰¾å‡ºæ¯ä¸€ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>å¹¶åˆ†åˆ«è®¨è®ºå‡ºç°ä¸€æ¬¡å’Œå‡ºç°ä¸¤æ¬¡çš„æƒ…å†µã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>SIZE <span style=color:#f92672>=</span> <span style=color:#ae81ff>5120</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>n <span style=color:#f92672>=</span> int(raw_input())
</span></span><span style=display:flex><span>cards <span style=color:#f92672>=</span> map(int, raw_input()<span style=color:#f92672>.</span>split())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cnt <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> xrange(SIZE)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>maxi <span style=color:#f92672>=</span> max(cards)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> item <span style=color:#f92672>in</span> cards:
</span></span><span style=display:flex><span>    cnt[item] <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>left <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>right <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> xrange(maxi):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> cnt[i] <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>        left<span style=color:#f92672>.</span>append(i)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>elif</span> cnt[i] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>        left<span style=color:#f92672>.</span>append(i)
</span></span><span style=display:flex><span>        right<span style=color:#f92672>.</span>append(i)
</span></span><span style=display:flex><span>left<span style=color:#f92672>.</span>sort()
</span></span><span style=display:flex><span>right<span style=color:#f92672>.</span>sort(reverse<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ans <span style=color:#f92672>=</span> left <span style=color:#f92672>+</span> [maxi] <span style=color:#f92672>+</span> right
</span></span><span style=display:flex><span>print len(ans)
</span></span><span style=display:flex><span>print <span style=color:#e6db74>&#39; &#39;</span><span style=color:#f92672>.</span>join(map(str, ans))
</span></span></code></pre></div><h2 id=c-sereja-and-prefixes>C. Sereja and Prefixes <a href=#c-sereja-and-prefixes class=anchor>ğŸ”—</a></h2><p>ç»™å®šä¸€ä¸ªç©ºåºåˆ—<code>A</code>ï¼Œç„¶åè¿™ä¸ªåºåˆ—ä¸Šå¯ä»¥æœ‰ä¸¤ç§æ“ä½œã€‚</p><p>ä¸€æ˜¯<code>A.push_back(x)</code>ï¼ŒäºŒæ˜¯<code>A.push_back_batch(A[0]...A[i])</code>ã€‚</p><p>ç”±äºæ“ä½œçš„æ¬¡æ•°æ˜¯<code>10^5</code>ï¼Œäºæ˜¯æˆ‘ä»¬å°†åºåˆ—<code>A</code>å­˜æˆä¸€ä¸ªå¦‚ä¸‹çš„å½¢å¼ã€‚</p><p><code>a -> b -> c -> copy(0...i) -> d -> copy(0 ... j)</code></p><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœè¯¢é—®çš„ä½ç½®<code>pos</code>æ˜¯ä¸€ä¸ªæ•°ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ç»“æœã€‚å¦‚æœè¯¢é—®çš„ä½ç½®<code>pos</code>ä½äºä¸€ä¸ª<code>copy</code>å—é‡Œé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ä¸€å®šä¼šåœ¨<code>A[0...i]</code>ä¸­å‡ºç°ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥å¤„ç†<code>pos</code> -> <code>pos'</code>ï¼Œä½¿<code>pos'</code>ä½äº<code>A[0...i]</code>åŒºé—´å†…ã€‚å¦‚æ­¤å¾ªç¯ï¼Œç›´åˆ°<code>pos</code>æ˜¯ä¸€ä¸ªæ•°ä¸ºæ­¢ã€‚</p><p>ç„¶åè¿™é¢˜ç”¨çš„ç®—æ³•è²Œä¼¼ä¸æ˜¯æœ€å¿«çš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ˜¯æœ€å¥½ç†è§£çš„ä¸€ç§ã€‚</p><p>ä½¿ç”¨ä¸€ä¸ªå¤§æ ¹å †å¾ªç¯å–<code>query</code>ä¸­æœ€å¤§çš„å€¼ï¼Œç„¶åè¿›è¡Œå¤„ç†ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdio&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdlib&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#define print(x) cout &lt;&lt; x &lt;&lt; endl
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define input(x) cin &gt;&gt; x
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> llint;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> SIZE <span style=color:#f92672>=</span> <span style=color:#ae81ff>100010</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    llint st, end;
</span></span><span style=display:flex><span>    llint prefix, rep;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    node(llint ist, llint pre, llint r) {
</span></span><span style=display:flex><span>        st <span style=color:#f92672>=</span> ist;
</span></span><span style=display:flex><span>        end <span style=color:#f92672>=</span> st <span style=color:#f92672>+</span> pre <span style=color:#f92672>*</span> r <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        prefix <span style=color:#f92672>=</span> pre;
</span></span><span style=display:flex><span>        rep <span style=color:#f92672>=</span> r;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    node(llint ist, llint v) {
</span></span><span style=display:flex><span>        st <span style=color:#f92672>=</span> end <span style=color:#f92672>=</span> ist;
</span></span><span style=display:flex><span>        prefix <span style=color:#f92672>=</span> v;
</span></span><span style=display:flex><span>        rep <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    node(){}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>is_value</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> rep <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    llint <span style=color:#a6e22e>value</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> prefix;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>contains</span>(llint v) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> st <span style=color:#f92672>&lt;=</span> v <span style=color:#f92672>&amp;&amp;</span> v <span style=color:#f92672>&lt;=</span> end;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>query</span> {
</span></span><span style=display:flex><span>    llint v, q;
</span></span><span style=display:flex><span>    query(){}
</span></span><span style=display:flex><span>    query(llint iv, llint iq)<span style=color:#f92672>:</span> v(iv), q(iq){}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>friend</span> <span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span> <span style=color:#f92672>&lt;</span> (<span style=color:#66d9ef>const</span> query<span style=color:#f92672>&amp;</span> a, <span style=color:#66d9ef>const</span> query<span style=color:#f92672>&amp;</span> b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> a.v <span style=color:#f92672>&lt;</span> b.v;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>priority_queue<span style=color:#f92672>&lt;</span>query<span style=color:#f92672>&gt;</span> pq;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>node<span style=color:#f92672>&gt;</span> vec;
</span></span><span style=display:flex><span>map<span style=color:#f92672>&lt;</span>llint, llint<span style=color:#f92672>&gt;</span> mp;
</span></span><span style=display:flex><span>llint ask[SIZE];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>solve</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ptr <span style=color:#f92672>=</span> vec.size() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>pq.empty()) {
</span></span><span style=display:flex><span>        query nn <span style=color:#f92672>=</span> pq.top();
</span></span><span style=display:flex><span>        llint now <span style=color:#f92672>=</span> nn.v;
</span></span><span style=display:flex><span>        llint q <span style=color:#f92672>=</span> nn.q;
</span></span><span style=display:flex><span>        pq.pop();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>vec[ptr].contains(now)) {
</span></span><span style=display:flex><span>            ptr<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (vec[ptr].is_value()) {
</span></span><span style=display:flex><span>            mp[q] <span style=color:#f92672>=</span> vec[ptr].value();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            llint delta <span style=color:#f92672>=</span> now <span style=color:#f92672>-</span> vec[ptr].st;
</span></span><span style=display:flex><span>            delta <span style=color:#f92672>%=</span> vec[ptr].prefix;
</span></span><span style=display:flex><span>            pq.push(query(delta <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, q));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    llint a, b, c;
</span></span><span style=display:flex><span>    input(n);
</span></span><span style=display:flex><span>    llint st <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        input(a);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (a <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>            input(b);
</span></span><span style=display:flex><span>            vec.push_back(node(st, b));
</span></span><span style=display:flex><span>            st<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            input(b <span style=color:#f92672>&gt;&gt;</span> c);
</span></span><span style=display:flex><span>            vec.push_back(node(st, b, c));
</span></span><span style=display:flex><span>            st <span style=color:#f92672>=</span> (<span style=color:#f92672>--</span>vec.end()) <span style=color:#f92672>-&gt;</span> end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    input(m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        input(a);
</span></span><span style=display:flex><span>        ask[i] <span style=color:#f92672>=</span> a;
</span></span><span style=display:flex><span>        pq.push(query(a, a));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    solve();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (i) printf(<span style=color:#e6db74>&#34; &#34;</span>);
</span></span><span style=display:flex><span>        printf(<span style=color:#e6db74>&#34;%lld&#34;</span>, mp[ask[i]]);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    puts(<span style=color:#e6db74>&#34;&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=d-sereja-and-tree>D. Sereja and Tree <a href=#d-sereja-and-tree class=anchor>ğŸ”—</a></h2><p>æš´åŠ›ä¹±æï¼Œå› ä¸ºæ ‘çš„é«˜åº¦åªæœ‰7000ï¼Œæ‰€ä»¥æ€ä¹ˆæéƒ½å¤§æ¦‚èƒ½è¿‡ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆåšçš„äººå¥½å°‘ã€‚</p><p>å¯èƒ½æ˜¯é¢˜ç›®è¡¨è¿°çš„ä¸å¤ªå¥½å§ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdio&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdlib&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stack&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;set&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#define print(x) cout &lt;&lt; x &lt;&lt; endl
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define input(x) cin &gt;&gt; x
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> llint;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> SIZE <span style=color:#f92672>=</span> <span style=color:#ae81ff>7010</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> LINE <span style=color:#f92672>=</span> <span style=color:#ae81ff>501000</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l, r;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> val;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    node(){}
</span></span><span style=display:flex><span>    node(<span style=color:#66d9ef>int</span> il, <span style=color:#66d9ef>int</span> ir, <span style=color:#66d9ef>int</span> ival)<span style=color:#f92672>:</span> l(il), r(ir), val(ival) {}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> ls[LINE], rs[LINE];
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>node<span style=color:#f92672>&gt;</span> ins[SIZE];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>intersect</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b, <span style=color:#66d9ef>int</span> c, <span style=color:#66d9ef>int</span> d) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (b <span style=color:#f92672>&lt;</span> c <span style=color:#f92672>||</span> a <span style=color:#f92672>&gt;</span> d) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>init</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    ls[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    rs[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt, p <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;</span> LINE; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ((<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> cnt) <span style=color:#f92672>==</span> i) {
</span></span><span style=display:flex><span>            cnt<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            ls[i] <span style=color:#f92672>=</span> p<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            rs[i] <span style=color:#f92672>=</span> p<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            ls[i] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            rs[i] <span style=color:#f92672>=</span> p<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>query</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) {
</span></span><span style=display:flex><span>    set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> s;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ll <span style=color:#f92672>=</span> b, rr <span style=color:#f92672>=</span> b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> level <span style=color:#f92672>=</span> a; level <span style=color:#f92672>&lt;=</span> n; level<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> (<span style=color:#66d9ef>int</span>)ins[level].size(); i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (intersect(ll, rr, ins[level][i].l, ins[level][i].r)) {
</span></span><span style=display:flex><span>                s.insert(ins[level][i].val);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        ll <span style=color:#f92672>=</span> ls[ll] <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#f92672>?</span> rs[ll]<span style=color:#f92672>:</span> ls[ll];
</span></span><span style=display:flex><span>        rr <span style=color:#f92672>=</span> rs[rr];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> s.size();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> tp;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l, r;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    init();
</span></span><span style=display:flex><span>    input(n <span style=color:#f92672>&gt;&gt;</span> m);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (m<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        input(tp);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (tp <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>            input(a <span style=color:#f92672>&gt;&gt;</span> l <span style=color:#f92672>&gt;&gt;</span> r <span style=color:#f92672>&gt;&gt;</span> b);
</span></span><span style=display:flex><span>            ins[a].push_back(node(l, r, b));
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            input(a <span style=color:#f92672>&gt;&gt;</span> b);
</span></span><span style=display:flex><span>            print(query(a, b));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e-sereja-and-brackets>E. Sereja and Brackets <a href=#e-sereja-and-brackets class=anchor>ğŸ”—</a></h2><p>ä¸å‡ºæ„å¤–çš„åˆçœ‹é”™é¢˜äº†ã€‚ã€‚ã€‚_(:Ğ·ã€âˆ )_</p><p>æœ€é•¿çš„æ‹¬å·åŒºé—´å±…ç„¶æ˜¯å¯ä»¥åœ¨ä¸­é—´åˆ é™¤ä¸€äº›æ‹¬å·çš„åŒºé—´ã€‚è¿™æ ·é¢˜ç›®å°±å˜æˆäº†ä¸€é“æ¯”è¾ƒç®€å•çš„<code>ç¦»çº¿åŒ–+æ ‘çŠ¶æ•°ç»„</code>äº†ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdio&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdlib&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;map&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stack&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#define print(x) cout &lt;&lt; x &lt;&lt; endl
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define input(x) cin &gt;&gt; x
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> llint;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> SIZE <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000100</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>ppair</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> l, r;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> id;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    ppair(){}
</span></span><span style=display:flex><span>    ppair(<span style=color:#66d9ef>int</span> il, <span style=color:#66d9ef>int</span> ir, <span style=color:#66d9ef>int</span> iid)<span style=color:#f92672>:</span> l(il), r(ir), id(iid) {}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>friend</span> <span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span> <span style=color:#f92672>&lt;</span> (<span style=color:#66d9ef>const</span> ppair<span style=color:#f92672>&amp;</span> a, <span style=color:#66d9ef>const</span> ppair<span style=color:#f92672>&amp;</span> b) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> a.r <span style=color:#f92672>&lt;</span> b.r;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>lowbit</span>(<span style=color:#66d9ef>int</span> x)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> x<span style=color:#f92672>&amp;</span>(<span style=color:#f92672>-</span>x);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>BIT</span><span style=color:#75715e>//ç‚¹æ›´æ–°ï¼ŒåŒºé—´æŸ¥è¯¢
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> baum[SIZE];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>init</span>()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        memset(baum,<span style=color:#ae81ff>0</span>,<span style=color:#66d9ef>sizeof</span>(baum));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> x,<span style=color:#66d9ef>int</span> val)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span>(x<span style=color:#f92672>&lt;</span>SIZE)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            baum[x]<span style=color:#f92672>+=</span>val;
</span></span><span style=display:flex><span>            x<span style=color:#f92672>+=</span>lowbit(x);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>sum</span>(<span style=color:#66d9ef>int</span> x)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> res<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span>(x<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            res<span style=color:#f92672>+=</span>baum[x];
</span></span><span style=display:flex><span>            x<span style=color:#f92672>-=</span>lowbit(x);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>sum</span>(<span style=color:#66d9ef>int</span> a,<span style=color:#66d9ef>int</span> b)<span style=color:#75715e>//æŸ¥è¯¢åŒºé—´å’Œ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> sum(b)<span style=color:#f92672>-</span>sum(a<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> q;
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> ss[SIZE];
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>ppair<span style=color:#f92672>&gt;</span> match;
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>ppair<span style=color:#f92672>&gt;</span> query;
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>preload</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> st;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; ss[i]; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>char</span> c <span style=color:#f92672>=</span> ss[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;(&#39;</span>) {
</span></span><span style=display:flex><span>            st.push(i);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (c <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;)&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>st.empty()) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> now <span style=color:#f92672>=</span> st.top();
</span></span><span style=display:flex><span>            st.pop();
</span></span><span style=display:flex><span>            match.push_back(ppair(now <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>solve</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    sort(match.begin(), match.end());
</span></span><span style=display:flex><span>    sort(query.begin(), query.end());
</span></span><span style=display:flex><span>    ans.resize(query.size());
</span></span><span style=display:flex><span>    BIT bit;
</span></span><span style=display:flex><span>    bit.init();
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> (<span style=color:#66d9ef>int</span>)query.size(); i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (p <span style=color:#f92672>&lt;</span> (<span style=color:#66d9ef>int</span>)match.size() <span style=color:#f92672>&amp;&amp;</span> match[p].r <span style=color:#f92672>&lt;=</span> query[i].r) {
</span></span><span style=display:flex><span>            bit.add(match[p].l, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            p<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        ans[query[i].id] <span style=color:#f92672>=</span> bit.sum(query[i].l, query[i].r);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}    
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a, b;
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%s&#34;</span>, ss);
</span></span><span style=display:flex><span>    preload();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    input(q);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> q; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        input(a <span style=color:#f92672>&gt;&gt;</span> b);
</span></span><span style=display:flex><span>        query.push_back(ppair(a, b, i));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    solve();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> iter <span style=color:#f92672>=</span> ans.begin(); iter <span style=color:#f92672>!=</span> ans.end(); <span style=color:#f92672>++</span>iter) {
</span></span><span style=display:flex><span>        print(<span style=color:#f92672>*</span>iter <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></section></div><div class=side><div class=side-recent><h2 class=side-title><a href=/posts/>Recent Posts</a></h2><hr><ul><li><a href=/posts/why-not-start-with-ddia-part-1/>ä¸ºä»€ä¹ˆæˆ‘ä¸å»ºè®®ä½ é˜…è¯»ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ï¼ˆä¹‹ä¸€ï¼‰</a></li><li><a href=/posts/vertical-axis-wind-turbine-3d-model/>é£åŠ›æ¶¡è½®æœº 3D æ¨¡å‹ / Vertical Axis Wind Turbine (VAWT) 3D Model</a></li><li><a href=/posts/press-pad-3d-model/>3Dæ‰“å°è§£å‹ç©å…· / 3D Printed Fidget Toy</a></li><li><a href=/posts/lava-store/>è®ºæ–‡é˜…è¯»ï¼šLavaStore - é«˜æ€§èƒ½ã€æœ¬åœ°å­˜å‚¨å¼•æ“çš„æ¼”è¿›</a></li><li><a href=/posts/std-smart-ptrs-cpp-for-the-antiquated-4/>åŠ¨æ‰‹å®ç°æ™ºèƒ½æŒ‡é’ˆ ï¼ˆä¸Šç¯‡ï¼‰ - C++ for the Antiquatedï¼ˆä¹‹å››ï¼‰</a></li></ul></div><div class=side-categories><h2>Categories</h2><hr><ul></ul></div><div class=side-tags><h2>Tags</h2><hr><ul><li><a href=/tags/.net>.net (1)</a></li><li><a href=/tags/3d-printing>3d printing (2)</a></li><li><a href=/tags/a2b>a2b (1)</a></li><li><a href=/tags/ahk>ahk (1)</a></li><li><a href=/tags/algorithm>algorithm (26)</a></li><li><a href=/tags/alloca>alloca (1)</a></li><li><a href=/tags/allocate>allocate (1)</a></li><li><a href=/tags/arduino>arduino (1)</a></li><li><a href=/tags/asm>asm (1)</a></li><li><a href=/tags/async>async (2)</a></li><li><a href=/tags/atcoder>atcoder (1)</a></li><li><a href=/tags/autohotkey>autohotkey (1)</a></li><li><a href=/tags/autopilot>autopilot (1)</a></li><li><a href=/tags/azure>azure (2)</a></li><li><a href=/tags/b-tree>b-tree (1)</a></li><li><a href=/tags/basic-paxos>basic paxos (2)</a></li><li><a href=/tags/bbr>bbr (1)</a></li><li><a href=/tags/binary-indexed-tree>binary indexed tree (1)</a></li><li><a href=/tags/binary-tree>binary tree (1)</a></li><li><a href=/tags/bittorrent>bittorrent (1)</a></li><li><a href=/tags/borg>borg (1)</a></li><li><a href=/tags/bw-tree>bw-tree (1)</a></li><li><a href=/tags/c>c# (1)</a></li><li><a href=/tags/c++>c++ (6)</a></li><li><a href=/tags/cache>cache (1)</a></li><li><a href=/tags/cachegrind>cachegrind (1)</a></li><li><a href=/tags/cap>cap (1)</a></li><li><a href=/tags/career>career (1)</a></li><li><a href=/tags/cas>cas (3)</a></li><li><a href=/tags/ceph>ceph (1)</a></li><li><a href=/tags/chrome-extension>chrome-extension (2)</a></li><li><a href=/tags/cmpxchg>cmpxchg (2)</a></li><li><a href=/tags/cocurrency>cocurrency (1)</a></li><li><a href=/tags/code-golf>code golf (1)</a></li><li><a href=/tags/codeforces>codeforces (14)</a></li><li><a href=/tags/compare-ans-swap>compare-ans-swap (1)</a></li><li><a href=/tags/computational-geometry>computational geometry (1)</a></li><li><a href=/tags/consistency>consistency (1)</a></li><li><a href=/tags/cpp>cpp (9)</a></li><li><a href=/tags/cpu>cpu (1)</a></li><li><a href=/tags/cse351>cse351 (2)</a></li><li><a href=/tags/csharp>csharp (1)</a></li><li><a href=/tags/css>css (1)</a></li><li><a href=/tags/data-center>data center (1)</a></li><li><a href=/tags/data-center-management>data center management (1)</a></li><li><a href=/tags/defer>defer (1)</a></li><li><a href=/tags/distributed-system>distributed system (4)</a></li><li><a href=/tags/epoll>epoll (1)</a></li><li><a href=/tags/ergodone>ergodone (1)</a></li><li><a href=/tags/fifo>fifo (1)</a></li><li><a href=/tags/flatbuffer>flatbuffer (2)</a></li><li><a href=/tags/fn-layer>fn-layer (1)</a></li><li><a href=/tags/front-end-development>front-end development (1)</a></li><li><a href=/tags/functional-programming>functional programming (1)</a></li><li><a href=/tags/game>game (1)</a></li><li><a href=/tags/gcj>gcj (1)</a></li><li><a href=/tags/geohash>geohash (1)</a></li><li><a href=/tags/geometric>geometric (1)</a></li><li><a href=/tags/geometry>geometry (1)</a></li><li><a href=/tags/get-things-done>get things done (1)</a></li><li><a href=/tags/google>google (3)</a></li><li><a href=/tags/graph>graph (1)</a></li><li><a href=/tags/head-first>head-first (1)</a></li><li><a href=/tags/heap>heap (1)</a></li><li><a href=/tags/herd7>herd7 (1)</a></li><li><a href=/tags/induction>induction (2)</a></li><li><a href=/tags/interview>interview (5)</a></li><li><a href=/tags/keyboard>keyboard (2)</a></li><li><a href=/tags/kubernetes>kubernetes (1)</a></li><li><a href=/tags/lavastore>lavastore (1)</a></li><li><a href=/tags/leetcode>leetcode (4)</a></li><li><a href=/tags/leveldb>leveldb (1)</a></li><li><a href=/tags/linkedin>linkedin (1)</a></li><li><a href=/tags/linux>linux (1)</a></li><li><a href=/tags/litmus>litmus (1)</a></li><li><a href=/tags/lock-less>lock-less (1)</a></li><li><a href=/tags/lsm-tree>lsm-tree (1)</a></li><li><a href=/tags/markdown>markdown (1)</a></li><li><a href=/tags/median>median (1)</a></li><li><a href=/tags/memory>memory (1)</a></li><li><a href=/tags/memory-barrier>memory-barrier (3)</a></li><li><a href=/tags/mesi>mesi (1)</a></li><li><a href=/tags/message-queue>message queue (1)</a></li><li><a href=/tags/metadata>metadata (1)</a></li><li><a href=/tags/metaprogramming>metaprogramming (1)</a></li><li><a href=/tags/microsoft>microsoft (2)</a></li><li><a href=/tags/misaka>misaka (1)</a></li><li><a href=/tags/modern-c++>modern c++ (1)</a></li><li><a href=/tags/modern-cpp>modern cpp (4)</a></li><li><a href=/tags/mosca>mosca (1)</a></li><li><a href=/tags/mq>mq (1)</a></li><li><a href=/tags/multi-paxos>multi paxos (1)</a></li><li><a href=/tags/multi-thread>multi-thread (3)</a></li><li><a href=/tags/multiprocess>multiprocess (1)</a></li><li><a href=/tags/multithread>multithread (3)</a></li><li><a href=/tags/network>network (1)</a></li><li><a href=/tags/networking>networking (4)</a></li><li><a href=/tags/non-blocking>non-blocking (1)</a></li><li><a href=/tags/normal-distribution>normal-distribution (1)</a></li><li><a href=/tags/ocaml>ocaml (1)</a></li><li><a href=/tags/ot>ot (1)</a></li><li><a href=/tags/parallel>parallel (1)</a></li><li><a href=/tags/partition>partition (1)</a></li><li><a href=/tags/paxos>paxos (2)</a></li><li><a href=/tags/pecifica>pecifica (1)</a></li><li><a href=/tags/pelican>pelican (1)</a></li><li><a href=/tags/phxrpc>phxrpc (8)</a></li><li><a href=/tags/pl>pl (1)</a></li><li><a href=/tags/poi>poi (1)</a></li><li><a href=/tags/poll>poll (1)</a></li><li><a href=/tags/powershell>powershell (1)</a></li><li><a href=/tags/priority-queue>priority queue (1)</a></li><li><a href=/tags/priority_queue>priority_queue (1)</a></li><li><a href=/tags/profile>profile (1)</a></li><li><a href=/tags/programming-interview>programming interview (1)</a></li><li><a href=/tags/promela>promela (2)</a></li><li><a href=/tags/protobuf>protobuf (1)</a></li><li><a href=/tags/protocol>protocol (4)</a></li><li><a href=/tags/python>python (3)</a></li><li><a href=/tags/quartile>quartile (1)</a></li><li><a href=/tags/queue>queue (2)</a></li><li><a href=/tags/quick-sort>quick sort (1)</a></li><li><a href=/tags/quora>quora (1)</a></li><li><a href=/tags/racket>racket (1)</a></li><li><a href=/tags/raft>raft (2)</a></li><li><a href=/tags/rocksdb>rocksdb (2)</a></li><li><a href=/tags/rpc>rpc (4)</a></li><li><a href=/tags/social-network>social network (1)</a></li><li><a href=/tags/socket>socket (1)</a></li><li><a href=/tags/solution>solution (2)</a></li><li><a href=/tags/sort>sort (1)</a></li><li><a href=/tags/spin>spin (4)</a></li><li><a href=/tags/spin/promela>spin/promela (2)</a></li><li><a href=/tags/stack>stack (2)</a></li><li><a href=/tags/stdfunction>std::function (1)</a></li><li><a href=/tags/stl>stl (1)</a></li><li><a href=/tags/storage>storage (3)</a></li><li><a href=/tags/storage-system>storage system (2)</a></li><li><a href=/tags/streambuf>streambuf (1)</a></li><li><a href=/tags/string>string (1)</a></li><li><a href=/tags/stup>stup (3)</a></li><li><a href=/tags/stylish>stylish (1)</a></li><li><a href=/tags/system>system (1)</a></li><li><a href=/tags/system-design>system design (5)</a></li><li><a href=/tags/tcp>tcp (4)</a></li><li><a href=/tags/tcpip>tcpip (1)</a></li><li><a href=/tags/thread>thread (3)</a></li><li><a href=/tags/tlv>tlv (1)</a></li><li><a href=/tags/twisted>twisted (1)</a></li><li><a href=/tags/ucontext>ucontext (2)</a></li><li><a href=/tags/udp>udp (3)</a></li><li><a href=/tags/useless>useless (1)</a></li><li><a href=/tags/userscript>userscript (1)</a></li><li><a href=/tags/valgrind>valgrind (1)</a></li><li><a href=/tags/wait-free>wait-free (1)</a></li><li><a href=/tags/was>was (1)</a></li><li><a href=/tags/wisckey>wisckey (1)</a></li><li><a href=/tags/workflowy>workflowy (1)</a></li><li><a href=/tags/wsl>wsl (1)</a></li><li><a href=/tags/yunfile>yunfile (1)</a></li><li><a href=/tags/zeromq>zeromq (1)</a></li><li><a href=/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B>å¹¶å‘ç¼–ç¨‹ (1)</a></li><li><a href=/tags/%E7%B3%99%E5%BF%AB%E7%8C%9B>ç³™å¿«çŒ› (1)</a></li><li><a href=/tags/%E5%88%9B%E9%80%A0%E5%8A%9B>åˆ›é€ åŠ› (1)</a></li><li><a href=/tags/%E8%AF%BB%E4%B9%A6>è¯»ä¹¦ (2)</a></li><li><a href=/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B>å¤šçº¿ç¨‹ (2)</a></li><li><a href=/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F>åˆ†å¸ƒå¼ç³»ç»Ÿ (6)</a></li><li><a href=/tags/%E5%88%86%E7%B1%BB%E5%99%A8>åˆ†ç±»å™¨ (1)</a></li><li><a href=/tags/%E5%85%AC%E5%BC%80%E8%AF%BE>å…¬å¼€è¯¾ (4)</a></li><li><a href=/tags/%E8%AE%A1%E6%95%B0>è®¡æ•° (1)</a></li><li><a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6>è®¡ç®—æœºç§‘å­¦ (1)</a></li><li><a href=/tags/%E9%93%BE%E8%A1%A8>é“¾è¡¨ (1)</a></li><li><a href=/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB>è®ºæ–‡é˜…è¯» (1)</a></li><li><a href=/tags/%E9%9D%A2%E8%AF%95>é¢è¯• (1)</a></li><li><a href=/tags/%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86>å®¹æ–¥åŸç† (1)</a></li><li><a href=/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F>è®¾è®¡æ¨¡å¼ (2)</a></li><li><a href=/tags/%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81>æ•°æ®ç¼–ç  (1)</a></li><li><a href=/tags/%E6%95%B0%E6%8D%AE%E5%BA%93>æ•°æ®åº“ (4)</a></li><li><a href=/tags/%E6%95%B0%E6%8D%AE%E5%AF%86%E9%9B%86%E5%9E%8B%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F>æ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿ (1)</a></li><li><a href=/tags/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B>æ•°æ®æ¨¡å‹ (1)</a></li><li><a href=/tags/%E6%95%B0%E6%8D%AE%E7%B3%BB%E7%BB%9F>æ•°æ®ç³»ç»Ÿ (1)</a></li><li><a href=/tags/%E6%80%9D%E7%BB%B4>æ€ç»´ (1)</a></li><li><a href=/tags/%E7%AE%97%E6%B3%95>ç®—æ³• (14)</a></li><li><a href=/tags/%E7%B4%A2%E5%BC%95>ç´¢å¼• (1)</a></li><li><a href=/tags/%E7%B4%A2%E5%BC%95%E7%BB%93%E6%9E%84>ç´¢å¼•ç»“æ„ (1)</a></li><li><a href=/tags/%E9%A2%98%E8%A7%A3>é¢˜è§£ (11)</a></li><li><a href=/tags/%E9%97%B2%E8%81%8A>é—²èŠ (3)</a></li><li><a href=/tags/%E5%8D%8F%E7%A8%8B>åç¨‹ (1)</a></li><li><a href=/tags/%E5%8E%8B%E7%BC%A9>å‹ç¼© (1)</a></li><li><a href=/tags/%E4%B8%80%E8%87%B4%E6%80%A7>ä¸€è‡´æ€§ (3)</a></li><li><a href=/tags/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6>ä¸»ä»å¤åˆ¶ (1)</a></li><li><a href=/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2>å­—ç¬¦ä¸² (1)</a></li><li><a href=/tags/%E6%9C%80%E5%B0%8F%E8%A1%A8%E7%A4%BA%E6%B3%95>æœ€å°è¡¨ç¤ºæ³• (1)</a></li></ul></div></div></main><footer class=footer><div class=footer-row><a class=footer-item href=https://wizmann.top/posts/index.xml>Feed of Posts
<i class=icofont-rss></i></a></div></footer></body></html>