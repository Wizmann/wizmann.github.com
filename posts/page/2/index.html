<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Maerlyn's Rainbow</title>
<meta name=keywords content><meta name=description content="Posts - Maerlyn's Rainbow"><meta name=author content="wizmann"><link rel=canonical href=https://wizmann.top/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://wizmann.top/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wizmann.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wizmann.top/favicon-32x32.png><link rel=apple-touch-icon href=https://wizmann.top/apple-touch-icon.png><link rel=mask-icon href=https://wizmann.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://wizmann.top/posts/index.xml><link rel=alternate hreflang=zh-cn href=https://wizmann.top/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wizmann.top/posts/"><meta property="og:site_name" content="Maerlyn's Rainbow"><meta property="og:title" content="Posts"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wizmann.top/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wizmann.top/ accesskey=h title="Maerlyn's Rainbow (Alt + H)">Maerlyn's Rainbow</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><header class=page-header><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2015-02-18 00:30:24 Title: Codeforces Round #290 (Div. 2) Tutorial Tags: codeforces, algorithm Slug: cf-290-div-2
A. Fox And Snake Implementation
(n, m) = map(int, raw_input().split()) res = [] for i in xrange(n): if i % 2 == 0: res.append('#' * m) elif (i / 2) % 2 == 0: res.append('.' * (m - 1) + '#') else: res.append('#' + '.' * (m - 1)) for line in res: print line B. Fox And Two Dots DFS
A A A A B A A C A A A A We start at arbitrary point, and traverse the neighbour point with the same color to see if there is a circle.
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/cf-290-div-2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2013-12-29 20:23 Title: Codeforces 3C - Tic-tac-toe Tags: codeforces, algorithm, 算法, 设计模式 Slug: cf-3c-tic-tac-toe
啥？ Tic-tac-toe是我很久之前在CF上做的一道题。非常考细心的模拟题。
最近有同学和我讨论过类似的问题。于是拿出来重新做一遍。练练手。
原题做法 没有任何“算法”成分。纯模拟。
又由于数据量实在是太小（3 × 3的矩阵），所以只要是思路正确。代码怎么写都能过。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/cf-3c-tic-tac-toe/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2014-07-24 23:44:44 Title: Codeforces 447D DZY Loves Modification Tags: codeforces, algorithm, 算法, 题解 Slug: cf-447d
题意 给你一个n * m的矩阵，让你做K次操作，使得最后得到的值最大。
操作有两种：
一是在任意一行上操作，最终的结果值加上这一行数的和，然后这一行每一个数都要减去p。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/cf-447d/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2015-08-01 Title: Code Golf - Heapify Tags: code golf Slug: code-golf-heapify
void heapify(vector&lt;int>& vec) { int n = vec.size(); for (int a = 0, b = 1; b - 1 &lt; n; a = b, b &lt;&lt;= 1) { nth_element(vec.begin() + a, vec.begin() + b, vec.end()); } } You can implement a “heapify” by only four lines of code. And the time complexity is O(n).</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/code-golf-heapify/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2024-12-28 Title: constexpr详解 - C++ for the Antiquated（之一） Tags: cpp, modern cpp Slug: constexpr-cpp-for-the-antiquated-1
在这篇文章中，我们将深入讨论 C++ 中的常量表达式（constexpr）及其与传统的const常量的区别，并结合实际代码示例进行说明。同时，我们还会探讨constexpr函数在模板编程中的应用，以及 C++11 之后对常量表达式的优化与扩展。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/constexpr-cpp-for-the-antiquated-1/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2019-02-01 Title: C++类型擦除与std::function性能探索 Tags: C++, modern C++, std::function Slug: cpp-type-erasure-and-std-function
什么是类型擦除 对于Python这种动态类型语言来说，是不存在“类型擦除”这个概念的。Python对象的行为并不由接口定义，而是由“当前方法和属性的集合”决定。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/cpp-type-erasure-and-std-function/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2014-07-20 00:18 Title: CPU cache引发的性能血案 Tags: cpu, cache, profile, valgrind, cachegrind Slug: cpu-cache-miss
在__为什么转置一个512x512的矩阵，会比513x513的矩阵慢很多？__一文中，作者引用了一个矩阵转置的例子，来讲解由于CPU cache的失效而带来的性能损失。
上面的文章对问题的解释与讨论都非常的透彻。我的这篇文章只是对上面文章的一篇读后感和实验报告。就酱。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/cpu-cache-miss/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2013-11-27 Title: CSE351 - Lab 1: Manipulating Bits Using C Tags: CSE351, 公开课 Slug: cse351-lab1
今天做了CSE351 - Lab1，深深的感觉国外的计算机教学爆了我校一条街。
以上是前言。
bitAnd & bitOr 德摩根定理的应用
/* * bitAnd - x&amp;y using only ~ and | * Example: bitAnd(6, 5) = 4 * Legal ops: ~ | * Max ops: 8 * Rating: 1 */ int bitAnd(int x, int y) { return ~(~x | ~y); /* * bitOr - x|y using only ~ and & * Example: bitOr(6, 5) = 7 * Legal ops: ~ & * Max ops: 8 * Rating: 1 */ int bitOr(int x, int y) { return ~(~x & ~y); } isTmax 因为
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/cse351-lab1/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2016-10-05 21:38:58 Title: 打造你的专属键盘 — ErgoDone Tags: ot, ergodone, keyboard Slug: ergodone
写在前面 低能预警：这是最没有技术含量的一篇博客，无关人员可以撤离。
部分图片来自网络，侵删
这个十一假期，亲手DIY了一把键盘。当然，我只搞定了焊接部分，把不同的组件拼在了一起。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/ergodone/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2014-01-24 Title: 如何判断一个网站的地理信息 Tags: 面试 Slug: find-the-geo-location-of-a-host
啥？ 面试题：
有一个网站，如何判断这个网站的地理信息
方法 使用反向DNS 当我们只有网站的IP地址时，我们可以使用反向DNS来获得这个IP地址对应的域名。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/find-the-geo-location-of-a-host/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2015-04-12 Title: GCJ Qualification Round 2015 题解 Tags: GCJ, algorithm, 算法, 题解, google Slug: gcj-qualification-round-2015-tutorial status: draft
前言 这篇日志用中文写是因为想省点时间打游戏。。。（请鄙视我吧。。。
A. Standing Ovation 题意 这是一个骗掌声的故事。
当演出结束后，观众们要站起来鼓掌。但是有些观众比较羞涩，只有在k个人站起来鼓掌后才会故障。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/gcj-qualificaton-round-2015-tutorial/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2014-02-04 00:10 Title: GeoHash算法 Tags: GeoHash, POI, 压缩, 索引 Slug: geo-hash-algorithm
GeoHash Geohash is a latitude/longitude geocode system invented by Gustavo Niemeyer when writing the web service at geohash.org, and put into the public domain. It is a hierarchical spatial data structure which subdivides space into buckets of grid shape.
简单说，GeoHash是一个将经纬度信息编码成一个string的算法。从而便于储存、查找。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/geohash-algorithm/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2019-01-04 Title: 在WSL中获取Windows剪贴板中的图片 Tags: 闲聊, WSL, powershell Slug: get-image-from-clipboard-in-wsl.md
背景 Win10里面的WSL（Windows Subsystem For Linux)算是一个开发神器了，虽然功能不是100%完善，但是对于轻度开发已经足够了。现在我的日常开发，就是一个全屏CMD跑内部工具，一个全屏WSL跑tmux+vim。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/get-image-from-clipboard-in-wsl/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2014-11-15 16:08:10 Title: Quora - What are effective ways to assess if someone is good at “getting things done”? Tags: get things done, quora, career Slug: good-at-get-things-done
Ian McAllister, GM at Amazon. I lead the AmazonSmile program.
First, let’s break “getting things done” into two components: “excellent functional skills” and “drive”. Someone with great functional skills but poor drive will not get (enough) things done. Someone with great drive but poor functional skills will not get things done, or they’ll do the wrong things, or they’ll do the right things shittily.
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/good-at-get-things-done/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2013-11-24 Title: Hello World Tags: 闲聊 Slug: hello-world
打算把博客迁到这里来了
print 'Hello World'</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/helloworld/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2014-08-08 01:25:54 Title: System Design - 最热门的IP地址 Tags: interview, system-design Slug: hottest-ip-address
写在前面 问题是非常流行的，也确实流行了一阵的system-design问题。在知乎上再次被人提起。然后我非常欣赏陈硕的回答。所以要写一篇文章，记下自己的感想。
问题 海量数据算法:如何从超过10G的记录IP地址的日志中，较快的找出登录次数最多的一个IP？
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/hottest-ip-address/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2013-12-28 14:42 Title: How to “Rotate Image”? Tags: Leetcode, algorithm, 思维 Slug: how-to-rotate-image-leetcode status: draft
啥？ 原题戳我
Rotate Image
You are given an n x n 2D matrix representing an image.
Rotate the image by 90 degrees (clockwise).
Follow up:
Could you do this in-place?
示意图如下：
当然，矩阵中的数字不一定是规律的。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/how-to-rotate-image-leetcode/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2013-12-09 15:01 Title: 使用新类型创建更人性化的代码 Tags: cpp Slug: humanity-code-with-new-classes
啥？ 这篇文章讨论了如何通过新建并非”必要“的新类型，来产生更人性化的C++代码。
关键词：
RAII 智能指针 接口友好 模板 模板特化 依赖编译器的缺省行为 对于C++的艺术，我只是个入门者。如果文章中有什么问题，欢迎大家指出，我会及时进行修改。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/humanity-code-with-new-classes/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>date: 2014-01-01 22:01 title: 匈牙利算法 tags: algorithm slug: hungary-algorithm
概念 交错路 交错路：设P是图G的一条路，如果P的任意两条相邻的边一定是一条属于M而另一条不属于M，就称P是一条交错路。
通俗点来说，就是把一个图中的路径染成红黑两种。然后找出一条路，使这条路红黑交错。
...</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/hungary-algorithm/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent></h2></header><div class=entry-content><p>Date: 2024-04-14 Title: 实现一个无锁消息队列（续与勘误） Tags: multi-thread, cas, cmpxchg, non-blocking, wait-free, Slug: implement-non-blocking-queue-2
本文内容主要参考自Implementing Lock-Free Queue一文（以下简称“原论文”） 是对实现一个无锁消息队列一文的内容进行补充 TL；DR 尽管实现一个无锁消息队列一文中的实现是正确的，但是忽略了“非阻塞性” 例如，当任一插入操作被阻塞，则其它插入操作均会陷入忙等待 此实现与A simple and correct shared-queue algorithm using Compare-and-Swap的实现基本一致 对于一个支持并发的数据结构，理应同时具备非阻塞性和无等待性 非阻塞性（non-blocking）：无论是由于CPU调度或其他外部因素，数据结构的操作不能被中断或延迟 无等待性（wait-free)：保证没有任何线程会遭受饥饿状态 前一篇博文对其它实现的质疑，主要在于ABA问题，但这个问题是Compare&amp;Swap所特有的，需要特定的实现来规避 理论基础 我们的目标是实现一个支持并发enqueue/deque的队列 对于这样的数据结构，有两个重要的特性 非阻塞性（non-blocking） 对于每一个执行线程，所有的操作将会在有限的次数内完成 无论本线程或其它线程在执行过程中因其它原因（如CPU调度）执行过缓，或者被中断 无等待性（wait-free) 没有线程会饥饿 基于锁的数据结构不符合上述特性，因为持有锁的线程可能会无限期地阻塞所有操作 “线性一致性”(Linearizability) —— 更强的正确性 非并发操作应当按照它们的逻辑顺序执行，以保证操作的正确性，而并发操作则可以按任意顺序进行 “Fetch&amp;Add” 与 “Compare&amp;Swap” 常用的原子操作，这里不做赘述 基于链表的无锁队列实现 略，参考原论文与无锁队列的实现一文 基于数组的无锁队列实现 略，参考原论文与无锁队列的实现一文 ABA问题 Compare&amp;Swap操作确保了值修改的原子性。指针作为值的一种，代表着某个内存地址，但Compare&amp;Swap对指针的操作无法保证其指向的内存内容不被修改 考虑到可能释放旧内存后再申请新内存，这两块内存虽逻辑不同却可能拥有同一地址，这对Compare&amp;Swap操作造成了困扰 解决方案是为指针加入引用计数（ref count），以确保内存在可访问时不会被释放或重用 性能对比 上面我们已经提到，A simple and correct shared-queue algorithm using Compare-and-Swap一文中的方法缺少了“非阻塞性”，，但其性能与原论文中的实现十分接近 但是在原理上，“非阻塞性”实现可以避免意外的线程停止或延迟 疑问：是否会在P99级别的Latency上才会体现出明显的差异？ 参考链接 Implementing Lock-Free Queue A simple and correct shared-queue algorithm using Compare-and-Swap Concurrency – Correctness of Concurrent Objects 后续 Simple, Fast, and Practical Non-Blocking and Blocking Concurrent Queue Algorithms C++ 单生产者&单消费者 无锁队列 Single Producer Single Consumer Lock-free FIFO From the Ground Up - Charles Frasch - CppCon 2023</p></div><footer class=entry-footer>wizmann</footer><a class=entry-link aria-label="post link to " href=https://wizmann.top/posts/implement-non-blocking-queue-2/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wizmann.top/posts/>«&nbsp;&nbsp;
</a><a class=next href=https://wizmann.top/posts/page/3/>&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://wizmann.top/>Maerlyn's Rainbow</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>