<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Codeforces Round #288 (Div. 2) | Maerlyn's Rainbow</title>
<meta name=keywords content="codeforces,algorithm,算法,题解"><meta name=description content="A. Pasha and Pixels
Brute force.
There are multiple ways to form a 2*2 square at one single step.

So at every step, we have to check the neighbours of pixel that is colored black.
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <vector>

using namespace std;

#define print(x) cout << x << endl
#define input(x) cin >> x

const int SIZE = 1024 + 123;

const int mx[] = {0, 1, 0, 1};
const int my[] = {0, 0, 1, 1};
const int MOVE = 4;

int mp[SIZE][SIZE];
int n, m, k;

bool isBlackBlock(int y, int x) {
    int cnt = 0;
    for (int i = 0; i < MOVE; i++) {
        int ny = y + my[i];
        int nx = x + mx[i];

        if (ny >= 0 && ny < n
                && nx >= 0 && nx < m
                && mp[ny][nx]) {
            cnt++;
        }
    }
    return cnt == MOVE;
}


int main() {
    int y, x;
    input(n >> m >> k);
    memset(mp, 0, sizeof(mp));
    int ans = 0;
    for (int i = 0; i < k; i++) {
        input(y >> x);
        x--; y--;
        mp[y][x] = 1;
        bool flag = false;
        for (int j = 0; j < MOVE; j++) {
            flag |= isBlackBlock(y - my[j], x - mx[j]);
        }
        if (flag) {
            ans = i + 1;
            break;
        }
    }
    print(ans);
    return 0;
}
B. Anton and currency you all know
At first, you have to understand the questions accurately."><meta name=author content="wizmann"><link rel=canonical href=https://wizmann.top/posts/cf-288-div-2/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://wizmann.top/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wizmann.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wizmann.top/favicon-32x32.png><link rel=apple-touch-icon href=https://wizmann.top/apple-touch-icon.png><link rel=mask-icon href=https://wizmann.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://wizmann.top/posts/cf-288-div-2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-2X5NE9PX0B"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2X5NE9PX0B")</script><meta property="og:url" content="https://wizmann.top/posts/cf-288-div-2/"><meta property="og:site_name" content="Maerlyn's Rainbow"><meta property="og:title" content="Codeforces Round #288 (Div. 2)"><meta property="og:description" content="A. Pasha and Pixels Brute force.
There are multiple ways to form a 2*2 square at one single step.
So at every step, we have to check the neighbours of pixel that is colored black.
#include <cstdio> #include <cstdlib> #include <cstring> #include <iostream> #include <vector> using namespace std; #define print(x) cout << x << endl #define input(x) cin >> x const int SIZE = 1024 + 123; const int mx[] = {0, 1, 0, 1}; const int my[] = {0, 0, 1, 1}; const int MOVE = 4; int mp[SIZE][SIZE]; int n, m, k; bool isBlackBlock(int y, int x) { int cnt = 0; for (int i = 0; i < MOVE; i++) { int ny = y + my[i]; int nx = x + mx[i]; if (ny >= 0 && ny < n && nx >= 0 && nx < m && mp[ny][nx]) { cnt++; } } return cnt == MOVE; } int main() { int y, x; input(n >> m >> k); memset(mp, 0, sizeof(mp)); int ans = 0; for (int i = 0; i < k; i++) { input(y >> x); x--; y--; mp[y][x] = 1; bool flag = false; for (int j = 0; j < MOVE; j++) { flag |= isBlackBlock(y - my[j], x - mx[j]); } if (flag) { ans = i + 1; break; } } print(ans); return 0; } B. Anton and currency you all know At first, you have to understand the questions accurately."><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-02-16T21:16:30+00:00"><meta property="article:modified_time" content="2015-02-16T21:16:30+00:00"><meta property="article:tag" content="Codeforces"><meta property="article:tag" content="Algorithm"><meta property="article:tag" content="算法"><meta property="article:tag" content="题解"><meta name=twitter:card content="summary"><meta name=twitter:title content="Codeforces Round #288 (Div. 2)"><meta name=twitter:description content="A. Pasha and Pixels
Brute force.
There are multiple ways to form a 2*2 square at one single step.

So at every step, we have to check the neighbours of pixel that is colored black.
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <vector>

using namespace std;

#define print(x) cout << x << endl
#define input(x) cin >> x

const int SIZE = 1024 + 123;

const int mx[] = {0, 1, 0, 1};
const int my[] = {0, 0, 1, 1};
const int MOVE = 4;

int mp[SIZE][SIZE];
int n, m, k;

bool isBlackBlock(int y, int x) {
    int cnt = 0;
    for (int i = 0; i < MOVE; i++) {
        int ny = y + my[i];
        int nx = x + mx[i];

        if (ny >= 0 && ny < n
                && nx >= 0 && nx < m
                && mp[ny][nx]) {
            cnt++;
        }
    }
    return cnt == MOVE;
}


int main() {
    int y, x;
    input(n >> m >> k);
    memset(mp, 0, sizeof(mp));
    int ans = 0;
    for (int i = 0; i < k; i++) {
        input(y >> x);
        x--; y--;
        mp[y][x] = 1;
        bool flag = false;
        for (int j = 0; j < MOVE; j++) {
            flag |= isBlackBlock(y - my[j], x - mx[j]);
        }
        if (flag) {
            ans = i + 1;
            break;
        }
    }
    print(ans);
    return 0;
}
B. Anton and currency you all know
At first, you have to understand the questions accurately."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wizmann.top/posts/"},{"@type":"ListItem","position":2,"name":"Codeforces Round #288 (Div. 2)","item":"https://wizmann.top/posts/cf-288-div-2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Codeforces Round #288 (Div. 2)","name":"Codeforces Round #288 (Div. 2)","description":"A. Pasha and Pixels Brute force.\nThere are multiple ways to form a 2*2 square at one single step.\nSo at every step, we have to check the neighbours of pixel that is colored black.\n#include \u0026lt;cstdio\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;cstring\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; #define print(x) cout \u0026lt;\u0026lt; x \u0026lt;\u0026lt; endl #define input(x) cin \u0026gt;\u0026gt; x const int SIZE = 1024 + 123; const int mx[] = {0, 1, 0, 1}; const int my[] = {0, 0, 1, 1}; const int MOVE = 4; int mp[SIZE][SIZE]; int n, m, k; bool isBlackBlock(int y, int x) { int cnt = 0; for (int i = 0; i \u0026lt; MOVE; i++) { int ny = y + my[i]; int nx = x + mx[i]; if (ny \u0026gt;= 0 \u0026amp;\u0026amp; ny \u0026lt; n \u0026amp;\u0026amp; nx \u0026gt;= 0 \u0026amp;\u0026amp; nx \u0026lt; m \u0026amp;\u0026amp; mp[ny][nx]) { cnt++; } } return cnt == MOVE; } int main() { int y, x; input(n \u0026gt;\u0026gt; m \u0026gt;\u0026gt; k); memset(mp, 0, sizeof(mp)); int ans = 0; for (int i = 0; i \u0026lt; k; i++) { input(y \u0026gt;\u0026gt; x); x--; y--; mp[y][x] = 1; bool flag = false; for (int j = 0; j \u0026lt; MOVE; j++) { flag |= isBlackBlock(y - my[j], x - mx[j]); } if (flag) { ans = i + 1; break; } } print(ans); return 0; } B. Anton and currency you all know At first, you have to understand the questions accurately.\n","keywords":["codeforces","algorithm","算法","题解"],"articleBody":"A. Pasha and Pixels Brute force.\nThere are multiple ways to form a 2*2 square at one single step.\nSo at every step, we have to check the neighbours of pixel that is colored black.\n#include #include #include #include #include using namespace std; #define print(x) cout \u003c\u003c x \u003c\u003c endl #define input(x) cin \u003e\u003e x const int SIZE = 1024 + 123; const int mx[] = {0, 1, 0, 1}; const int my[] = {0, 0, 1, 1}; const int MOVE = 4; int mp[SIZE][SIZE]; int n, m, k; bool isBlackBlock(int y, int x) { int cnt = 0; for (int i = 0; i \u003c MOVE; i++) { int ny = y + my[i]; int nx = x + mx[i]; if (ny \u003e= 0 \u0026\u0026 ny \u003c n \u0026\u0026 nx \u003e= 0 \u0026\u0026 nx \u003c m \u0026\u0026 mp[ny][nx]) { cnt++; } } return cnt == MOVE; } int main() { int y, x; input(n \u003e\u003e m \u003e\u003e k); memset(mp, 0, sizeof(mp)); int ans = 0; for (int i = 0; i \u003c k; i++) { input(y \u003e\u003e x); x--; y--; mp[y][x] = 1; bool flag = false; for (int j = 0; j \u003c MOVE; j++) { flag |= isBlackBlock(y - my[j], x - mx[j]); } if (flag) { ans = i + 1; break; } } print(ans); return 0; } B. Anton and currency you all know At first, you have to understand the questions accurately.\nThe exchange rate is an odd number. And your mission is swap one digit with another, to make it the maximum even number.\nBecause if the exchange rate is an even number, it will lead to a more sophisticated problem.\nThe intuitive thought is that we can swap the hightest even digit with the last digit. However, for this case “92291”, you may swap the second digit “2” and the last digit “1”. But “91292” is not the largest number, “92192” is.\nSo, ther are two scenario. First is the final answer is greater than the ordinary one. Just find out the first even digit that is less than the last digit. Second is the final answer is less than the given one. If we want to make it the largest one, we have to find the lowest even digit and then swap.\nWe can make it by loop twice. But there is a way to find the final answer in one single iteration.\n#include #include #include #include using namespace std; #define print(x) cout \u003c\u003c x \u003c\u003c endl #define input(x) cin \u003e\u003e x const int SIZE = 123456; char number[SIZE]; int main() { scanf(\"%s\", number); int len = strlen(number); int p = -1, q = number[len - 1] - '0'; for (int i = len - 2; i \u003e= 0; i--) { int u = number[i] - '0'; if (u % 2) { continue; } if (p == -1 || q \u003e u) { p = i; } } if (p == -1) { print(-1); } else { swap(number[p], number[len - 1]); print(number); } return 0; } C. Anya and Ghosts The background of this problem is quite twisted.\nFirst of all, we have to find out in which scenario there is no way to defence against the ghost.\nIt’s easy to find out in that diagram above that if the duration of the candle is less than the number of candles which is needed.\nSo, before the ghost comes, we have to light up the candles. If we want to have K candles in one second, we have to light it up at second (T - 1) (T - 2) … (T - K).\nimport sys (m, t, r) = map(int, raw_input().split()) ghosts = map(int, raw_input().split()) # impossible if t \u003c r: print -1 sys.exit(0) ans = 0 candles = [-1 for i in xrange(r)] for ghost in ghosts: delay = 0 for i in xrange(r): if candles[i] \u003c ghost: candles[i] = ghost + t - 1 - delay delay += 1 ans += 1 print ans D. Tanya and Password Tanya cut the password into three-letter continuous substrings. Our mission is to re-assemble these substrings.\nFor example,\nP S a u s b s s w t o r r i d n : g s f : u c f k u m c e , u c k , c k m , k m e It’s not hard to find out that the problem is not about the “string” but the “graph”. But how to convert the string and substrings into a graph.\nAt the every beginning, we regard the substrings as vertexes, every two substrings which could be connected has an edge between them.\nIn this scenario, all we have to do is find a path that visit all the vertexes. This path is called Hamilton path. The algorithm to find a hamilton path in a graph is quite slow with O(2 ** N) time complexity. We have to find another way.\nSimilar to hamilton path, the eular path is a path that visit all the edges of the graph. And this inspires us to make the strings to another graph, and the eular path will be the final answer with the complete password.\n#include #include #include #include #include #include #include #include using namespace std; #define print(x) cout \u003c\u003c x \u003c\u003c endl #define input(x) cin \u003e\u003e x #define err(x) cerr \u003c\u003c x \u003c\u003c endl const int BASE = 64; const int SIZE = 64 * 64; int g[SIZE][SIZE]; int iter[SIZE]; int father[SIZE]; int indeg[SIZE], outdeg[SIZE]; int n; vector\u003cint\u003e ans; int get_value(char c) { if ('a' \u003c= c \u0026\u0026 c \u003c= 'z') { return c - 'a'; } if ('A' \u003c= c \u0026\u0026 c \u003c= 'Z') { return c - 'A' + 26; } if ('0' \u003c= c \u0026\u0026 c \u003c= '9') { return c - '0' + 52; } err(\"get_value_err:\" \u003c\u003c ' ' \u003c\u003c c); return -1; } int get_char(int v) { if (0 \u003c= v \u0026\u0026 v \u003c= 25) { return 'a' + v; } if (26 \u003c= v \u0026\u0026 v \u003c= 51) { return 'A' + v - 26; } if (52 \u003c= v \u0026\u0026 v \u003c= 61) { return '0' + v - 52; } err(\"get_char_err\" \u003c\u003c ' ' \u003c\u003c v); return -1; } int get_id(char a, char b) { int ia = get_value(a); int ib = get_value(b); return ia * BASE + ib; } void add_edge(const string\u0026 node_str) { int a = get_id(node_str[0], node_str[1]); int b = get_id(node_str[1], node_str[2]); g[a][b]++; outdeg[a]++; indeg[b]++; } int get_father(int x) { if (father[x] == x) { return x; } return father[x] = get_father(father[x]); } bool is_connected() { for (int i = 0; i \u003c SIZE; i++) { father[i] = i; } for (int i = 0; i \u003c SIZE; i++) { for (int j = 0; j \u003c SIZE; j++) { if (g[i][j]) { father[get_father(i)] = get_father(j); } } } set\u003cint\u003e st; for (int i = 0; i \u003c SIZE; i++) { if (!indeg[i] \u0026\u0026 !outdeg[i]) { continue; } st.insert(get_father(i)); } return st.size() == 1U; } int get_start_point() { if (!is_connected()) { return -1; } int a = 0; int b = 0; int c = 0; int res = -1; for (int i = 0; i \u003c SIZE; i++) { if (outdeg[i] == indeg[i] + 1) { a++; res = i; } if (outdeg[i] == indeg[i] - 1) { c++; } if (outdeg[i] == indeg[i]) { b++; } } if (a == 1 \u0026\u0026 b == SIZE - 2 \u0026\u0026 c == 1) { return res; } if (a == 0 \u0026\u0026 b == SIZE) { return 0; } return -1; } void dfs(int p) { for (int i = iter[p]; i \u003c SIZE; i++) { if (g[p][i]) { g[p][i]--; dfs(i); } iter[p]++; } ans.push_back(p); } void show_path(int st) { string res; for (auto u: ans) { u %= BASE; char c = get_char(u); res += c; } char a = get_char(st / BASE); res += a; reverse(res.begin(), res.end()); print(res); } int main() { input(n); string node_str; for (int i = 0; i \u003c n; i++) { input(node_str); add_edge(node_str); } int u = get_start_point(); if (u == -1) { print(\"NO\"); } else { print(\"YES\"); if (u == 0) { u = get_id(node_str[0], node_str[1]); } dfs(u); show_path(u); } return 0; } E. Arthur and Brackets DP + Greedy\nFor this problem, be ware that the position of the right bracket is not the absolute position but the relative position. And according to the common sense, there will only be complete brackets between one left bracket and one right bracket.\nFor example,\nR W I R G O H N T G : : So, it’s OK to close the bracket if possible. And this is the key to solve to problem.\nn = int(raw_input()) brackets = [tuple(map(int, raw_input().split())) for i in xrange(n)] res = '' ptr = 0 INF = 0xcafebabe st = [] for (l, r) in brackets: res += '(' st.append((ptr + l, ptr + r)) ptr += 1 while st: (pre_l, pre_r) = st[-1] if pre_l \u003c= ptr \u003c= pre_r: res += ')' ptr += 1 st.pop() else: break if st: print 'IMPOSSIBLE' else: print res ","wordCount":"1540","inLanguage":"zh-cn","datePublished":"2015-02-16T21:16:30Z","dateModified":"2015-02-16T21:16:30Z","author":{"@type":"Person","name":"wizmann"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wizmann.top/posts/cf-288-div-2/"},"publisher":{"@type":"Organization","name":"Maerlyn's Rainbow","logo":{"@type":"ImageObject","url":"https://wizmann.top/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wizmann.top/ accesskey=h title="Maerlyn's Rainbow (Alt + H)">Maerlyn's Rainbow</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Codeforces Round #288 (Div. 2)</h1><div class=post-meta><span title='2015-02-16 21:16:30 +0000 UTC'>February 16, 2015</span>&nbsp;·&nbsp;wizmann</div></header><div class=post-content><h2 id=a-pasha-and-pixels>A. Pasha and Pixels<a hidden class=anchor aria-hidden=true href=#a-pasha-and-pixels>#</a></h2><p>Brute force.</p><p>There are multiple ways to form a 2*2 square at one single step.</p><p><img alt="Alt text" loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/6fb53c51539b47559cf0d122a832cf63></p><p>So at every step, we have to check the neighbours of pixel that is colored black.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdio&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdlib&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#define print(x) cout &lt;&lt; x &lt;&lt; endl
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define input(x) cin &gt;&gt; x
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> SIZE <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>123</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> mx[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> my[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MOVE <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> mp[SIZE][SIZE];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n, m, k;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isBlackBlock</span>(<span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> MOVE; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ny <span style=color:#f92672>=</span> y <span style=color:#f92672>+</span> my[i];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> nx <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> mx[i];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (ny <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> ny <span style=color:#f92672>&lt;</span> n
</span></span><span style=display:flex><span>                <span style=color:#f92672>&amp;&amp;</span> nx <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> nx <span style=color:#f92672>&lt;</span> m
</span></span><span style=display:flex><span>                <span style=color:#f92672>&amp;&amp;</span> mp[ny][nx]) {
</span></span><span style=display:flex><span>            cnt<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> cnt <span style=color:#f92672>==</span> MOVE;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> y, x;
</span></span><span style=display:flex><span>    input(n <span style=color:#f92672>&gt;&gt;</span> m <span style=color:#f92672>&gt;&gt;</span> k);
</span></span><span style=display:flex><span>    memset(mp, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(mp));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> k; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        input(y <span style=color:#f92672>&gt;&gt;</span> x);
</span></span><span style=display:flex><span>        x<span style=color:#f92672>--</span>; y<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        mp[y][x] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> flag <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> MOVE; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            flag <span style=color:#f92672>|=</span> isBlackBlock(y <span style=color:#f92672>-</span> my[j], x <span style=color:#f92672>-</span> mx[j]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (flag) {
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    print(ans);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=b-anton-and-currency-you-all-know>B. Anton and currency you all know<a hidden class=anchor aria-hidden=true href=#b-anton-and-currency-you-all-know>#</a></h2><p>At first, you have to understand the questions accurately.</p><p>The exchange rate is <strong>an odd number</strong>. And your mission is swap one digit with another, to make it the maximum even number.</p><p>Because if the exchange rate is an even number, it will lead to a more sophisticated problem.</p><p>The intuitive thought is that we can swap the hightest even digit with the last digit. However, for this case &ldquo;92291&rdquo;, you may swap the second digit &ldquo;2&rdquo; and the last digit &ldquo;1&rdquo;. But &ldquo;91292&rdquo; is not the largest number, &ldquo;92192&rdquo; is.</p><p>So, ther are two scenario. First is the final answer is greater than the ordinary one. Just find out the <strong>first even digit that is less than the last digit</strong>. Second is the final answer is less than the given one. If we want to make it the largest one, we have to find the <strong>lowest even digit and then swap</strong>.</p><p>We can make it by loop twice. But there is a way to find the final answer in one single iteration.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdio&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdlib&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#define print(x) cout &lt;&lt; x &lt;&lt; endl
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define input(x) cin &gt;&gt; x
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> SIZE <span style=color:#f92672>=</span> <span style=color:#ae81ff>123456</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> number[SIZE];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    scanf(<span style=color:#e6db74>&#34;%s&#34;</span>, number);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> len <span style=color:#f92672>=</span> strlen(number);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> p <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, q <span style=color:#f92672>=</span> number[len <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> len <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> u <span style=color:#f92672>=</span> number[i] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (p <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> q <span style=color:#f92672>&gt;</span> u) {
</span></span><span style=display:flex><span>            p <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (p <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        print(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        swap(number[p], number[len <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>        print(number);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=c-anya-and-ghosts>C. Anya and Ghosts<a hidden class=anchor aria-hidden=true href=#c-anya-and-ghosts>#</a></h2><p>The background of this problem is quite twisted.</p><p>First of all, we have to find out in which scenario there is no way to defence against the ghost.</p><p><img alt="Alt text" loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/833368d068c6dc956b62d9babf01c3b6></p><p>It&rsquo;s easy to find out in that diagram above that if the duration of the candle is less than the number of candles which is needed.</p><p>So, before the ghost comes, we have to light up the candles. If we want to have K candles in one second, we have to light it up at second (T - 1) (T - 2) &mldr; (T - K).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(m, t, r) <span style=color:#f92672>=</span> map(int, raw_input()<span style=color:#f92672>.</span>split())
</span></span><span style=display:flex><span>ghosts <span style=color:#f92672>=</span> map(int, raw_input()<span style=color:#f92672>.</span>split())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># impossible</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> t <span style=color:#f92672>&lt;</span> r:
</span></span><span style=display:flex><span>    print <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    sys<span style=color:#f92672>.</span>exit(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>candles <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> xrange(r)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> ghost <span style=color:#f92672>in</span> ghosts:
</span></span><span style=display:flex><span>    delay <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> xrange(r):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> candles[i] <span style=color:#f92672>&lt;</span> ghost:
</span></span><span style=display:flex><span>            candles[i] <span style=color:#f92672>=</span> ghost <span style=color:#f92672>+</span> t <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> delay
</span></span><span style=display:flex><span>            delay <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print ans
</span></span></code></pre></div><h2 id=d-tanya-and-password>D. Tanya and Password<a hidden class=anchor aria-hidden=true href=#d-tanya-and-password>#</a></h2><p>Tanya cut the password into three-letter continuous substrings. Our mission is to re-assemble these substrings.</p><p>For example,</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 248 41"><g transform="translate(8,16)"><text text-anchor="middle" x="0" y="4" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="0" y="20" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="8" y="4" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="8" y="20" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="16" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="16" y="20" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="24" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="24" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="32" y="4" fill="currentcolor" style="font-size:1em">w</text><text text-anchor="middle" x="32" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="40" y="4" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="40" y="20" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="48" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="48" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="56" y="4" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="56" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="64" y="4" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="64" y="20" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="72" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="80" y="4" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="80" y="20" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="88" y="4" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="96" y="4" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="96" y="20" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="104" y="4" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="104" y="20" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="112" y="4" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="112" y="20" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="120" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="120" y="20" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="136" y="20" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="144" y="20" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="152" y="20" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="160" y="20" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="176" y="20" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="184" y="20" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="192" y="20" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="200" y="20" fill="currentcolor" style="font-size:1em">,</text><text text-anchor="middle" x="216" y="20" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="224" y="20" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="232" y="20" fill="currentcolor" style="font-size:1em">e</text></g></svg></div><p>It&rsquo;s not hard to find out that the problem is not about the &ldquo;string&rdquo; but the &ldquo;graph&rdquo;. But how to convert the string and substrings into a graph.</p><p>At the every beginning, we regard the substrings as vertexes, every two substrings which could be connected has an edge between them.</p><p><img alt="Alt text" loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/bbc690924ece17dde46fd5d23188bf5d></p><p>In this scenario, all we have to do is find a path that visit all the vertexes. This path is called <strong>Hamilton path</strong>. The algorithm to find a hamilton path in a graph is quite slow with O(2 ** N) time complexity. We have to find another way.</p><p>Similar to hamilton path, the eular path is a path that visit all the edges of the graph. And this inspires us to make the strings to another graph, and the eular path will be the final answer with the complete password.</p><p><img alt="Alt text" loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-pic/bd69ddd562d6b4b4cde4e3a461a8706e></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdio&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstdlib&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;set&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#define print(x) cout &lt;&lt; x &lt;&lt; endl
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define input(x) cin &gt;&gt; x
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define err(x)   cerr &lt;&lt; x &lt;&lt; endl
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> BASE <span style=color:#f92672>=</span> <span style=color:#ae81ff>64</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> SIZE <span style=color:#f92672>=</span> <span style=color:#ae81ff>64</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>64</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> g[SIZE][SIZE];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> iter[SIZE];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> father[SIZE];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> indeg[SIZE], outdeg[SIZE];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_value</span>(<span style=color:#66d9ef>char</span> c) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>&lt;=</span> c <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;z&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> c <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;a&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>&lt;=</span> c <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;Z&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> c <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>26</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&lt;=</span> c <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> c <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>52</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    err(<span style=color:#e6db74>&#34;get_value_err:&#34;</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>&lt;&lt;</span> c);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_char</span>(<span style=color:#66d9ef>int</span> v) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#ae81ff>0</span> <span style=color:#f92672>&lt;=</span> v <span style=color:#f92672>&amp;&amp;</span> v <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>25</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> v;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#ae81ff>26</span> <span style=color:#f92672>&lt;=</span> v <span style=color:#f92672>&amp;&amp;</span> v <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>51</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>+</span> v <span style=color:#f92672>-</span> <span style=color:#ae81ff>26</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#ae81ff>52</span> <span style=color:#f92672>&lt;=</span> v <span style=color:#f92672>&amp;&amp;</span> v <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>61</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>+</span> v <span style=color:#f92672>-</span> <span style=color:#ae81ff>52</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    err(<span style=color:#e6db74>&#34;get_char_err&#34;</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>&lt;&lt;</span> v);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_id</span>(<span style=color:#66d9ef>char</span> a, <span style=color:#66d9ef>char</span> b) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ia <span style=color:#f92672>=</span> get_value(a);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> ib <span style=color:#f92672>=</span> get_value(b);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> ia <span style=color:#f92672>*</span> BASE <span style=color:#f92672>+</span> ib;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add_edge</span>(<span style=color:#66d9ef>const</span> string<span style=color:#f92672>&amp;</span> node_str) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> get_id(node_str[<span style=color:#ae81ff>0</span>], node_str[<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> get_id(node_str[<span style=color:#ae81ff>1</span>], node_str[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>    g[a][b]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    outdeg[a]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    indeg[b]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_father</span>(<span style=color:#66d9ef>int</span> x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (father[x] <span style=color:#f92672>==</span> x) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> x;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> father[x] <span style=color:#f92672>=</span> get_father(father[x]);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>is_connected</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> SIZE; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        father[i] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> SIZE; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> SIZE; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (g[i][j]) {
</span></span><span style=display:flex><span>                father[get_father(i)] <span style=color:#f92672>=</span> get_father(j);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    set<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> st;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> SIZE; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>indeg[i] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span>outdeg[i]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        st.insert(get_father(i));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> st.size() <span style=color:#f92672>==</span> <span style=color:#ae81ff>1U</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_start_point</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>is_connected()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> c <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> SIZE; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (outdeg[i] <span style=color:#f92672>==</span> indeg[i] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>            a<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            res <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (outdeg[i] <span style=color:#f92672>==</span> indeg[i] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>            c<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (outdeg[i] <span style=color:#f92672>==</span> indeg[i]) {
</span></span><span style=display:flex><span>            b<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (a <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> b <span style=color:#f92672>==</span> SIZE <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (a <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> b <span style=color:#f92672>==</span> SIZE) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>dfs</span>(<span style=color:#66d9ef>int</span> p) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> iter[p]; i <span style=color:#f92672>&lt;</span> SIZE; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (g[p][i]) {
</span></span><span style=display:flex><span>            g[p][i]<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>            dfs(i);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        iter[p]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    ans.push_back(p);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>show_path</span>(<span style=color:#66d9ef>int</span> st) {
</span></span><span style=display:flex><span>    string res;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> u: ans) {
</span></span><span style=display:flex><span>        u <span style=color:#f92672>%=</span> BASE;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>char</span> c <span style=color:#f92672>=</span> get_char(u);
</span></span><span style=display:flex><span>        res <span style=color:#f92672>+=</span> c;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> a <span style=color:#f92672>=</span> get_char(st <span style=color:#f92672>/</span> BASE);
</span></span><span style=display:flex><span>    res <span style=color:#f92672>+=</span> a;
</span></span><span style=display:flex><span>    reverse(res.begin(), res.end());
</span></span><span style=display:flex><span>    print(res);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    input(n);
</span></span><span style=display:flex><span>    string node_str;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        input(node_str);
</span></span><span style=display:flex><span>        add_edge(node_str);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> u <span style=color:#f92672>=</span> get_start_point();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;NO&#34;</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;YES&#34;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (u <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            u <span style=color:#f92672>=</span> get_id(node_str[<span style=color:#ae81ff>0</span>], node_str[<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        dfs(u);
</span></span><span style=display:flex><span>        show_path(u);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=e-arthur-and-brackets>E. Arthur and Brackets<a hidden class=anchor aria-hidden=true href=#e-arthur-and-brackets>#</a></h2><p>DP + Greedy</p><p>For this problem, be ware that the position of the right bracket is not the absolute position but the relative position. And according to the common sense, there will only be complete brackets between one left bracket and one right bracket.</p><p>For example,</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 176 41"><g transform="translate(8,16)"><circle cx="56" cy="0" r="6" stroke="currentcolor" fill="currentcolor"/><circle cx="56" cy="16" r="6" stroke="currentcolor" fill="currentcolor"/><circle cx="72" cy="0" r="6" stroke="currentcolor" fill="currentcolor"/><circle cx="72" cy="16" r="6" stroke="currentcolor" fill="currentcolor"/><circle cx="144" cy="0" r="6" stroke="currentcolor" fill="currentcolor"/><circle cx="144" cy="16" r="6" stroke="currentcolor" fill="currentcolor"/><circle cx="160" cy="0" r="6" stroke="currentcolor" fill="currentcolor"/><circle cx="160" cy="16" r="6" stroke="currentcolor" fill="currentcolor"/><text text-anchor="middle" x="0" y="4" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="0" y="20" fill="currentcolor" style="font-size:1em">W</text><text text-anchor="middle" x="8" y="4" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="8" y="20" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="16" y="4" fill="currentcolor" style="font-size:1em">G</text><text text-anchor="middle" x="16" y="20" fill="currentcolor" style="font-size:1em">O</text><text text-anchor="middle" x="24" y="4" fill="currentcolor" style="font-size:1em">H</text><text text-anchor="middle" x="24" y="20" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="32" y="4" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="32" y="20" fill="currentcolor" style="font-size:1em">G</text><text text-anchor="middle" x="40" y="4" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="40" y="20" fill="currentcolor" style="font-size:1em">:</text></g></svg></div><p>So, it&rsquo;s OK to close the bracket if possible. And this is the key to solve to problem.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>n <span style=color:#f92672>=</span> int(raw_input())
</span></span><span style=display:flex><span>brackets <span style=color:#f92672>=</span> [tuple(map(int, raw_input()<span style=color:#f92672>.</span>split())) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> xrange(n)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>res <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>ptr <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>INF <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xcafebabe</span>
</span></span><span style=display:flex><span>st <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (l, r) <span style=color:#f92672>in</span> brackets:
</span></span><span style=display:flex><span>    res <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;(&#39;</span>
</span></span><span style=display:flex><span>    st<span style=color:#f92672>.</span>append((ptr <span style=color:#f92672>+</span> l, ptr <span style=color:#f92672>+</span> r))
</span></span><span style=display:flex><span>    ptr <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> st:
</span></span><span style=display:flex><span>        (pre_l, pre_r) <span style=color:#f92672>=</span> st[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> pre_l <span style=color:#f92672>&lt;=</span> ptr <span style=color:#f92672>&lt;=</span> pre_r:
</span></span><span style=display:flex><span>            res <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;)&#39;</span>
</span></span><span style=display:flex><span>            ptr <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            st<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> st:
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#39;IMPOSSIBLE&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>    print res
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://wizmann.top/tags/codeforces/>Codeforces</a></li><li><a href=https://wizmann.top/tags/algorithm/>Algorithm</a></li><li><a href=https://wizmann.top/tags/%E7%AE%97%E6%B3%95/>算法</a></li><li><a href=https://wizmann.top/tags/%E9%A2%98%E8%A7%A3/>题解</a></li></ul><nav class=paginav><a class=prev href=https://wizmann.top/posts/cf-289-div-2/><span class=title>«</span><br><span>Codeforces Round #289 (Div. 2) Tutorial</span>
</a><a class=next href=https://wizmann.top/posts/sequence-median/><span class=title>»</span><br><span>Sequence Median</span></a></nav></footer><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://wizmann.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2025 <a href=https://wizmann.top/>Maerlyn's Rainbow</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>