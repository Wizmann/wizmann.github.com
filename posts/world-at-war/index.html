<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Maerlyn's Rainbow</title>
<meta name=keywords content><meta name=description content="Date: 2014-06-12 17:42:51
Title: A simple problem - World at War
Tags: algorithm, interview, graph
Slug: world-at-war
Background

This problem is from the book &ldquo;Algorithm 4th edition&rdquo; (Exersise 4.1.10)
There are N cities and M undirected roads between those cities. People can travel to any city along the roads.
One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected."><meta name=author content="wizmann"><link rel=canonical href=https://wizmann.top/posts/world-at-war/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://wizmann.top/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://wizmann.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wizmann.top/favicon-32x32.png><link rel=apple-touch-icon href=https://wizmann.top/apple-touch-icon.png><link rel=mask-icon href=https://wizmann.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://wizmann.top/posts/world-at-war/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://wizmann.top/posts/world-at-war/"><meta property="og:site_name" content="Maerlyn's Rainbow"><meta property="og:title" content="Maerlyn's Rainbow"><meta property="og:description" content="Date: 2014-06-12 17:42:51 Title: A simple problem - World at War Tags: algorithm, interview, graph Slug: world-at-war
Background This problem is from the book “Algorithm 4th edition” (Exersise 4.1.10)
There are N cities and M undirected roads between those cities. People can travel to any city along the roads.
One day, a war breaks out. Our cities are under attack! As we can’t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected."><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Date: 2014-06-12 17:42:51
Title: A simple problem - World at War
Tags: algorithm, interview, graph
Slug: world-at-war
Background

This problem is from the book &ldquo;Algorithm 4th edition&rdquo; (Exersise 4.1.10)
There are N cities and M undirected roads between those cities. People can travel to any city along the roads.
One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wizmann.top/posts/"},{"@type":"ListItem","position":2,"name":"","item":"https://wizmann.top/posts/world-at-war/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"Date: 2014-06-12 17:42:51 Title: A simple problem - World at War Tags: algorithm, interview, graph Slug: world-at-war\nBackground This problem is from the book \u0026ldquo;Algorithm 4th edition\u0026rdquo; (Exersise 4.1.10)\nThere are N cities and M undirected roads between those cities. People can travel to any city along the roads.\nOne day, a war breaks out. Our cities are under attack! As we can\u0026rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected.\n","keywords":[],"articleBody":"Date: 2014-06-12 17:42:51 Title: A simple problem - World at War Tags: algorithm, interview, graph Slug: world-at-war\nBackground This problem is from the book “Algorithm 4th edition” (Exersise 4.1.10)\nThere are N cities and M undirected roads between those cities. People can travel to any city along the roads.\nOne day, a war breaks out. Our cities are under attack! As we can’t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected.\nIf there are multiple answers, print any one of them. If there’s no that kind of city, print -1.\nThe spanning tree of a graph It is a spanning tree of a graph G if it spans G (that is, it includes every vertex of G) and is a subgraph of G (every edge in the tree belongs to G). – wikipedia\nFor example, there is a spanning tree of a graph. These nodes in green is leaf node. So it is easy to know that if we remove a leaf node, the graph won’t be affect. The rest of the graph (and the spanning tree) are still connected.\nSo the answer is here.\nHow to generate a spanning tree There are multiple ways to generate a spanning three of a undirected graph. The most famous algorithm is prim, which will generate a MST(minimum spanning tree) with O(n**2) time complexity.\nHowever, MST is not needed in this scenario, because an arbitrary spanning tree is enough to find one of the leaf nodes.\nDepth first search (a.k.a DFS) is one of the simplest way to generate the spanning tree. We just start from arbitrary node of the graph, and search through the graph until it comes to a dead-end – the leaf node. Then print the answer.\nProblem solved.\nShow me the code class Solution { public: int least_important_city(vector\u003cvector\u003cint\u003e \u003e g) { if (g.size() == 0) { return -1; } int n = g.size(); vector\u003cbool\u003e visit; visit.resize(n); fill(visit.begin(), visit.end(), false); int now = 0; while (true) { bool flag = false; visit[now] = true; for (auto iter = g[now].begin(); iter != g[now].end(); ++iter) { int next = *iter; if (!visit[next]) { now = next; flag = true; break; } } if (!flag) { break; } } return now; } }; ","wordCount":"396","inLanguage":"zh-cn","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"wizmann"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wizmann.top/posts/world-at-war/"},"publisher":{"@type":"Organization","name":"Maerlyn's Rainbow","logo":{"@type":"ImageObject","url":"https://wizmann.top/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wizmann.top/ accesskey=h title="Maerlyn's Rainbow (Alt + H)">Maerlyn's Rainbow</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent"></h1><div class=post-meta>wizmann</div></header><div class=post-content><p>Date: 2014-06-12 17:42:51
Title: A simple problem - World at War
Tags: algorithm, interview, graph
Slug: world-at-war</p><h2 id=background>Background<a hidden class=anchor aria-hidden=true href=#background>#</a></h2><blockquote><p>This problem is from the book &ldquo;<a href=http://book.douban.com/subject/19952400/>Algorithm 4th edition</a>&rdquo; (Exersise 4.1.10)</p></blockquote><p>There are N cities and M undirected roads between those cities. People can travel to any city along the roads.</p><p>One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected.</p><p>If there are multiple answers, print any one of them. If there&rsquo;s no that kind of city, print -1.</p><p><img alt=world-at-war loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-tk-pic/blog-world-at-war.png></p><h2 id=the-spanning-tree-of-a-graph>The spanning tree of a graph<a hidden class=anchor aria-hidden=true href=#the-spanning-tree-of-a-graph>#</a></h2><blockquote><p>It is a spanning tree of a graph G if it spans G (that is, it includes every vertex of G) and is a subgraph of G (every edge in the tree belongs to G).
&ndash; wikipedia</p></blockquote><p><img alt=spanning-tree loading=lazy src=https://github.com/Wizmann/assets/raw/master/wizmann-tk-pic/blog-spanning-tree.png></p><p>For example, there is a spanning tree of a graph. These nodes in green is leaf node. So it is easy to know that if we remove a leaf node, the graph won&rsquo;t be affect. The rest of the graph (and the spanning tree) are still connected.</p><p>So the answer is here.</p><h2 id=how-to-generate-a-spanning-tree>How to generate a spanning tree<a hidden class=anchor aria-hidden=true href=#how-to-generate-a-spanning-tree>#</a></h2><p>There are multiple ways to generate a spanning three of a undirected graph. The most famous algorithm is <strong>prim</strong>, which will generate a MST(minimum spanning tree) with O(n**2) time complexity.</p><p>However, MST is not needed in this scenario, because an arbitrary spanning tree is enough to find one of the leaf nodes.</p><p>Depth first search (a.k.a DFS) is one of the simplest way to generate the spanning tree. We just start from arbitrary node of the graph, and search through the graph until it comes to a dead-end &ndash; the leaf node. Then print the answer.</p><p>Problem solved.</p><h2 id=show-me-the-code>Show me the code<a hidden class=anchor aria-hidden=true href=#show-me-the-code>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> least_important_city(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>&gt;</span> g) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (g.size() <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> g.size();
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span> visit;
</span></span><span style=display:flex><span>        visit.resize(n);
</span></span><span style=display:flex><span>        fill(visit.begin(), visit.end(), false);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> now <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (true) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>bool</span> flag <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            visit[now] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> iter <span style=color:#f92672>=</span> g[now].begin(); 
</span></span><span style=display:flex><span>                    iter <span style=color:#f92672>!=</span> g[now].end(); 
</span></span><span style=display:flex><span>                    <span style=color:#f92672>++</span>iter) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> next <span style=color:#f92672>=</span> <span style=color:#f92672>*</span>iter;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>visit[next]) {
</span></span><span style=display:flex><span>                    now <span style=color:#f92672>=</span> next;
</span></span><span style=display:flex><span>                    flag <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>flag) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> now;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://wizmann.top/posts/workflowymd/><span class=title>«</span><br><span></span>
</a><a class=next href=https://wizmann.top/posts/yunfile-craker/><span class=title>»</span><br><span></span></a></nav></footer><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://wizmann.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2025 <a href=https://wizmann.top/>Maerlyn's Rainbow</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>