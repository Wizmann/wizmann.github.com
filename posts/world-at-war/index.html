<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=Content-Security-Policy content="script-src 'self'; style-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'none'"><link rel=stylesheet href=/css/style.feedcd92d05c2cf19ee7487656b358ee4805f831b7b39711851199d0a6f8934cf9ba379d02425d485c5b65ae299bdffda3770739545d595074076bf3ead284ab.css media=screen integrity="sha512-/u3NktBcLPGe50h2VrNY7kgF+DG3s5cRhRGZ0Kb4k0z5ujedAkJdSFxbZa4pm9/9o3cHOVRdWVB0B2vz6tKEqw==" crossorigin=anonymous><title>A simple problem - World at War</title>
<meta name=description content="Background This problem is from the book &ldquo;Algorithm 4th edition&rdquo; (Exersise 4.1.10)
There are N cities and M undirected roads between those cities. People can travel to any city along the roads.
One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected.
"><link rel=canonical href=https://wizmann.top/posts/world-at-war/><link rel=alternate hreflang=zh-CN href=https://wizmann.top/posts/world-at-war/><link rel=alternate hreflang=x-default href=https://wizmann.top/posts/world-at-war/><meta property="og:title" content="A simple problem - World at War"><meta property="og:description" content="Background

This problem is from the book &ldquo;Algorithm 4th edition&rdquo; (Exersise 4.1.10)
There are N cities and M undirected roads between those cities. People can travel to any city along the roads.
One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected."><meta property="og:type" content="article"><meta property="og:url" content="https://wizmann.top/posts/world-at-war/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-06-12T17:42:51+00:00"><meta property="article:modified_time" content="2014-06-12T17:42:51+00:00"><meta property="og:site_name" content="Maerlyn's Rainbow"><meta name=twitter:card content="summary"><meta name=twitter:title content="A simple problem - World at War"><meta name=twitter:description content="Background

This problem is from the book &ldquo;Algorithm 4th edition&rdquo; (Exersise 4.1.10)
There are N cities and M undirected roads between those cities. People can travel to any city along the roads.
One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"A simple problem - World at War","datePublished":"2014-06-12T17:42:51+00:00","dateModified":"2014-06-12T17:42:51+00:00","mainEntityOfPage":"https://wizmann.top/","publisher":{"@type":"Organization","name":"Maerlyn's Rainbow"},"wordcount":379,"description":"Background This problem is from the book \u0026ldquo;Algorithm 4th edition\u0026rdquo; (Exersise 4.1.10)\nThere are N cities and M undirected roads between those cities. People can travel to any city along the roads.\nOne day, a war breaks out. Our cities are under attack! As we can\u0026rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected.\n","keywords":null}</script></head><body class="posts single d-flex flex-column min-vh-100"><header class=main-header><nav class="navbar navbar-expand-lg"><div class=container><a class=navbar-brand href=/>Maerlyn's Rainbow
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="menu-main navbar-nav me-auto mb-2 mb-lg-0"></ul></div></div></nav></header><div id=content><div class="container py-3"><h2 id=background>Background</h2><blockquote><p>This problem is from the book &ldquo;<a href=http://book.douban.com/subject/19952400/ target=_blank rel=noopener>Algorithm 4th edition</a>&rdquo; (Exersise 4.1.10)</p></blockquote><p>There are N cities and M undirected roads between those cities. People can travel to any city along the roads.</p><p>One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected.</p><p>If there are multiple answers, print any one of them. If there&rsquo;s no that kind of city, print -1.</p><p><img src=https://github.com/Wizmann/assets/raw/master/wizmann-tk-pic/blog-world-at-war.png alt=world-at-war></p><h2 id=the-spanning-tree-of-a-graph>The spanning tree of a graph</h2><blockquote><p>It is a spanning tree of a graph G if it spans G (that is, it includes every vertex of G) and is a subgraph of G (every edge in the tree belongs to G).
&ndash; wikipedia</p></blockquote><p><img src=https://github.com/Wizmann/assets/raw/master/wizmann-tk-pic/blog-spanning-tree.png alt=spanning-tree></p><p>For example, there is a spanning tree of a graph. These nodes in green is leaf node. So it is easy to know that if we remove a leaf node, the graph won&rsquo;t be affect. The rest of the graph (and the spanning tree) are still connected.</p><p>So the answer is here.</p><h2 id=how-to-generate-a-spanning-tree>How to generate a spanning tree</h2><p>There are multiple ways to generate a spanning three of a undirected graph. The most famous algorithm is <strong>prim</strong>, which will generate a MST(minimum spanning tree) with O(n**2) time complexity.</p><p>However, MST is not needed in this scenario, because an arbitrary spanning tree is enough to find one of the leaf nodes.</p><p>Depth first search (a.k.a DFS) is one of the simplest way to generate the spanning tree. We just start from arbitrary node of the graph, and search through the graph until it comes to a dead-end &ndash; the leaf node. Then print the answer.</p><p>Problem solved.</p><h2 id=show-me-the-code>Show me the code</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> least_important_city(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>&gt;</span> g) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (g.size() <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> g.size();
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span> visit;
</span></span><span style=display:flex><span>        visit.resize(n);
</span></span><span style=display:flex><span>        fill(visit.begin(), visit.end(), false);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> now <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (true) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>bool</span> flag <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            visit[now] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> iter <span style=color:#f92672>=</span> g[now].begin(); 
</span></span><span style=display:flex><span>                    iter <span style=color:#f92672>!=</span> g[now].end(); 
</span></span><span style=display:flex><span>                    <span style=color:#f92672>++</span>iter) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> next <span style=color:#f92672>=</span> <span style=color:#f92672>*</span>iter;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>visit[next]) {
</span></span><span style=display:flex><span>                    now <span style=color:#f92672>=</span> next;
</span></span><span style=display:flex><span>                    flag <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>flag) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> now;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></div></div><footer class="py-3 mt-auto bg-light"><div class="container py-1 my-1"><div class="d-flex flex-wrap justify-content-between align-items-center"><p class="col-md mb-0 text-muted"></p><ul class="nav col-md-auto justify-content-end"></ul></div></div></footer><script src=/js/main.min.e8d88c82c0438b527f1aca4115652ba1e2877bf805b75593b23ac0e3fe2b3fe95a467d1feef275355132ba061da6404b0d24d55afabc209b294b1db043be014d.js integrity="sha512-6NiMgsBDi1J/GspBFWUroeKHe/gFt1WTsjrA4/4rP+laRn0f7vJ1NVEyugYdpkBLDSTVWvq8IJspSx2wQ74BTQ==" crossorigin=anonymous defer></script></body></html>