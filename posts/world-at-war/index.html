<!doctype html><html lang=zh-CN dir=ltr><head><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},svg:{fontCache:"global"}}</script><script defer src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body class=notransition><div id=container><header id=main-header><div role=navigation aria-label=Main><div class=nav-left><a href=https://wizmann.top/ style=color:inherit>Maerlyn's Rainbow</a></div><div class=nav-right><div style=position:absolute;width:0;height:0><div id=nav-dropdown-menu class=hidden href=#><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div></div></div><a id=nav-dropdown-button href=#><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4 6H20M4 12H20M4 18H20" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a><div id=nav-menu><div class=nav-item><a aria-current=true class=ancestor href=/posts/>Posts</a></div></div><a id=theme-switcher href=#><svg class="light-icon" viewBox="0 0 24 24" fill="none"><path d="M12 3V4m0 16v1M4 12H3M6.31412 6.31412 5.5 5.5m12.1859.81412L18.5 5.5M6.31412 17.69 5.5 18.5001M17.6859 17.69 18.5 18.5001M21 12H20m-4 0c0 2.2091-1.7909 4-4 4-2.20914.0-4-1.7909-4-4 0-2.20914 1.79086-4 4-4 2.2091.0 4 1.79086 4 4z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><svg class="dark-icon" viewBox="0 0 24 24" fill="none"><path d="M3.32031 11.6835c0 4.9706 4.02944 9 8.99999 9 3.7872.0 7.028-2.3392 8.3565-5.6515C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834c-4.9706.0-8.99999-4.0294-8.99999-8.99998C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996 5.65605 4.66028 3.32031 7.89912 3.32031 11.6835z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></header><div class="flex grow"><div id=main-pane><main id=main-content><div class=single-header><ol class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://wizmann.top/><span itemprop=name></span>
</a><meta itemprop=position content='1'></li><span>&nbsp»&nbsp</span><li itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=https://wizmann.top/posts/><span itemprop=name>Posts</span>
</a><meta itemprop=position content='2'></li><span>&nbsp»&nbsp</span></ol><h1>A simple problem - World at War</h1><time class=dim datetime=2014-06-12T17:42:51+00:00>June 12, 2014</time><div class=term-container><div class=tag><a href=https://wizmann.top/tags/algorithm/>#algorithm</a></div><div class=tag><a href=https://wizmann.top/tags/interview/>#interview</a></div><div class=tag><a href=https://wizmann.top/tags/graph/>#graph</a></div></ol></div><section class=page-section><h2 id=background>Background</h2><blockquote><p>This problem is from the book &ldquo;<a href=http://book.douban.com/subject/19952400/>Algorithm 4th edition</a>&rdquo; (Exersise 4.1.10)</p></blockquote><p>There are N cities and M undirected roads between those cities. People can travel to any city along the roads.</p><p>One day, a war breaks out. Our cities are under attack! As we can&rsquo;t defend all these N cities, the commander wants you to find the least important city, which means that if this city fell to the enemy, the traffic among other cities would not be affected.</p><p>If there are multiple answers, print any one of them. If there&rsquo;s no that kind of city, print -1.</p><p><img src=https://github.com/Wizmann/assets/raw/master/wizmann-tk-pic/blog-world-at-war.png alt=world-at-war></p><h2 id=the-spanning-tree-of-a-graph>The spanning tree of a graph</h2><blockquote><p>It is a spanning tree of a graph G if it spans G (that is, it includes every vertex of G) and is a subgraph of G (every edge in the tree belongs to G).
&ndash; wikipedia</p></blockquote><p><img src=https://github.com/Wizmann/assets/raw/master/wizmann-tk-pic/blog-spanning-tree.png alt=spanning-tree></p><p>For example, there is a spanning tree of a graph. These nodes in green is leaf node. So it is easy to know that if we remove a leaf node, the graph won&rsquo;t be affect. The rest of the graph (and the spanning tree) are still connected.</p><p>So the answer is here.</p><h2 id=how-to-generate-a-spanning-tree>How to generate a spanning tree</h2><p>There are multiple ways to generate a spanning three of a undirected graph. The most famous algorithm is <strong>prim</strong>, which will generate a MST(minimum spanning tree) with O(n**2) time complexity.</p><p>However, MST is not needed in this scenario, because an arbitrary spanning tree is enough to find one of the leaf nodes.</p><p>Depth first search (a.k.a DFS) is one of the simplest way to generate the spanning tree. We just start from arbitrary node of the graph, and search through the graph until it comes to a dead-end &ndash; the leaf node. Then print the answer.</p><p>Problem solved.</p><h2 id=show-me-the-code>Show me the code</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> least_important_city(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>&gt;</span> g) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (g.size() <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> g.size();
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>bool</span><span style=color:#f92672>&gt;</span> visit;
</span></span><span style=display:flex><span>        visit.resize(n);
</span></span><span style=display:flex><span>        fill(visit.begin(), visit.end(), false);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> now <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (true) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>bool</span> flag <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>            visit[now] <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>auto</span> iter <span style=color:#f92672>=</span> g[now].begin(); 
</span></span><span style=display:flex><span>                    iter <span style=color:#f92672>!=</span> g[now].end(); 
</span></span><span style=display:flex><span>                    <span style=color:#f92672>++</span>iter) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> next <span style=color:#f92672>=</span> <span style=color:#f92672>*</span>iter;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>visit[next]) {
</span></span><span style=display:flex><span>                    now <span style=color:#f92672>=</span> next;
</span></span><span style=display:flex><span>                    flag <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>flag) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> now;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div></section></main><footer id=main-footer><div class=footer><a href=#></a><div class=footer-copyright><div class=dim>© 2025</div><div></div></div></div></footer></div><aside id=side-pane class=side-sticky><div class=side-details><span>379 </span><span>2 - 3</span></div><h3></h3><nav id=TableOfContents><ul><li><a href=#background>Background</a></li><li><a href=#the-spanning-tree-of-a-graph>The spanning tree of a graph</a></li><li><a href=#how-to-generate-a-spanning-tree>How to generate a spanning tree</a></li><li><a href=#show-me-the-code>Show me the code</a></li></ul></nav><h3></h3><ul><li><a href=/posts/implement-queue-with-stacks/>How to implement a queue with stack(s)?</a></li><li><a href=/posts/cf-242-div-2/>Codeforces Round #242 (Div. 2) Tutorials and Solutions</a></li><li><a href=/posts/cf-240-div-2/>Codeforces Round #240 (Div. 2) Tutorials and Solutions(incomplete and incorrect)</a></li><li><a href=/posts/cf-223-div-2/>Codeforces Round #223 (Div. 2) 不完全不正确题解</a></li><li><a href=/posts/hungary-algorithm/>匈牙利算法</a></li></ul></aside></div></div></body></html>